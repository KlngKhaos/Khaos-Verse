(this["webpackJsonpkhaos-frontend"]=this["webpackJsonpkhaos-frontend"]||[]).push([[23],{1025:function(e,t,n){"use strict";var c=n(53),r=n(4),i=(n(1),n(2)),a=n(446),o=n.n(a),s=n(0),l=["numItems"],b=function(e){return Object(s.jsxs)(i.o,Object(r.a)(Object(r.a)({},e),{},{children:[Object(s.jsx)(i.Zb,{height:"258px",mb:"8px"}),Object(s.jsx)(i.Zb,{width:"30%",mb:"4px"}),Object(s.jsx)(i.Zb,{width:"45%",mb:"16px"}),Object(s.jsx)(i.Zb,{})]}))};t.a=function(e){var t=e.numItems,n=void 0===t?12:t,a=Object(c.a)(e,l);return Object(s.jsx)(i.Z,Object(r.a)(Object(r.a)({gridGap:"16px",gridTemplateColumns:["1fr",null,null,"repeat(4, 1fr)"]},a),{},{children:o()(n).map((function(e){return Object(s.jsx)(b,{},e)}))}))}},1035:function(e,t,n){"use strict";var c,r=n(4),i=n(8),a=(n(1),n(6)),o=n(442),s=n(0),l=Object(a.e)(o.a)(c||(c=Object(i.a)(["\n  background-image: url(/images/decorations/BG.png);\n  background-position: center;\n  object-fit: cover;\n"])));t.a=function(e){return Object(s.jsx)(l,Object(r.a)({},e))}},1036:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var c,r=n(8),i=n(4),a=n(53),o=(n(1),n(6)),s=n(2),l=n(0),b=["title","stat"],j=function(e){var t=e.title,n=e.stat,c=Object(a.a)(e,b);return Object(l.jsxs)(s.o,Object(i.a)(Object(i.a)({},c),{},{children:[Object(l.jsx)(s.sc,{fontSize:"12px",color:"#D9AB3A",textAlign:"center",children:t}),null===n?Object(l.jsx)(s.Zb,{height:"24px",width:"50%",mx:"auto"}):Object(l.jsx)(s.sc,{fontWeight:"600",textAlign:"center",children:n})]}))},u=Object(o.e)(s.Y)(c||(c=Object(r.a)(["\n  align-items: center;\n  background: #000;\n  border: 1px solid #D9AB3A;\n  border-radius: ",";\n  justify-content: space-around;\n  padding: 8px;\n  width: 100%;\n"])),(function(e){return e.theme.radii.card}));t.b=u},1054:function(e,t,n){"use strict";var c,r=n(8),i=n(6).e.div.attrs((function(e){return{alt:e.alt}}))(c||(c=Object(r.a)(["\n  background: url('","');\n  background-repeat: no-repeat;\n  background-size: cover;\n  border-radius: 50%;\n  position: relative;\n  width: 96px;\n  height: 96px;\n  border: 4px "," solid;\n\n  & > img {\n    border-radius: 50%;\n  }\n"])),(function(e){return e.src}),(function(e){return e.borderColor||"#f2ecf2"}));t.a=i},1085:function(e,t,n){"use strict";var c=n(4),r=n(53),i=(n(1),n(2)),a=n(0),o=["title","description","children"];t.a=function(e){var t=e.title,n=e.description,s=e.children,l=Object(r.a)(e,o);return Object(a.jsxs)(i.Z,Object(c.a)(Object(c.a)({gridGap:"16px",alignItems:"center",gridTemplateColumns:["1fr",null,null,null,"repeat(2, 1fr)"]},l),{},{children:[Object(a.jsxs)(i.o,{children:[Object(a.jsx)(i.ab,{as:"h1",scale:"xl",color:"secondary",mb:"16px",children:t}),n]}),Object(a.jsx)(i.o,{children:s})]}))}},1088:function(e,t,n){"use strict";var c,r=n(8),i=n(2),a=n(6),o=Object(a.e)(i.jc)(c||(c=Object(r.a)(["\n  background-color: transparent;\n  border-bottom: 1px "," solid;\n"])),(function(e){return e.theme.colors.cardBorder}));t.a=o},1092:function(e,t,n){"use strict";var c,r=n(4),i=n(53),a=(n(1),n(2)),o=n(8),s=n(6).e.div.attrs((function(e){return{alt:e.alt}}))(c||(c=Object(o.a)(["\n  ",";\n  background-image: url('","');\n  background-size: cover;\n  background-position: center;\n  background-repeat: no-repeat;\n  flex: none;\n  width: 100%;\n  border-radius: 32px;\n  height: 123px;\n\n  "," {\n    height: 192px;\n  }\n\n  "," {\n    height: 256px;\n  }\n"])),(function(e){var t=e.src,n=e.theme;return t?"background-image: url('".concat(t,"')"):"background-color: ".concat(n.colors.cardBorder)}),(function(e){return e.src}),(function(e){return e.theme.mediaQueries.sm}),(function(e){return e.theme.mediaQueries.md})),l=n(0),b=["bannerImage","bannerAlt","avatar","children"];t.a=function(e){var t=e.bannerImage,n=e.bannerAlt,c=e.avatar,o=e.children,j=Object(i.a)(e,b);return Object(l.jsx)(a.Y,Object(r.a)(Object(r.a)({flexDirection:"column",mb:"24px"},j),{},{children:Object(l.jsxs)(a.o,{position:"relative",pb:"56px",children:[Object(l.jsx)(s,{src:t,alt:n}),Object(l.jsx)(a.o,{position:"absolute",bottom:0,left:-4,children:Object(l.jsxs)(a.Y,{alignItems:"flex-end",children:[c,o]})})]})}))}},1131:function(e,t,n){"use strict";var c,r=n(4),i=n(53),a=n(8),o=(n(1),n(2)),s=n(6),l=n(0),b=["icon","title","subtitle","isDisabled"],j=Object(s.e)(o.sc)(c||(c=Object(a.a)(["\n  border: 2px solid ",";\n  border-radius: 16px;\n"])),(function(e){return e.theme.colors.tertiary}));j.defaultProps={p:"24px"};t.a=function(e){var t=e.icon,n=e.title,c=e.subtitle,a=e.isDisabled,s=void 0!==a&&a,u=Object(i.a)(e,b);return Object(l.jsx)(j,Object(r.a)(Object(r.a)({},u),{},{children:Object(l.jsxs)(o.Y,{alignItems:"start",children:[Object(l.jsx)(t,{width:"44px",mr:"24px",color:s?"textDisabled":"currentColor"}),Object(l.jsxs)("div",{children:[Object(l.jsx)(o.ab,{as:"h3",scale:"xl",color:s?"textDisabled":"text",children:n}),Object(l.jsx)(o.sc,{textTransform:"uppercase",color:s?"textDisabled":"textSubtle",fontSize:"12px",bold:!0,children:c})]})]})}))}},1132:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var c=n(981),r=function(e){e instanceof Error?c.a(e):c.a(function(e){if("string"===typeof e)return new Error(e);if("object"===typeof e){var t,n=new Error(null!==(t=null===e||void 0===e?void 0:e.message)&&void 0!==t?t:String(e));return(null===e||void 0===e?void 0:e.stack)&&(n.stack=e.stack),(null===e||void 0===e?void 0:e.code)&&(n.name=e.code),n}return e}(e),e),console.error(e)}},1202:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var c=n(3),r=n.n(c),i=n(4),a=n(10),o=n(77),s=n(105),l=n(148),b=function(){var e=Object(a.a)(r.a.mark((function e(t){var n,c,a,b;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.some((function(e){return e.nft.collection.id.toLowerCase()===l.a.toLowerCase()}))){e.next=5;break}return e.next=4,Object(o.x)(l.a);case 4:n=e.sent;case 5:return c=t.filter((function(e){return e.nft.collection.id.toLowerCase()===l.a.toLowerCase()})).map((function(e){var t=n.data[e.nft.otherId].collection.name;return Object(i.a)(Object(i.a)({},n.data[e.nft.otherId]),{},{tokenId:e.nft.tokenId,attributes:[{traitType:"bunnyId",value:e.nft.otherId}],collectionAddress:e.nft.collection.id,collectionName:t})})),a=Object(s.uniqBy)(t.filter((function(e){return e.nft.collection.id.toLowerCase()!==l.a.toLowerCase()})).map((function(e){return{tokenId:e.nft.tokenId,collectionAddress:e.nft.collection.id}})),"tokenId"),e.next=9,Object(o.y)(a);case 9:return b=e.sent,e.abrupt("return",b.concat(c));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},1729:function(e,t,n){"use strict";n.r(t);var c,r,i,a,o,s,l,b,j,u,d,O,f,x,h,p=n(1),m=n(50),v=n(85),g=n(42),k=n(2),y=n(225),w=n(14),A=n(8),I=n(6),L=n(226),C=n(984),S=n(148),P=n(28),E=n(79),F=n(480),D=n(80),N=n(36),Y=n(1069),T=n(1035),B=n(9),Q=n(102),Z=n(39),z=n(186),H=n(1054),G=n(1091),M=n(0),U=I.e.div(c||(c=Object(A.a)(["\n  background: rgba(0, 0, 0, 0.6) url('/images/camera.svg') no-repeat center center;\n  border-radius: 50%;\n  left: 0;\n  height: 100%;\n  opacity: 0;\n  position: absolute;\n  top: 0;\n  transition: opacity 300ms;\n  width: 100%;\n  z-index: 1;\n"]))),W=I.e.div(r||(r=Object(A.a)(["\n  position: relative;\n\n  &:hover {\n    cursor: pointer;\n\n    "," {\n      opacity: 1;\n    }\n  }\n"])),U),$=function(e){var t=e.src,n=e.alt,c=Object(k.Pc)(Object(M.jsx)(G.a,{}),!1),r=Object(B.a)(c,1)[0];return Object(M.jsxs)(W,{onClick:r,children:[Object(M.jsx)(H.a,{src:t,alt:n}),Object(M.jsx)(U,{})]})},R=n(1092),q=n(1036),J=n(1085),X=Object(I.e)(k.db)(i||(i=Object(A.a)(["\n  width: fit-content;\n"]))),_=function(e){var t,n,c=e.accountPath,r=e.profile,i=e.achievements,a=e.nftCollected,o=e.isAchievementsLoading,s=e.isNftLoading,l=e.isProfileLoading,b=Object(w.b)().t,j=Object(m.c)().account,u=Object(k.Pc)(Object(M.jsx)(G.a,{}),!1),d=Object(B.a)(u,1)[0],O=(null===j||void 0===j?void 0:j.toLowerCase())===(null===c||void 0===c?void 0:c.toLowerCase()),f=s?null:a?Object(Z.c)(a,0,0):"-",x=l?null:(null===r||void 0===r?void 0:r.points)?Object(Z.c)(r.points,0,0):"-",h=o?null:(null===i||void 0===i?void 0:i.length)?Object(Z.c)(i.length,0,0):"-",p=(null===r||void 0===r||null===(t=r.nft)||void 0===t||null===(n=t.image)||void 0===n?void 0:n.thumbnail)||"/images/nfts/no-profile-md.png";return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(R.a,{bannerImage:function(){var e="/images/teams";if(r)switch(r.teamId){case 1:return"".concat(e,"/hermes-banner.png");case 2:return"".concat(e,"/flamma-banner.png");case 3:return"".concat(e,"/spartacus-banner.png")}return"".concat(e,"/no-team-banner.png")}(),bannerAlt:b("User team banner"),avatar:Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(M.Fragment,{children:r&&c&&O?Object(M.jsx)($,{src:p,alt:b("User profile picture")}):Object(M.jsx)(H.a,{src:p,alt:b("User profile picture")})}),Object(M.jsx)(k.Y,{display:"inline-flex",children:c&&Object(M.jsx)(X,{target:"_blank",as:"a",href:Object(g.e)(c,"address"),children:Object(M.jsx)(k.q,{width:"20px",color:"primary"})})})]})}),Object(M.jsx)(J.a,{pb:"48px",title:(null===r||void 0===r?void 0:r.username)?"@".concat(r.username):c?Object(z.a)(c,5,3):null,description:Object(M.jsxs)(k.Y,{flexDirection:"column",mb:[16,null,0],mr:[0,null,16],children:[c&&(null===r||void 0===r?void 0:r.username)&&Object(M.jsx)(k.lb,{href:Object(g.e)(c,"address"),external:!0,bold:!0,color:"primary",children:Object(z.a)(c)}),c&&O&&(!r||!(null===r||void 0===r?void 0:r.nft))&&(r?Object(M.jsx)(k.s,{width:"fit-content",mt:"16px",onClick:d,children:b("Reactivate Profile")}):Object(M.jsx)(Q.a,{to:"/create-profile",children:Object(M.jsx)(k.s,{mt:"16px",children:b("Activate Profile")})}))]}),children:Object(M.jsxs)(q.b,{children:[Object(M.jsx)(q.a,{title:b("NFT Collected"),stat:f}),Object(M.jsx)(q.a,{title:b("Points"),stat:x}),Object(M.jsx)(q.a,{title:b("Achievements"),stat:h})]})})]})},K=I.e.button(a||(a=Object(A.a)(["\n  display: inline-flex;\n  justify-content: center;\n  cursor: pointer;\n  color: ",";\n  border-width: ",";\n  border-style: solid solid none solid;\n  border-color: ",";\n  outline: 0;\n  padding: 12px 16px;\n  border-radius: 16px 16px 0 0;\n  font-size: 16px;\n  font-weight: ",";\n  background-color: ",";\n  transition: background-color 0.3s ease-out;\n"])),(function(e){var t=e.theme;return e.$active?t.colors.secondary:t.colors.textSubtle}),(function(e){return e.$active?"1px 1px 0 1px":"0"}),(function(e){e.theme;return"#D9AB3A #D9AB3A transparent #D9AB3A"}),(function(e){return e.$active?"600":"400"}),(function(e){e.theme;return e.$active?"#000":"transparent"})),V=function(){var e=Object(w.b)().t,t=Object(v.i)().accountAddress,n=Object(v.h)().pathname,c=Object(p.useState)(n.includes("achievements")),r=Object(B.a)(c,2),i=r[0],a=r[1];return Object(p.useEffect)((function(){a(n.includes("achievements"))}),[n]),Object(M.jsxs)(k.Y,{children:[Object(M.jsx)(K,{onClick:function(){return a(!1)},$active:!i,as:Q.a,to:"".concat(S.b,"/profile/").concat(t),children:"NFTs"}),Object(M.jsx)(K,{onClick:function(){return a(!0)},$active:i,as:Q.a,to:"".concat(S.b,"/profile/").concat(t,"/achievements"),children:e("Achievements")})]})},ee=n(1131),te=n(4),ne=n(53),ce=["badge"],re=Object(I.e)(k.r)(o||(o=Object(A.a)(["\n  height: 48px;\n  width: 48px;\n\n  "," {\n    height: 64px;\n    width: 64px;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),ie=I.e.img(s||(s=Object(A.a)(["\n  height: 48px;\n  width: 48px;\n\n  "," {\n    height: 64px;\n    width: 64px;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),ae=function(e){var t=e.badge,n=Object(ne.a)(e,ce);return t?Object(M.jsx)(ie,Object(te.a)({src:"/images/achievements/".concat(t),alt:"achievement badge"},n)):Object(M.jsx)(re,{})},oe=["title"],se=function(e){var t=e.title,n=Object(ne.a)(e,oe),c=Object(w.b)().t;if("string"===typeof t)return Object(M.jsx)(k.sc,Object(te.a)(Object(te.a)({bold:!0},n),{},{children:t}));var r=t.key,i=t.data,a=void 0===i?{}:i;return Object(M.jsx)(k.sc,Object(te.a)(Object(te.a)({bold:!0},n),{},{children:c(r,a)}))},le=["description"],be=Object(I.e)(k.sc).attrs({as:"p",fontSize:"14px"})(l||(l=Object(A.a)(["\n  display: none;\n\n  "," {\n    display: block;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),je=function(e){var t=e.description,n=Object(ne.a)(e,le),c=Object(w.b)().t;if(!t)return null;if("string"===typeof t)return Object(M.jsx)(k.sc,Object(te.a)(Object(te.a)({as:"p",color:"textSubtle",fontSize:"14px"},n),{},{children:t}));var r=t.key,i=t.data,a=void 0===i?{}:i;return Object(M.jsx)(be,Object(te.a)(Object(te.a)({color:"textSubtle"},n),{},{children:c(r,a)}))},ue=Object(I.e)(k.Y)(b||(b=Object(A.a)(["\n  flex: 1;\n  flex-direction: column;\n  justify-content: center;\n  padding-left: 8px;\n  padding-right: 8px;\n"]))),de=function(e){var t=e.achievement;return Object(M.jsxs)(k.Y,{children:[Object(M.jsx)(ae,{badge:t.badge}),Object(M.jsxs)(ue,{children:[Object(M.jsx)(se,{title:t.title}),Object(M.jsx)(je,{description:t.description})]}),Object(M.jsxs)(k.Y,{alignItems:"center",children:[Object(M.jsx)(k.Qb,{width:"18px",color:"textSubtle",mr:"4px"}),Object(M.jsx)(k.sc,{color:"textSubtle",children:t.points.toLocaleString()})]})]})},Oe=I.e.div(j||(j=Object(A.a)(["\n  display: grid;\n  grid-gap: 16px;\n  grid-template-columns: 1fr;\n\n  "," {\n    grid-template-columns: repeat(2, 1fr);\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),fe=function(e){var t=e.achievements,n=e.isLoading,c=Object(w.b)().t,r=Object(k.Oc)().isMobile;return n?r?Object(M.jsx)(k.Zb,{width:"100%",height:"64px"}):Object(M.jsx)(k.Zb,{width:"540px",height:"64px"}):Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(Oe,{children:t.map((function(e){return Object(M.jsx)(de,{achievement:e},e.id)}))}),0===t.length&&Object(M.jsx)(k.Y,{alignItems:"center",justifyContent:"center",style:{height:"64px"},children:Object(M.jsx)(k.ab,{as:"h5",scale:"md",color:"textDisabled",children:c("No achievements yet!")})})]})},xe=n(3),he=n.n(xe),pe=n(10),me=n(105),ve=n(190),ge=n(415),ke=n(111),ye=n(48),we=n(149),Ae=n(114),Ie=n(1132),Le=["points"],Ce=function(e){var t=e.points,n=Object(ne.a)(e,Le),c=Object(w.b)().t,r=t.toLocaleString();return Object(M.jsxs)(k.Y,Object(te.a)(Object(te.a)({alignItems:"center"},n),{},{children:[Object(M.jsx)(k.Qb,{mr:"4px",color:"textSubtle"}),Object(M.jsx)(k.sc,{color:"textSubtle",children:c("%num% points",{num:r})})]}))},Se=I.e.div(u||(u=Object(A.a)(["\n  flex: none;\n  width: 100%;\n\n  "," {\n    max-width: 160px;\n\n    & > button {\n      width: 100%;\n    }\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),Pe=Object(I.e)(k.Y)(d||(d=Object(A.a)(["\n  border-bottom: 1px solid ",";\n  padding-bottom: 16px;\n  padding-top: 16px;\n"])),(function(e){return e.theme.colors.cardBorder})),Ee=I.e.div(O||(O=Object(A.a)(["\n  flex: 1;\n"]))),Fe=Object(I.e)(k.Y)(f||(f=Object(A.a)(["\n  flex-direction: column;\n  flex: 1;\n  margin-left: 8px;\n\n  "," {\n    align-items: center;\n    flex-direction: row;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),De=function(e){var t=e.achievement,n=e.onCollectSuccess,c=Object(p.useState)(!1),r=Object(B.a)(c,2),i=r[0],a=r[1],o=Object(w.b)().t,s=Object(ye.v)(),l=Object(ke.a)(),b=l.toastError,j=l.toastSuccess,u=Object(we.a)().callWithGasPrice,d=function(){var e=Object(pe.a)(he.a.mark((function e(){var c,r;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u(s,"getPoints",[t.address]);case 3:return c=e.sent,j("".concat(o("Transaction Submitted"),"!"),Object(M.jsx)(Ae.b,{txHash:c.hash})),a(!0),e.next=8,c.wait();case 8:(r=e.sent).status?(n(t),j(o("Points Collected!"),Object(M.jsx)(Ae.b,{txHash:r.transactionHash}))):b(o("Error"),o("Please try again. Confirm the transaction and make sure you are paying enough gas!")),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),Object(Ie.a)(e.t0),b(o("Error"),o("Please try again. Confirm the transaction and make sure you are paying enough gas!"));case 16:return e.prev=16,a(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[0,12,16,19]])})));return function(){return e.apply(this,arguments)}}();return Object(M.jsxs)(Pe,{children:[Object(M.jsx)(ae,{badge:t.badge}),Object(M.jsxs)(Fe,{children:[Object(M.jsxs)(Ee,{children:[Object(M.jsx)(se,{title:t.title}),Object(M.jsx)(je,{description:t.description})]}),Object(M.jsx)(Ce,{points:t.points,px:[0,null,null,"32px"],mb:["16px",null,null,0]}),Object(M.jsx)(Se,{children:Object(M.jsx)(k.s,{onClick:d,isLoading:i,endIcon:i?Object(M.jsx)(k.i,{spin:!0,color:"currentColor"}):null,disabled:i,variant:"secondary",children:o("Collect")})})]})]})},Ne=function(){var e=Object(p.useState)([]),t=Object(B.a)(e,2),n=t[0],c=t[1],r=Object(w.b)().t,i=Object(E.b)(),a=Object(L.d)().profile,o=Object(m.c)().account;Object(p.useEffect)((function(){o&&function(){var e=Object(pe.a)(he.a.mark((function e(){var t;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ge.c)(o);case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[o,i,c]);var s=function(e){i(Object(F.a)(e)),i(Object(ve.a)(e.points)),c((function(t){return t.filter((function(t){return t.id!==e.id}))}))};if(!(null===a||void 0===a?void 0:a.isActive))return null;if(0===n.length)return null;var l=Object(me.sumBy)(n,"points");return Object(M.jsxs)(k.x,{isActive:!0,mb:"32px",children:[Object(M.jsx)(k.A,{children:Object(M.jsx)(k.Y,{flexDirection:["column",null,"row"],justifyContent:["start",null,"space-between"],children:Object(M.jsxs)(k.Y,{alignItems:"center",mb:["16px",null,0],children:[Object(M.jsx)(k.Qb,{width:"32px",mr:"8px"}),Object(M.jsx)(k.ab,{scale:"lg",children:r("%num% Points to Collect",{num:l})})]})})}),Object(M.jsx)(k.y,{children:n.map((function(e){return Object(M.jsx)(De,{achievement:e,onCollectSuccess:s},e.address)}))})]})},Ye=function(e){var t=e.achievements,n=e.isLoading,c=e.points,r=void 0===c?0:c,i=Object(w.b)().t;return Object(M.jsx)(k.x,{children:Object(M.jsxs)(k.y,{children:[Object(M.jsx)(ee.a,{icon:k.Qb,title:r,subtitle:i("Points"),mb:"24px"}),Object(M.jsx)(k.ab,{as:"h4",scale:"md",mb:"16px",children:i("Achievements")}),Object(M.jsx)(Ne,{}),Object(M.jsx)(fe,{achievements:t,isLoading:n})]})})},Te=n(300),Be=n(77),Qe=n(1119),Ze=n(261),ze=n(103),He=n(33),Ge=n(61),Me=function(e,t){var n=t.askOrderHistory,c=t.buyTradeHistory,r=t.sellTradeHistory,i=function(t){return t.map((function(t){var n=t.seller.id===e.toLowerCase(),c=n?D.b.SELL:D.b.BUY,r=t.timestamp,i=t.nft;return{marketEvent:c,price:t.askPrice,otherParty:n?t.buyer.id:t.seller.id,timestamp:r,nft:i,tx:t.id}}))},a=[].concat(Object(He.a)(n.map((function(e){var t=function(e){switch(e){case D.a.CANCEL:return D.b.CANCEL;case D.a.MODIFY:return D.b.MODIFY;case D.a.NEW:return D.b.NEW;default:return D.b.MODIFY}}(e.orderType),n=e.timestamp,c=e.nft;return{marketEvent:t,price:e.askPrice,timestamp:n,nft:c,tx:e.id}}))),Object(He.a)(i(c)),Object(He.a)(i(r)));return a.length>0?a.sort((function(e,t){var n=Ge.a.BigNumber.from(e.timestamp);return Ge.a.BigNumber.from(t.timestamp).sub(n).toNumber()})):[]},Ue=n(1037),We=n(1086),$e=n(1121),Re=n(1202),qe=function(){var e=Object(m.c)().account,t=Object(E.b)(),n=Object(v.i)().accountAddress,c=Object(ze.a)().theme,r=Object(w.b)().t,i=Object(p.useState)(1),a=Object(B.a)(i,2),o=a[0],s=a[1],l=Object(p.useState)(1),b=Object(B.a)(l,2),j=b[0],u=b[1],d=Object(p.useState)([]),O=Object(B.a)(d,2),f=O[0],x=O[1],h=Object(p.useState)([]),y=Object(B.a)(h,2),A=y[0],I=y[1],L=Object(p.useState)([]),S=Object(B.a)(L,2),P=S[0],F=S[1],N=Object(p.useState)(!0),Y=Object(B.a)(N,2),T=Y[0],Q=Y[1],Z=Object(C.o)().activity,z=Object(Ze.a)(),H=Object(k.Oc)(),G=H.isXs,U=H.isSm;return Object(p.useEffect)((function(){e&&Z.initializationState===D.e.INITIALIZED&&(!(!n||!Object(g.j)(n))&&e.toLowerCase()!==n.toLocaleLowerCase()||(F(Me(e,Z)),Q(!1)))}),[e,Z,n]),Object(p.useEffect)((function(){var c=function(){var e=Object(pe.a)(he.a.mark((function e(){var t;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Be.E)(n.toLocaleLowerCase());case 3:t=e.sent,F(Me(n,t)),Q(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Failed to fetch address activity",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e?!(!n||!Object(g.j)(n))&&e.toLowerCase()!==n.toLocaleLowerCase()?c():t(Object(Te.i)(e)):n&&Object(g.j)(n)&&c()}),[e,n,t]),Object(p.useEffect)((function(){var e=function(){var e=Object(pe.a)(he.a.mark((function e(){var t;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Re.a)(P);case 2:t=e.sent,I(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return P.length>0&&(!function(){var e=Math.ceil(P.length/8);u(e)}(),e()),function(){x([]),I([]),u(1),s(1)}}),[P]),Object(p.useEffect)((function(){P.length>0&&function(){var e=P.slice(8*(o-1),8*o);x(e)}()}),[P,o]),Object(M.jsx)(k.x,{style:{overflowX:"auto"},children:0!==P.length||0!==A.length||0!==f.length||T?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)(k.oc,{children:[Object(M.jsx)("thead",{children:Object(M.jsxs)("tr",{children:[Object(M.jsxs)(k.uc,{textAlign:["center",null,"left"],children:[" ",r("Item")]}),Object(M.jsxs)(k.uc,{textAlign:"right",children:[" ",r("Event")]}),G||U?null:Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)(k.uc,{textAlign:"right",children:[" ",r("Price")]}),Object(M.jsxs)(k.uc,{textAlign:"center",children:[" ",r("From/To")]})]}),Object(M.jsxs)(k.uc,{textAlign:"center",children:[" ",r("Date")]}),G||U?null:Object(M.jsx)(k.uc,{})]})}),Object(M.jsx)("tbody",{children:T?Object(M.jsx)(Qe.a,{}):f.map((function(e){var t=A.find((function(t){return t.tokenId===e.nft.tokenId}));return Object(M.jsx)($e.a,{activity:e,nft:t,bnbBusdPrice:z,isUserActivity:!0},"".concat(e.nft.tokenId).concat(e.timestamp))}))})]}),Object(M.jsx)(k.Y,{borderTop:"1px ".concat(c.colors.cardBorder," solid"),pt:"24px",flexDirection:"column",justifyContent:"space-between",height:"100%",children:Object(M.jsxs)(We.b,{children:[Object(M.jsx)(We.a,{onClick:function(){s(1===o?o:o-1)},children:Object(M.jsx)(k.c,{color:1===o?"textDisabled":"primary"})}),Object(M.jsx)(k.sc,{children:r("Page %page% of %maxPage%",{page:o,maxPage:j})}),Object(M.jsx)(We.a,{onClick:function(){s(o===j?o:o+1)},children:Object(M.jsx)(k.f,{color:o===j?"textDisabled":"primary"})})]})})]}):Object(M.jsxs)(k.Y,{p:"24px",flexDirection:"column",alignItems:"center",children:[Object(M.jsx)(Ue.a,{}),Object(M.jsx)(k.sc,{pt:"8px",bold:!0,children:r("No NFT market history found")})]})})},Je=n(1088),Xe=function(){var e=Object(w.b)().t,t=Object(v.i)().accountAddress,n=Object(v.h)().pathname,c=[{label:e("Items"),href:"".concat(S.b,"/profile/").concat(t)},{label:e("Activity"),href:"".concat(S.b,"/profile/").concat(t,"/activity")}];return Object(M.jsx)(Je.a,{items:c,activeItem:n,justifyContent:"flex-start",mb:"60px"})},_e=n(1026),Ke=n(1025),Ve=n(1203),et=n(1040),tt=function(){var e=Object(C.o)(),t=e.nfts,n=e.userNftsInitializationState,c=Object(p.useState)({nft:null,location:null}),r=Object(B.a)(c,2),i=r[0],a=r[1],o=Object(p.useState)({nft:null,location:null,variant:null}),s=Object(B.a)(o,2),l=s[0],b=s[1],j=Object(k.Pc)(Object(M.jsx)(Ve.a,{nft:i.nft})),u=Object(B.a)(j,1)[0],d=Object(k.Pc)(Object(M.jsx)(et.a,{variant:l.variant,nftToSell:l.nft})),O=Object(B.a)(d,1)[0],f=Object(w.b)().t;return Object(p.useEffect)((function(){i.nft&&u()}),[i]),Object(p.useEffect)((function(){l.nft&&O()}),[l]),Object(M.jsx)(M.Fragment,{children:0===t.length&&n===D.e.INITIALIZED?Object(M.jsxs)(k.Y,{p:"24px",flexDirection:"column",alignItems:"center",children:[Object(M.jsx)(Ue.a,{}),Object(M.jsx)(k.sc,{pt:"8px",bold:!0,children:f("No NFTs found")})]}):t.length>0?Object(M.jsx)(k.Z,{gridGap:"16px",gridTemplateColumns:["1fr","repeat(2, 1fr)","repeat(3, 1fr)",null,"repeat(4, 1fr)"],alignItems:"start",children:t.map((function(e){var t=e.marketData,n=e.location;return Object(M.jsx)(_e.a,{isUserNft:!0,onClick:function(){return function(e,t){switch(t){case D.d.PROFILE:a({nft:e,location:t});break;case D.d.WALLET:b({nft:e,location:t,variant:"sell"});break;case D.d.FORSALE:b({nft:e,location:t,variant:"edit"})}}(e,n)},nft:e,currentAskPrice:(null===t||void 0===t?void 0:t.currentAskPrice)&&(null===t||void 0===t?void 0:t.isTradable)&&parseFloat(t.currentAskPrice),nftLocation:n},"".concat(e.tokenId,"-").concat(e.collectionName))}))}):Object(M.jsx)(Ke.a,{})})},nt=Object(I.e)(k.o)(x||(x=Object(A.a)(["\n  position: absolute;\n  bottom: 0;\n  left: 50%;\n  transform: translate(-50%, 0%);\n\n  "," {\n    left: auto;\n    transform: none;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),ct=function(){var e=Object(L.d)(),t=e.profile,n=e.isLoading,c=Object(P.c)((function(e){return e.achievements})),r=c.achievements,i=c.achievementFetchStatus,a=Object(m.c)().account,o=Object(C.o)(),s=o.userNftsInitializationState,l=o.nfts;return function(){var e=Object(m.c)().account,t=Object(E.b)();Object(p.useEffect)((function(){e&&t(Object(F.c)(e))}),[e,t])}(),Object(Y.a)(),Object(M.jsxs)(k.o,{style:{background:"linear-gradient(180deg,#000 0%,#080808 100%)"},children:[Object(M.jsxs)(T.a,{position:"relative",children:[Object(M.jsx)(_,{accountPath:a,profile:t,achievements:r,nftCollected:l.length,isProfileLoading:n,isNftLoading:s!==D.e.INITIALIZED,isAchievementsLoading:i!==N.b.Fetched}),Object(M.jsx)(nt,{children:Object(M.jsx)(V,{})})]}),Object(M.jsxs)(y.b,{style:{minHeight:"auto"},children:[Object(M.jsx)(v.b,{path:"".concat(S.b,"/profile/:accountAddress/achievements"),children:Object(M.jsx)(Ye,{achievements:r,isLoading:i!==N.b.Fetched,points:null===t||void 0===t?void 0:t.points})}),Object(M.jsxs)(v.b,{path:"".concat(S.b,"/profile/:accountAddress/activity"),children:[Object(M.jsx)(Xe,{}),Object(M.jsx)(qe,{})]}),Object(M.jsxs)(v.b,{exact:!0,path:"".concat(S.b,"/profile/:accountAddress"),children:[Object(M.jsx)(Xe,{}),Object(M.jsx)(tt,{})]})]})]})},rt=n(450),it=n.n(rt),at=function(e,t,n){var c,r=Object(p.useState)([]),i=Object(B.a)(r,2),a=i[0],o=i[1],s=Object(p.useState)(!0),l=Object(B.a)(s,2),b=l[0],j=l[1],u=Object(C.f)(),d=null===t||void 0===t?void 0:t.tokenId,O=null===t||void 0===t||null===(c=t.tokenId)||void 0===c?void 0:c.toString(),f=null===t||void 0===t?void 0:t.collectionAddress,x=Object(p.useMemo)((function(){return d?{tokenId:O,collectionAddress:f,nftLocation:D.d.PROFILE}:null}),[O,f,d]);return Object(p.useEffect)((function(){var t=function(){var t=Object(pe.a)(he.a.mark((function t(){var n;return he.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Be.p)(e,u,x);case 2:n=t.sent,o(n),j(!1);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();n||it()(u)||(j(!0),t())}),[e,u,n,x]),{nfts:a,isLoading:b}},ot=function(e){var t=e.nfts,n=e.isLoading,c=Object(w.b)().t;return Object(M.jsx)(M.Fragment,{children:0!==t.length||n?t.length>0?Object(M.jsx)(k.Z,{gridGap:"16px",gridTemplateColumns:["1fr","repeat(2, 1fr)","repeat(3, 1fr)",null,"repeat(4, 1fr)"],alignItems:"start",children:t.map((function(e){var t=e.marketData;return Object(M.jsx)(_e.b,{nft:e,currentAskPrice:(null===t||void 0===t?void 0:t.currentAskPrice)&&(null===t||void 0===t?void 0:t.isTradable)&&parseFloat(t.currentAskPrice)},"".concat(e.tokenId,"-").concat(e.collectionName))}))}):Object(M.jsx)(Ke.a,{}):Object(M.jsxs)(k.Y,{p:"24px",flexDirection:"column",alignItems:"center",children:[Object(M.jsx)(Ue.a,{}),Object(M.jsx)(k.sc,{pt:"8px",bold:!0,children:c("No NFTs found")})]})})},st=Object(I.e)(k.o)(h||(h=Object(A.a)(["\n  position: absolute;\n  bottom: 0;\n  left: 50%;\n  transform: translate(-50%, 0%);\n\n  "," {\n    left: auto;\n    transform: none;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),lt=function(){var e=Object(v.i)().accountAddress,t=Object(L.e)(e),n=t.profile,c=t.isFetching,r=(n||{}).profile,i=Object(L.a)(e),a=i.achievements,o=i.isFetching,s=at(e,r,c),l=s.nfts,b=s.isLoading;return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)(T.a,{position:"relative",children:[Object(M.jsx)(_,{accountPath:e,profile:r,achievements:a,nftCollected:l.length,isProfileLoading:c,isNftLoading:b,isAchievementsLoading:o}),Object(M.jsx)(st,{children:Object(M.jsx)(V,{})})]}),Object(M.jsxs)(y.b,{style:{minHeight:"auto"},children:[Object(M.jsx)(v.b,{path:"".concat(S.b,"/profile/:accountAddress/achievements"),children:Object(M.jsx)(Ye,{achievements:a,isLoading:o,points:null===r||void 0===r?void 0:r.points})}),Object(M.jsxs)(v.b,{path:"".concat(S.b,"/profile/:accountAddress/activity"),children:[Object(M.jsx)(Xe,{}),Object(M.jsx)(qe,{})]}),Object(M.jsxs)(v.b,{exact:!0,path:"".concat(S.b,"/profile/:accountAddress"),children:[Object(M.jsx)(Xe,{}),Object(M.jsx)(ot,{nfts:l,isLoading:b})]})]})]})};t.default=function(){var e=Object(m.c)().account,t=Object(v.i)().accountAddress,n=Object(w.b)().t,c=(null===e||void 0===e?void 0:e.toLowerCase())===(null===t||void 0===t?void 0:t.toLowerCase());return!t||!1===Object(g.j)(t)?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(T.a,{position:"relative",children:Object(M.jsx)(_,{accountPath:t,profile:null,achievements:null,nftCollected:null,isAchievementsLoading:!1,isNftLoading:!1,isProfileLoading:!1})}),Object(M.jsx)(y.b,{style:{minHeight:"auto"},children:Object(M.jsxs)(k.Y,{p:"24px",flexDirection:"column",alignItems:"center",children:[Object(M.jsx)(Ue.a,{}),Object(M.jsx)(k.sc,{textAlign:"center",maxWidth:"420px",pt:"8px",bold:!0,children:n("Please enter a valid address, or connect your wallet to view your profile")})]})})]}):Object(M.jsx)(M.Fragment,{children:c?Object(M.jsx)(ct,{}):Object(M.jsx)(lt,{})})}}}]);
//# sourceMappingURL=23.37c0b45f.chunk.js.map