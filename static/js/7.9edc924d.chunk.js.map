{"version":3,"sources":["views/Configurator/utils/constant.ts","views/Configurator/components/UI/Loader/index.tsx","components/Modal/Spacer.tsx","components/Modal/ModalActions.tsx","components/Modal/ModalInput.tsx","views/Configurator/components/THREE/Controls/index.tsx","../node_modules/three/examples/jsm/controls/OrbitControls.js","views/PoolTour3D/components/THREE/Model/index.tsx","config/constants/arenas/arenas.ts","views/MyGladiators/components/SelectArena.tsx","views/MyGladiators/components/SelectArenaModal.tsx","views/MyGladiators/components/Viewer.tsx","views/PoolTour3D/store/index.js"],"names":["ambientLightProps","intensity","cameraProps","fov","position","pointLightProps","decay","shadowMapSize","controlsProps","maxPolarAngle","Math","PI","minPolarAngle","target","maxDistance","minDistance","BackPaths","Loader","width","height","cx","cy","fill","stroke","strokeWidth","r","strokeDasharray","attributeName","type","repeatCount","dur","values","keyTimes","StyledSpacer","styled","div","props","size","Spacer","s","spacing","useContext","ThemeContext","StyledModalActions","theme","colors","primaryDark","StyledModalAction","ModalActions","children","l","React","Children","toArray","length","map","child","i","StyledTokenInput","input","isWarning","shadows","warning","inset","text","StyledInput","Input","mediaQueries","xs","sm","StyledErrorMessage","Text","ModalInput","max","symbol","onChange","onSelectMax","value","addLiquidityUrl","inputTitle","decimals","t","useTranslation","isBalanceZero","style","justifyContent","pl","fontSize","balance","balanceUnits","parseUnits","formatBigNumber","displayBalance","alignItems","pattern","inputMode","step","min","placeholder","scale","onClick","mr","color","bold","href","external","extend","OrbitControls","Controls","useThree","camera","gl","invalidate","ref","useRef","undefined","useEffect","current","update","addEventListener","args","domElement","_changeEvent","_startEvent","_endEvent","object","console","warn","document","error","touchAction","enabled","Vector3","Infinity","minZoom","maxZoom","minAzimuthAngle","maxAzimuthAngle","enableDamping","dampingFactor","enableZoom","zoomSpeed","enableRotate","rotateSpeed","enablePan","panSpeed","screenSpacePanning","keyPanSpeed","autoRotate","autoRotateSpeed","keys","LEFT","UP","RIGHT","BOTTOM","mouseButtons","MOUSE","ROTATE","MIDDLE","DOLLY","PAN","touches","ONE","TOUCH","TWO","DOLLY_PAN","target0","clone","position0","zoom0","zoom","_domElementKeyEvents","getPolarAngle","spherical","phi","getAzimuthalAngle","theta","getDistance","this","distanceTo","listenToKeyEvents","onKeyDown","saveState","scope","copy","reset","updateProjectionMatrix","dispatchEvent","state","STATE","NONE","offset","quat","Quaternion","setFromUnitVectors","up","quatInverse","invert","lastPosition","lastQuaternion","twoPI","sub","applyQuaternion","setFromVector3","rotateLeft","sphericalDelta","isFinite","makeSafe","radius","addScaledVector","panOffset","add","setFromSpherical","lookAt","multiplyScalar","set","zoomChanged","distanceToSquared","EPS","dot","quaternion","dispose","removeEventListener","onContextMenu","onPointerDown","onPointerCancel","onMouseWheel","onPointerMove","onPointerUp","TOUCH_ROTATE","TOUCH_PAN","TOUCH_DOLLY_PAN","TOUCH_DOLLY_ROTATE","Spherical","rotateStart","Vector2","rotateEnd","rotateDelta","panStart","panEnd","panDelta","dollyStart","dollyEnd","dollyDelta","pointers","pointerPositions","getZoomScale","pow","angle","rotateUp","panLeft","v","distance","objectMatrix","setFromMatrixColumn","panUp","crossVectors","pan","deltaX","deltaY","element","isPerspectiveCamera","targetDistance","tan","clientHeight","matrix","isOrthographicCamera","right","left","clientWidth","top","bottom","dollyOut","dollyScale","dollyIn","handleMouseDownRotate","event","clientX","clientY","handleMouseDownPan","handleTouchStartRotate","pageX","pageY","x","y","handleTouchStartPan","handleTouchStartDolly","dx","dy","sqrt","handleTouchMoveRotate","getSecondPointerPosition","subVectors","handleTouchMovePan","handleTouchMoveDolly","setPointerCapture","pointerId","push","addPointer","pointerType","trackPointer","DOLLY_ROTATE","onTouchStart","mouseAction","button","handleMouseDownDolly","ctrlKey","metaKey","shiftKey","onMouseDown","handleTouchMoveDollyPan","handleTouchMoveDollyRotate","onTouchMove","handleMouseMoveRotate","handleMouseMoveDolly","handleMouseMovePan","onMouseMove","removePointer","releasePointerCapture","preventDefault","handleMouseWheel","needsUpdate","code","handleKeyDown","splice","pointer","passive","EventDispatcher","Model","data","setModel","setCurName","curSpeed","nodes","animations","nft","group","actions","useState","THREE","mixer","showStatics","useStore","currentStatics","updateShowStatics","updateCurrentStatics","currentHoverModel","updateCurrentHoverModel","idle","clipAction","glTFAnimationIndex","play","forEach","clip","uncacheClip","useFrame","_","delta","positionX","positionY","positionZ","z","scaleX","glTFScale","scaleY","scaleZ","rotationX","glTFRotation","rotationY","rotationZ","setModelStatics","temp","model","isSelected","hash","rotation","glTFRootNode","Object","name","isSkinnedMesh","castShadow","geometry","material","skeleton","morphTargetDictionary","morphTargetInfluences","e","stopPropagation","onPointerOut","uuid","isMesh","Arena","terrain","factor","incentivesToBattles","imagePath","StyledBackSelector","ArenaImage","SelectArena","arenas","arena","src","alt","textAlign","NewModal","Modal","ActionButtons","SelectArenaModal","onDismiss","title","minWidth","variant","marginTop","backgroundColor","borderColor","StyledViewer","StyledCanvasWrapper","isStaticsPaneOpen","StyledArrowButton","StyledModelOptionsWrapper","StyledModelName","StyledButtonsWrapper","StyledOptionButton","Button","background","show","Viewer","setColor","curName","curBack","nftHash","useToast","toastError","toastSuccess","setShow","battleBtn","statsBtn","sellBtn","gladiatorBtns","myData","setMyData","useModal","usersGladiators","myModels","setMyModels","currentPage","setCurrentPage","history","useHistory","useLoader","GLTFLoader","glTFPath","handleShowPanel","Dome","texture","attach","side","GroundPlane","wrapS","wrapT","repeat","anisotropy","receiveShadow","getCurrentModels","slice","ButtonGroup","prev","ceil","ModelOptions","tokenId","disabled","pathname","to","enableKeys","fallback","item","index","glTFPosition","PageLoader","useCountStore","create","get","myGladiators","setMyGladiators","schoolGladiators","setSchoolGladiators","setUsersGladiators","userNftHashes","settingUserNFTHashes","schoolNftHashes","settingSchoolNFTHashes","nftHashes","settingNFTHashes","totalSupplies","setTotalSupplies"],"mappings":"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","file":"static/js/7.9edc924d.chunk.js","sourcesContent":["export const ambientLightProps = { intensity: 0.55 };\nexport const cameraProps = { fov: 20, position: [40, 0, 0] };\nexport const pixelRatio = 1;\nexport const pointLightProps = { decay: 2, position: [10, 20, 15], shadowMapSize: 512 };\n\nexport const controlsProps = { maxPolarAngle: 2 *Math.PI, minPolarAngle: 0, target: [0, 0, 0], maxDistance: 130, minDistance: 10 };\n\nexport const modelProps = { position: [0, 1, 8] };\n\nexport const groundProps = { posiiton: [0, 0, 0], rotation: [-Math.PI / 2, 0, 0] };\n\nexport const BackPaths = [\n    \"/images/gallery/arena1.jpg\",\n    \"/images/gallery/arena2.jpg\",\n    \"/images/gallery/arena3.jpg\"\n];","import React from 'react';\nimport { Html } from '@react-three/drei';\n\nconst Loader: () => JSX.Element = () => (\n  <Html>\n    <svg width='100' height='100'>\n      <circle\n        cx='50'\n        cy='50'\n        fill='none'\n        stroke='#262323'\n        strokeWidth='5'\n        r='40'\n        strokeDasharray='164.93361431346415 56.97787143782138'\n      >\n        <animateTransform\n          attributeName='transform'\n          type='rotate'\n          repeatCount='indefinite'\n          dur='1s'\n          values='0 50 50;360 50 50'\n          keyTimes='0;1'\n        />\n      </circle>\n    </svg>\n  </Html>\n);\n\nexport default Loader;\n","import React, { useContext } from 'react'\nimport styled, { ThemeContext } from 'styled-components'\n\ninterface SpacerProps {\n  size?: 'sm' | 'md' | 'lg'\n}\n\nconst Spacer: React.FC<SpacerProps> = ({ size = 'md' }) => {\n  const { spacing } = useContext(ThemeContext)\n\n  let s: number\n  switch (size) {\n    case 'lg':\n      s = spacing[6]\n      break\n    case 'sm':\n      s = spacing[2]\n      break\n    case 'md':\n    default:\n      s = spacing[4]\n  }\n\n  return <StyledSpacer size={s} />\n}\n\ninterface StyledSpacerProps {\n  size: number\n}\n\nconst StyledSpacer = styled.div<StyledSpacerProps>`\n  height: ${(props) => props.size}px;\n  width: ${(props) => props.size}px;\n`\n\nexport default Spacer\n","import React from 'react'\nimport styled from 'styled-components'\nimport Spacer from './Spacer'\n\nconst ModalActions: React.FC = ({ children }) => {\n  const l = React.Children.toArray(children).length\n  return (\n    <StyledModalActions>\n      {React.Children.map(children, (child, i) => (\n        <>\n          <StyledModalAction>{child}</StyledModalAction>\n          {i < l - 1 && <Spacer />}\n        </>\n      ))}\n    </StyledModalActions>\n  )\n}\n\nconst StyledModalActions = styled.div`\n  align-items: center;\n  background-color: ${(props) => props.theme.colors.primaryDark}00;\n  display: flex;\n  margin: 0;\n  padding: ${(props) => props.theme.spacing[4]}px 0;\n\n  @media (min-width: 320px) and (max-width: 480px) {\n    display: flex;\n    flex-direction: column !important;\n  }\n  @media (min-width: 480px) and (max-width: 786px) {\n    display: flex;\n    flex-direction: column !important;\n  }\n  @media (min-width: 786px) and (max-width: 1224px) {\n    display: flex;\n    flex-direction: column !important;\n  }\n`\n\nconst StyledModalAction = styled.div`\n  flex: 1;\n  width: 100%;\n`\n\nexport default ModalActions\n","import React from 'react'\nimport styled from 'styled-components'\nimport { Text, Button, Input, InputProps, Flex, Link } from '@pancakeswap/uikit'\nimport { useTranslation } from 'contexts/Localization'\nimport { parseUnits } from 'ethers/lib/utils'\nimport { formatBigNumber } from 'utils/formatBalance'\n\ninterface ModalInputProps {\n  max: string\n  symbol: string\n  onSelectMax?: () => void\n  onChange: (e: React.FormEvent<HTMLInputElement>) => void\n  placeholder?: string\n  value: string\n  addLiquidityUrl?: string\n  inputTitle?: string\n  decimals?: number\n}\n\nconst getBoxShadow = ({ isWarning = false, theme }) => {\n  if (isWarning) {\n    return theme.shadows.warning\n  }\n\n  return theme.shadows.inset\n}\n\nconst StyledTokenInput = styled.div<InputProps>`\n  display: flex;\n  flex-direction: column;\n  background-color: ${({ theme }) => theme.colors.input};\n  border-radius: 16px;\n  box-shadow: ${getBoxShadow};\n  color: ${({ theme }) => theme.colors.text};\n  padding: 8px 16px 8px 0;\n  width: 100%;\n`\n\nconst StyledInput = styled(Input)`\n  box-shadow: none;\n  width: 60px;\n  margin: 0 8px;\n  padding: 0 8px;\n  border: none;\n\n  ${({ theme }) => theme.mediaQueries.xs} {\n    width: 80px;\n  }\n\n  ${({ theme }) => theme.mediaQueries.sm} {\n    width: auto;\n  }\n`\n\nconst StyledErrorMessage = styled(Text)`\n  position: absolute;\n  bottom: -22px;\n  a {\n    display: inline;\n  }\n`\n\nconst ModalInput: React.FC<ModalInputProps> = ({\n  max,\n  symbol,\n  onChange,\n  onSelectMax,\n  value,\n  addLiquidityUrl,\n  inputTitle,\n  decimals = 18,\n}) => {\n  const { t } = useTranslation()\n  const isBalanceZero = max === '0' || !max\n\n  const displayBalance = (balance: string) => {\n    if (isBalanceZero) {\n      return '0'\n    }\n\n    const balanceUnits = parseUnits(balance, decimals)\n    return formatBigNumber(balanceUnits, decimals, decimals)\n  }\n\n  return (\n    <div style={{ position: 'relative' }}>\n      <StyledTokenInput isWarning={isBalanceZero}>\n        <Flex justifyContent=\"space-between\" pl=\"16px\">\n          <Text fontSize=\"14px\">{inputTitle}</Text>\n          <Text fontSize=\"14px\">{t('Balance: %balance%', { balance: displayBalance(max) })}</Text>\n        </Flex>\n        <Flex alignItems=\"flex-end\" justifyContent=\"space-around\">\n          <StyledInput\n            pattern={`^[0-9]*[.,]?[0-9]{0,${decimals}}$`}\n            inputMode=\"decimal\"\n            step=\"any\"\n            min=\"0\"\n            onChange={onChange}\n            placeholder=\"0\"\n            value={value}\n          />\n          <Button scale=\"sm\" onClick={onSelectMax} mr=\"8px\">\n            {t('Max')}\n          </Button>\n          <Text fontSize=\"16px\">{symbol}</Text>\n        </Flex>\n      </StyledTokenInput>\n      {isBalanceZero && (\n        <StyledErrorMessage fontSize=\"14px\" color=\"failure\">\n          {t('No tokens to stake')}:{' '}\n          <Link fontSize=\"14px\" bold={false} href={addLiquidityUrl} external color=\"failure\">\n            {t('Get %symbol%', { symbol })}\n          </Link>\n        </StyledErrorMessage>\n      )}\n    </div>\n  )\n}\n\nexport default ModalInput\n","import React, { useEffect, useRef } from 'react';\nimport { extend, useThree, ReactThreeFiber } from '@react-three/fiber';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls';\n\ndeclare global {\n  // eslint-disable-next-line @typescript-eslint/no-namespace\n  namespace JSX {\n    interface IntrinsicElements {\n      orbitControls: ReactThreeFiber.Object3DNode<\n        OrbitControls,\n        typeof OrbitControls\n      >;\n    }\n  }\n}\n\nextend({ OrbitControls });\n\nconst Controls: (props: any) => JSX.Element = (props) => {\n  const { camera, gl, invalidate } = useThree();\n  const ref = useRef<OrbitControls | undefined>(undefined);\n\n  useEffect(() => {\n    ref.current?.update();\n    ref.current?.addEventListener('change', invalidate);\n  });\n\n  return <orbitControls ref={ref} args={[camera, gl.domElement]} {...props} />;\n};\n\nexport default Controls;\n","import {\n\tEventDispatcher,\n\tMOUSE,\n\tQuaternion,\n\tSpherical,\n\tTOUCH,\n\tVector2,\n\tVector3\n} from 'three';\n\n// This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n//\n//    Orbit - left mouse / touch: one-finger move\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - right mouse, or left mouse + ctrl/meta/shiftKey, or arrow keys / touch: two-finger move\n\nconst _changeEvent = { type: 'change' };\nconst _startEvent = { type: 'start' };\nconst _endEvent = { type: 'end' };\n\nclass OrbitControls extends EventDispatcher {\n\n\tconstructor( object, domElement ) {\n\n\t\tsuper();\n\n\t\tif ( domElement === undefined ) console.warn( 'THREE.OrbitControls: The second parameter \"domElement\" is now mandatory.' );\n\t\tif ( domElement === document ) console.error( 'THREE.OrbitControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.' );\n\n\t\tthis.object = object;\n\t\tthis.domElement = domElement;\n\t\tthis.domElement.style.touchAction = 'none'; // disable touch scroll\n\n\t\t// Set to false to disable this control\n\t\tthis.enabled = true;\n\n\t\t// \"target\" sets the location of focus, where the object orbits around\n\t\tthis.target = new Vector3();\n\n\t\t// How far you can dolly in and out ( PerspectiveCamera only )\n\t\tthis.minDistance = 0;\n\t\tthis.maxDistance = Infinity;\n\n\t\t// How far you can zoom in and out ( OrthographicCamera only )\n\t\tthis.minZoom = 0;\n\t\tthis.maxZoom = Infinity;\n\n\t\t// How far you can orbit vertically, upper and lower limits.\n\t\t// Range is 0 to Math.PI radians.\n\t\tthis.minPolarAngle = 0; // radians\n\t\tthis.maxPolarAngle = Math.PI; // radians\n\n\t\t// How far you can orbit horizontally, upper and lower limits.\n\t\t// If set, the interval [ min, max ] must be a sub-interval of [ - 2 PI, 2 PI ], with ( max - min < 2 PI )\n\t\tthis.minAzimuthAngle = - Infinity; // radians\n\t\tthis.maxAzimuthAngle = Infinity; // radians\n\n\t\t// Set to true to enable damping (inertia)\n\t\t// If damping is enabled, you must call controls.update() in your animation loop\n\t\tthis.enableDamping = false;\n\t\tthis.dampingFactor = 0.05;\n\n\t\t// This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\n\t\t// Set to false to disable zooming\n\t\tthis.enableZoom = true;\n\t\tthis.zoomSpeed = 1.0;\n\n\t\t// Set to false to disable rotating\n\t\tthis.enableRotate = true;\n\t\tthis.rotateSpeed = 1.0;\n\n\t\t// Set to false to disable panning\n\t\tthis.enablePan = true;\n\t\tthis.panSpeed = 1.0;\n\t\tthis.screenSpacePanning = true; // if false, pan orthogonal to world-space direction camera.up\n\t\tthis.keyPanSpeed = 7.0;\t// pixels moved per arrow key push\n\n\t\t// Set to true to automatically rotate around the target\n\t\t// If auto-rotate is enabled, you must call controls.update() in your animation loop\n\t\tthis.autoRotate = false;\n\t\tthis.autoRotateSpeed = 2.0; // 30 seconds per orbit when fps is 60\n\n\t\t// The four arrow keys\n\t\tthis.keys = { LEFT: 'ArrowLeft', UP: 'ArrowUp', RIGHT: 'ArrowRight', BOTTOM: 'ArrowDown' };\n\n\t\t// Mouse buttons\n\t\tthis.mouseButtons = { LEFT: MOUSE.ROTATE, MIDDLE: MOUSE.DOLLY, RIGHT: MOUSE.PAN };\n\n\t\t// Touch fingers\n\t\tthis.touches = { ONE: TOUCH.ROTATE, TWO: TOUCH.DOLLY_PAN };\n\n\t\t// for reset\n\t\tthis.target0 = this.target.clone();\n\t\tthis.position0 = this.object.position.clone();\n\t\tthis.zoom0 = this.object.zoom;\n\n\t\t// the target DOM element for key events\n\t\tthis._domElementKeyEvents = null;\n\n\t\t//\n\t\t// public methods\n\t\t//\n\n\t\tthis.getPolarAngle = function () {\n\n\t\t\treturn spherical.phi;\n\n\t\t};\n\n\t\tthis.getAzimuthalAngle = function () {\n\n\t\t\treturn spherical.theta;\n\n\t\t};\n\n\t\tthis.getDistance = function () {\n\n\t\t\treturn this.object.position.distanceTo( this.target );\n\n\t\t};\n\n\t\tthis.listenToKeyEvents = function ( domElement ) {\n\n\t\t\tdomElement.addEventListener( 'keydown', onKeyDown );\n\t\t\tthis._domElementKeyEvents = domElement;\n\n\t\t};\n\n\t\tthis.saveState = function () {\n\n\t\t\tscope.target0.copy( scope.target );\n\t\t\tscope.position0.copy( scope.object.position );\n\t\t\tscope.zoom0 = scope.object.zoom;\n\n\t\t};\n\n\t\tthis.reset = function () {\n\n\t\t\tscope.target.copy( scope.target0 );\n\t\t\tscope.object.position.copy( scope.position0 );\n\t\t\tscope.object.zoom = scope.zoom0;\n\n\t\t\tscope.object.updateProjectionMatrix();\n\t\t\tscope.dispatchEvent( _changeEvent );\n\n\t\t\tscope.update();\n\n\t\t\tstate = STATE.NONE;\n\n\t\t};\n\n\t\t// this method is exposed, but perhaps it would be better if we can make it private...\n\t\tthis.update = function () {\n\n\t\t\tconst offset = new Vector3();\n\n\t\t\t// so camera.up is the orbit axis\n\t\t\tconst quat = new Quaternion().setFromUnitVectors( object.up, new Vector3( 0, 1, 0 ) );\n\t\t\tconst quatInverse = quat.clone().invert();\n\n\t\t\tconst lastPosition = new Vector3();\n\t\t\tconst lastQuaternion = new Quaternion();\n\n\t\t\tconst twoPI = 2 * Math.PI;\n\n\t\t\treturn function update() {\n\n\t\t\t\tconst position = scope.object.position;\n\n\t\t\t\toffset.copy( position ).sub( scope.target );\n\n\t\t\t\t// rotate offset to \"y-axis-is-up\" space\n\t\t\t\toffset.applyQuaternion( quat );\n\n\t\t\t\t// angle from z-axis around y-axis\n\t\t\t\tspherical.setFromVector3( offset );\n\n\t\t\t\tif ( scope.autoRotate && state === STATE.NONE ) {\n\n\t\t\t\t\trotateLeft( getAutoRotationAngle() );\n\n\t\t\t\t}\n\n\t\t\t\tif ( scope.enableDamping ) {\n\n\t\t\t\t\tspherical.theta += sphericalDelta.theta * scope.dampingFactor;\n\t\t\t\t\tspherical.phi += sphericalDelta.phi * scope.dampingFactor;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tspherical.theta += sphericalDelta.theta;\n\t\t\t\t\tspherical.phi += sphericalDelta.phi;\n\n\t\t\t\t}\n\n\t\t\t\t// restrict theta to be between desired limits\n\n\t\t\t\tlet min = scope.minAzimuthAngle;\n\t\t\t\tlet max = scope.maxAzimuthAngle;\n\n\t\t\t\tif ( isFinite( min ) && isFinite( max ) ) {\n\n\t\t\t\t\tif ( min < - Math.PI ) min += twoPI; else if ( min > Math.PI ) min -= twoPI;\n\n\t\t\t\t\tif ( max < - Math.PI ) max += twoPI; else if ( max > Math.PI ) max -= twoPI;\n\n\t\t\t\t\tif ( min <= max ) {\n\n\t\t\t\t\t\tspherical.theta = Math.max( min, Math.min( max, spherical.theta ) );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tspherical.theta = ( spherical.theta > ( min + max ) / 2 ) ?\n\t\t\t\t\t\t\tMath.max( min, spherical.theta ) :\n\t\t\t\t\t\t\tMath.min( max, spherical.theta );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// restrict phi to be between desired limits\n\t\t\t\tspherical.phi = Math.max( scope.minPolarAngle, Math.min( scope.maxPolarAngle, spherical.phi ) );\n\n\t\t\t\tspherical.makeSafe();\n\n\n\t\t\t\tspherical.radius *= scale;\n\n\t\t\t\t// restrict radius to be between desired limits\n\t\t\t\tspherical.radius = Math.max( scope.minDistance, Math.min( scope.maxDistance, spherical.radius ) );\n\n\t\t\t\t// move target to panned location\n\n\t\t\t\tif ( scope.enableDamping === true ) {\n\n\t\t\t\t\tscope.target.addScaledVector( panOffset, scope.dampingFactor );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tscope.target.add( panOffset );\n\n\t\t\t\t}\n\n\t\t\t\toffset.setFromSpherical( spherical );\n\n\t\t\t\t// rotate offset back to \"camera-up-vector-is-up\" space\n\t\t\t\toffset.applyQuaternion( quatInverse );\n\n\t\t\t\tposition.copy( scope.target ).add( offset );\n\n\t\t\t\tscope.object.lookAt( scope.target );\n\n\t\t\t\tif ( scope.enableDamping === true ) {\n\n\t\t\t\t\tsphericalDelta.theta *= ( 1 - scope.dampingFactor );\n\t\t\t\t\tsphericalDelta.phi *= ( 1 - scope.dampingFactor );\n\n\t\t\t\t\tpanOffset.multiplyScalar( 1 - scope.dampingFactor );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tsphericalDelta.set( 0, 0, 0 );\n\n\t\t\t\t\tpanOffset.set( 0, 0, 0 );\n\n\t\t\t\t}\n\n\t\t\t\tscale = 1;\n\n\t\t\t\t// update condition is:\n\t\t\t\t// min(camera displacement, camera rotation in radians)^2 > EPS\n\t\t\t\t// using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n\t\t\t\tif ( zoomChanged ||\n\t\t\t\t\tlastPosition.distanceToSquared( scope.object.position ) > EPS ||\n\t\t\t\t\t8 * ( 1 - lastQuaternion.dot( scope.object.quaternion ) ) > EPS ) {\n\n\t\t\t\t\tscope.dispatchEvent( _changeEvent );\n\n\t\t\t\t\tlastPosition.copy( scope.object.position );\n\t\t\t\t\tlastQuaternion.copy( scope.object.quaternion );\n\t\t\t\t\tzoomChanged = false;\n\n\t\t\t\t\treturn true;\n\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\n\t\t\t};\n\n\t\t}();\n\n\t\tthis.dispose = function () {\n\n\t\t\tscope.domElement.removeEventListener( 'contextmenu', onContextMenu );\n\n\t\t\tscope.domElement.removeEventListener( 'pointerdown', onPointerDown );\n\t\t\tscope.domElement.removeEventListener( 'pointercancel', onPointerCancel );\n\t\t\tscope.domElement.removeEventListener( 'wheel', onMouseWheel );\n\n\t\t\tscope.domElement.removeEventListener( 'pointermove', onPointerMove );\n\t\t\tscope.domElement.removeEventListener( 'pointerup', onPointerUp );\n\n\n\t\t\tif ( scope._domElementKeyEvents !== null ) {\n\n\t\t\t\tscope._domElementKeyEvents.removeEventListener( 'keydown', onKeyDown );\n\n\t\t\t}\n\n\t\t\t//scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n\n\t\t};\n\n\t\t//\n\t\t// internals\n\t\t//\n\n\t\tconst scope = this;\n\n\t\tconst STATE = {\n\t\t\tNONE: - 1,\n\t\t\tROTATE: 0,\n\t\t\tDOLLY: 1,\n\t\t\tPAN: 2,\n\t\t\tTOUCH_ROTATE: 3,\n\t\t\tTOUCH_PAN: 4,\n\t\t\tTOUCH_DOLLY_PAN: 5,\n\t\t\tTOUCH_DOLLY_ROTATE: 6\n\t\t};\n\n\t\tlet state = STATE.NONE;\n\n\t\tconst EPS = 0.000001;\n\n\t\t// current position in spherical coordinates\n\t\tconst spherical = new Spherical();\n\t\tconst sphericalDelta = new Spherical();\n\n\t\tlet scale = 1;\n\t\tconst panOffset = new Vector3();\n\t\tlet zoomChanged = false;\n\n\t\tconst rotateStart = new Vector2();\n\t\tconst rotateEnd = new Vector2();\n\t\tconst rotateDelta = new Vector2();\n\n\t\tconst panStart = new Vector2();\n\t\tconst panEnd = new Vector2();\n\t\tconst panDelta = new Vector2();\n\n\t\tconst dollyStart = new Vector2();\n\t\tconst dollyEnd = new Vector2();\n\t\tconst dollyDelta = new Vector2();\n\n\t\tconst pointers = [];\n\t\tconst pointerPositions = {};\n\n\t\tfunction getAutoRotationAngle() {\n\n\t\t\treturn 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n\n\t\t}\n\n\t\tfunction getZoomScale() {\n\n\t\t\treturn Math.pow( 0.95, scope.zoomSpeed );\n\n\t\t}\n\n\t\tfunction rotateLeft( angle ) {\n\n\t\t\tsphericalDelta.theta -= angle;\n\n\t\t}\n\n\t\tfunction rotateUp( angle ) {\n\n\t\t\tsphericalDelta.phi -= angle;\n\n\t\t}\n\n\t\tconst panLeft = function () {\n\n\t\t\tconst v = new Vector3();\n\n\t\t\treturn function panLeft( distance, objectMatrix ) {\n\n\t\t\t\tv.setFromMatrixColumn( objectMatrix, 0 ); // get X column of objectMatrix\n\t\t\t\tv.multiplyScalar( - distance );\n\n\t\t\t\tpanOffset.add( v );\n\n\t\t\t};\n\n\t\t}();\n\n\t\tconst panUp = function () {\n\n\t\t\tconst v = new Vector3();\n\n\t\t\treturn function panUp( distance, objectMatrix ) {\n\n\t\t\t\tif ( scope.screenSpacePanning === true ) {\n\n\t\t\t\t\tv.setFromMatrixColumn( objectMatrix, 1 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tv.setFromMatrixColumn( objectMatrix, 0 );\n\t\t\t\t\tv.crossVectors( scope.object.up, v );\n\n\t\t\t\t}\n\n\t\t\t\tv.multiplyScalar( distance );\n\n\t\t\t\tpanOffset.add( v );\n\n\t\t\t};\n\n\t\t}();\n\n\t\t// deltaX and deltaY are in pixels; right and down are positive\n\t\tconst pan = function () {\n\n\t\t\tconst offset = new Vector3();\n\n\t\t\treturn function pan( deltaX, deltaY ) {\n\n\t\t\t\tconst element = scope.domElement;\n\n\t\t\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\t\t\t// perspective\n\t\t\t\t\tconst position = scope.object.position;\n\t\t\t\t\toffset.copy( position ).sub( scope.target );\n\t\t\t\t\tlet targetDistance = offset.length();\n\n\t\t\t\t\t// half of the fov is center to top of screen\n\t\t\t\t\ttargetDistance *= Math.tan( ( scope.object.fov / 2 ) * Math.PI / 180.0 );\n\n\t\t\t\t\t// we use only clientHeight here so aspect ratio does not distort speed\n\t\t\t\t\tpanLeft( 2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix );\n\t\t\t\t\tpanUp( 2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix );\n\n\t\t\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\t\t\t// orthographic\n\t\t\t\t\tpanLeft( deltaX * ( scope.object.right - scope.object.left ) / scope.object.zoom / element.clientWidth, scope.object.matrix );\n\t\t\t\t\tpanUp( deltaY * ( scope.object.top - scope.object.bottom ) / scope.object.zoom / element.clientHeight, scope.object.matrix );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// camera neither orthographic nor perspective\n\t\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.' );\n\t\t\t\t\tscope.enablePan = false;\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t}();\n\n\t\tfunction dollyOut( dollyScale ) {\n\n\t\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\t\tscale /= dollyScale;\n\n\t\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom * dollyScale ) );\n\t\t\t\tscope.object.updateProjectionMatrix();\n\t\t\t\tzoomChanged = true;\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\t\t\tscope.enableZoom = false;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction dollyIn( dollyScale ) {\n\n\t\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\t\tscale *= dollyScale;\n\n\t\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom / dollyScale ) );\n\t\t\t\tscope.object.updateProjectionMatrix();\n\t\t\t\tzoomChanged = true;\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\t\t\tscope.enableZoom = false;\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\t\t// event callbacks - update the object state\n\t\t//\n\n\t\tfunction handleMouseDownRotate( event ) {\n\n\t\t\trotateStart.set( event.clientX, event.clientY );\n\n\t\t}\n\n\t\tfunction handleMouseDownDolly( event ) {\n\n\t\t\tdollyStart.set( event.clientX, event.clientY );\n\n\t\t}\n\n\t\tfunction handleMouseDownPan( event ) {\n\n\t\t\tpanStart.set( event.clientX, event.clientY );\n\n\t\t}\n\n\t\tfunction handleMouseMoveRotate( event ) {\n\n\t\t\trotateEnd.set( event.clientX, event.clientY );\n\n\t\t\trotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\n\n\t\t\tconst element = scope.domElement;\n\n\t\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\n\n\t\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\n\n\t\t\trotateStart.copy( rotateEnd );\n\n\t\t\tscope.update();\n\n\t\t}\n\n\t\tfunction handleMouseMoveDolly( event ) {\n\n\t\t\tdollyEnd.set( event.clientX, event.clientY );\n\n\t\t\tdollyDelta.subVectors( dollyEnd, dollyStart );\n\n\t\t\tif ( dollyDelta.y > 0 ) {\n\n\t\t\t\tdollyOut( getZoomScale() );\n\n\t\t\t} else if ( dollyDelta.y < 0 ) {\n\n\t\t\t\tdollyIn( getZoomScale() );\n\n\t\t\t}\n\n\t\t\tdollyStart.copy( dollyEnd );\n\n\t\t\tscope.update();\n\n\t\t}\n\n\t\tfunction handleMouseMovePan( event ) {\n\n\t\t\tpanEnd.set( event.clientX, event.clientY );\n\n\t\t\tpanDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\n\n\t\t\tpan( panDelta.x, panDelta.y );\n\n\t\t\tpanStart.copy( panEnd );\n\n\t\t\tscope.update();\n\n\t\t}\n\n\t\tfunction handleMouseUp( /*event*/ ) {\n\n\t\t\t// no-op\n\n\t\t}\n\n\t\tfunction handleMouseWheel( event ) {\n\n\t\t\tif ( event.deltaY < 0 ) {\n\n\t\t\t\tdollyIn( getZoomScale() );\n\n\t\t\t} else if ( event.deltaY > 0 ) {\n\n\t\t\t\tdollyOut( getZoomScale() );\n\n\t\t\t}\n\n\t\t\tscope.update();\n\n\t\t}\n\n\t\tfunction handleKeyDown( event ) {\n\n\t\t\tlet needsUpdate = false;\n\n\t\t\tswitch ( event.code ) {\n\n\t\t\t\tcase scope.keys.UP:\n\t\t\t\t\tpan( 0, scope.keyPanSpeed );\n\t\t\t\t\tneedsUpdate = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase scope.keys.BOTTOM:\n\t\t\t\t\tpan( 0, - scope.keyPanSpeed );\n\t\t\t\t\tneedsUpdate = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase scope.keys.LEFT:\n\t\t\t\t\tpan( scope.keyPanSpeed, 0 );\n\t\t\t\t\tneedsUpdate = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase scope.keys.RIGHT:\n\t\t\t\t\tpan( - scope.keyPanSpeed, 0 );\n\t\t\t\t\tneedsUpdate = true;\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tif ( needsUpdate ) {\n\n\t\t\t\t// prevent the browser from scrolling on cursor keys\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\tscope.update();\n\n\t\t\t}\n\n\n\t\t}\n\n\t\tfunction handleTouchStartRotate() {\n\n\t\t\tif ( pointers.length === 1 ) {\n\n\t\t\t\trotateStart.set( pointers[ 0 ].pageX, pointers[ 0 ].pageY );\n\n\t\t\t} else {\n\n\t\t\t\tconst x = 0.5 * ( pointers[ 0 ].pageX + pointers[ 1 ].pageX );\n\t\t\t\tconst y = 0.5 * ( pointers[ 0 ].pageY + pointers[ 1 ].pageY );\n\n\t\t\t\trotateStart.set( x, y );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction handleTouchStartPan() {\n\n\t\t\tif ( pointers.length === 1 ) {\n\n\t\t\t\tpanStart.set( pointers[ 0 ].pageX, pointers[ 0 ].pageY );\n\n\t\t\t} else {\n\n\t\t\t\tconst x = 0.5 * ( pointers[ 0 ].pageX + pointers[ 1 ].pageX );\n\t\t\t\tconst y = 0.5 * ( pointers[ 0 ].pageY + pointers[ 1 ].pageY );\n\n\t\t\t\tpanStart.set( x, y );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction handleTouchStartDolly() {\n\n\t\t\tconst dx = pointers[ 0 ].pageX - pointers[ 1 ].pageX;\n\t\t\tconst dy = pointers[ 0 ].pageY - pointers[ 1 ].pageY;\n\n\t\t\tconst distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\t\tdollyStart.set( 0, distance );\n\n\t\t}\n\n\t\tfunction handleTouchStartDollyPan() {\n\n\t\t\tif ( scope.enableZoom ) handleTouchStartDolly();\n\n\t\t\tif ( scope.enablePan ) handleTouchStartPan();\n\n\t\t}\n\n\t\tfunction handleTouchStartDollyRotate() {\n\n\t\t\tif ( scope.enableZoom ) handleTouchStartDolly();\n\n\t\t\tif ( scope.enableRotate ) handleTouchStartRotate();\n\n\t\t}\n\n\t\tfunction handleTouchMoveRotate( event ) {\n\n\t\t\tif ( pointers.length == 1 ) {\n\n\t\t\t\trotateEnd.set( event.pageX, event.pageY );\n\n\t\t\t} else {\n\n\t\t\t\tconst position = getSecondPointerPosition( event );\n\n\t\t\t\tconst x = 0.5 * ( event.pageX + position.x );\n\t\t\t\tconst y = 0.5 * ( event.pageY + position.y );\n\n\t\t\t\trotateEnd.set( x, y );\n\n\t\t\t}\n\n\t\t\trotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\n\n\t\t\tconst element = scope.domElement;\n\n\t\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\n\n\t\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\n\n\t\t\trotateStart.copy( rotateEnd );\n\n\t\t}\n\n\t\tfunction handleTouchMovePan( event ) {\n\n\t\t\tif ( pointers.length === 1 ) {\n\n\t\t\t\tpanEnd.set( event.pageX, event.pageY );\n\n\t\t\t} else {\n\n\t\t\t\tconst position = getSecondPointerPosition( event );\n\n\t\t\t\tconst x = 0.5 * ( event.pageX + position.x );\n\t\t\t\tconst y = 0.5 * ( event.pageY + position.y );\n\n\t\t\t\tpanEnd.set( x, y );\n\n\t\t\t}\n\n\t\t\tpanDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\n\n\t\t\tpan( panDelta.x, panDelta.y );\n\n\t\t\tpanStart.copy( panEnd );\n\n\t\t}\n\n\t\tfunction handleTouchMoveDolly( event ) {\n\n\t\t\tconst position = getSecondPointerPosition( event );\n\n\t\t\tconst dx = event.pageX - position.x;\n\t\t\tconst dy = event.pageY - position.y;\n\n\t\t\tconst distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\t\tdollyEnd.set( 0, distance );\n\n\t\t\tdollyDelta.set( 0, Math.pow( dollyEnd.y / dollyStart.y, scope.zoomSpeed ) );\n\n\t\t\tdollyOut( dollyDelta.y );\n\n\t\t\tdollyStart.copy( dollyEnd );\n\n\t\t}\n\n\t\tfunction handleTouchMoveDollyPan( event ) {\n\n\t\t\tif ( scope.enableZoom ) handleTouchMoveDolly( event );\n\n\t\t\tif ( scope.enablePan ) handleTouchMovePan( event );\n\n\t\t}\n\n\t\tfunction handleTouchMoveDollyRotate( event ) {\n\n\t\t\tif ( scope.enableZoom ) handleTouchMoveDolly( event );\n\n\t\t\tif ( scope.enableRotate ) handleTouchMoveRotate( event );\n\n\t\t}\n\n\t\tfunction handleTouchEnd( /*event*/ ) {\n\n\t\t\t// no-op\n\n\t\t}\n\n\t\t//\n\t\t// event handlers - FSM: listen for events and reset state\n\t\t//\n\n\t\tfunction onPointerDown( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tif ( pointers.length === 0 ) {\n\n\t\t\t\tscope.domElement.setPointerCapture( event.pointerId );\n\n\t\t\t\tscope.domElement.addEventListener( 'pointermove', onPointerMove );\n\t\t\t\tscope.domElement.addEventListener( 'pointerup', onPointerUp );\n\n\t\t\t}\n\n\t\t\t//\n\n\t\t\taddPointer( event );\n\n\t\t\tif ( event.pointerType === 'touch' ) {\n\n\t\t\t\tonTouchStart( event );\n\n\t\t\t} else {\n\n\t\t\t\tonMouseDown( event );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onPointerMove( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tif ( event.pointerType === 'touch' ) {\n\n\t\t\t\tonTouchMove( event );\n\n\t\t\t} else {\n\n\t\t\t\tonMouseMove( event );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onPointerUp( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tif ( event.pointerType === 'touch' ) {\n\n\t\t\t\tonTouchEnd();\n\n\t\t\t} else {\n\n\t\t\t\tonMouseUp( event );\n\n\t\t\t}\n\n\t\t\tremovePointer( event );\n\n\t\t\t//\n\n\t\t\tif ( pointers.length === 0 ) {\n\n\t\t\t\tscope.domElement.releasePointerCapture( event.pointerId );\n\n\t\t\t\tscope.domElement.removeEventListener( 'pointermove', onPointerMove );\n\t\t\t\tscope.domElement.removeEventListener( 'pointerup', onPointerUp );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onPointerCancel( event ) {\n\n\t\t\tremovePointer( event );\n\n\t\t}\n\n\t\tfunction onMouseDown( event ) {\n\n\t\t\tlet mouseAction;\n\n\t\t\tswitch ( event.button ) {\n\n\t\t\t\tcase 0:\n\n\t\t\t\t\tmouseAction = scope.mouseButtons.LEFT;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 1:\n\n\t\t\t\t\tmouseAction = scope.mouseButtons.MIDDLE;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 2:\n\n\t\t\t\t\tmouseAction = scope.mouseButtons.RIGHT;\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tmouseAction = - 1;\n\n\t\t\t}\n\n\t\t\tswitch ( mouseAction ) {\n\n\t\t\t\tcase MOUSE.DOLLY:\n\n\t\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\t\thandleMouseDownDolly( event );\n\n\t\t\t\t\tstate = STATE.DOLLY;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MOUSE.ROTATE:\n\n\t\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\t\thandleMouseDownPan( event );\n\n\t\t\t\t\t\tstate = STATE.PAN;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\t\thandleMouseDownRotate( event );\n\n\t\t\t\t\t\tstate = STATE.ROTATE;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MOUSE.PAN:\n\n\t\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\t\thandleMouseDownRotate( event );\n\n\t\t\t\t\t\tstate = STATE.ROTATE;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\t\thandleMouseDownPan( event );\n\n\t\t\t\t\t\tstate = STATE.PAN;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t}\n\n\t\t\tif ( state !== STATE.NONE ) {\n\n\t\t\t\tscope.dispatchEvent( _startEvent );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onMouseMove( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tswitch ( state ) {\n\n\t\t\t\tcase STATE.ROTATE:\n\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\thandleMouseMoveRotate( event );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase STATE.DOLLY:\n\n\t\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\t\thandleMouseMoveDolly( event );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase STATE.PAN:\n\n\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\thandleMouseMovePan( event );\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onMouseUp( event ) {\n\n\t\t\thandleMouseUp( event );\n\n\t\t\tscope.dispatchEvent( _endEvent );\n\n\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t\tfunction onMouseWheel( event ) {\n\n\t\t\tif ( scope.enabled === false || scope.enableZoom === false || ( state !== STATE.NONE && state !== STATE.ROTATE ) ) return;\n\n\t\t\tevent.preventDefault();\n\n\t\t\tscope.dispatchEvent( _startEvent );\n\n\t\t\thandleMouseWheel( event );\n\n\t\t\tscope.dispatchEvent( _endEvent );\n\n\t\t}\n\n\t\tfunction onKeyDown( event ) {\n\n\t\t\tif ( scope.enabled === false || scope.enablePan === false ) return;\n\n\t\t\thandleKeyDown( event );\n\n\t\t}\n\n\t\tfunction onTouchStart( event ) {\n\n\t\t\ttrackPointer( event );\n\n\t\t\tswitch ( pointers.length ) {\n\n\t\t\t\tcase 1:\n\n\t\t\t\t\tswitch ( scope.touches.ONE ) {\n\n\t\t\t\t\t\tcase TOUCH.ROTATE:\n\n\t\t\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\t\t\thandleTouchStartRotate();\n\n\t\t\t\t\t\t\tstate = STATE.TOUCH_ROTATE;\n\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase TOUCH.PAN:\n\n\t\t\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\t\t\thandleTouchStartPan();\n\n\t\t\t\t\t\t\tstate = STATE.TOUCH_PAN;\n\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\n\t\t\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 2:\n\n\t\t\t\t\tswitch ( scope.touches.TWO ) {\n\n\t\t\t\t\t\tcase TOUCH.DOLLY_PAN:\n\n\t\t\t\t\t\t\tif ( scope.enableZoom === false && scope.enablePan === false ) return;\n\n\t\t\t\t\t\t\thandleTouchStartDollyPan();\n\n\t\t\t\t\t\t\tstate = STATE.TOUCH_DOLLY_PAN;\n\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase TOUCH.DOLLY_ROTATE:\n\n\t\t\t\t\t\t\tif ( scope.enableZoom === false && scope.enableRotate === false ) return;\n\n\t\t\t\t\t\t\thandleTouchStartDollyRotate();\n\n\t\t\t\t\t\t\tstate = STATE.TOUCH_DOLLY_ROTATE;\n\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\n\t\t\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t}\n\n\t\t\tif ( state !== STATE.NONE ) {\n\n\t\t\t\tscope.dispatchEvent( _startEvent );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onTouchMove( event ) {\n\n\t\t\ttrackPointer( event );\n\n\t\t\tswitch ( state ) {\n\n\t\t\t\tcase STATE.TOUCH_ROTATE:\n\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\thandleTouchMoveRotate( event );\n\n\t\t\t\t\tscope.update();\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase STATE.TOUCH_PAN:\n\n\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\thandleTouchMovePan( event );\n\n\t\t\t\t\tscope.update();\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase STATE.TOUCH_DOLLY_PAN:\n\n\t\t\t\t\tif ( scope.enableZoom === false && scope.enablePan === false ) return;\n\n\t\t\t\t\thandleTouchMoveDollyPan( event );\n\n\t\t\t\t\tscope.update();\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase STATE.TOUCH_DOLLY_ROTATE:\n\n\t\t\t\t\tif ( scope.enableZoom === false && scope.enableRotate === false ) return;\n\n\t\t\t\t\thandleTouchMoveDollyRotate( event );\n\n\t\t\t\t\tscope.update();\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onTouchEnd( event ) {\n\n\t\t\thandleTouchEnd( event );\n\n\t\t\tscope.dispatchEvent( _endEvent );\n\n\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t\tfunction onContextMenu( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tevent.preventDefault();\n\n\t\t}\n\n\t\tfunction addPointer( event ) {\n\n\t\t\tpointers.push( event );\n\n\t\t}\n\n\t\tfunction removePointer( event ) {\n\n\t\t\tdelete pointerPositions[ event.pointerId ];\n\n\t\t\tfor ( let i = 0; i < pointers.length; i ++ ) {\n\n\t\t\t\tif ( pointers[ i ].pointerId == event.pointerId ) {\n\n\t\t\t\t\tpointers.splice( i, 1 );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction trackPointer( event ) {\n\n\t\t\tlet position = pointerPositions[ event.pointerId ];\n\n\t\t\tif ( position === undefined ) {\n\n\t\t\t\tposition = new Vector2();\n\t\t\t\tpointerPositions[ event.pointerId ] = position;\n\n\t\t\t}\n\n\t\t\tposition.set( event.pageX, event.pageY );\n\n\t\t}\n\n\t\tfunction getSecondPointerPosition( event ) {\n\n\t\t\tconst pointer = ( event.pointerId === pointers[ 0 ].pointerId ) ? pointers[ 1 ] : pointers[ 0 ];\n\n\t\t\treturn pointerPositions[ pointer.pointerId ];\n\n\t\t}\n\n\t\t//\n\n\t\tscope.domElement.addEventListener( 'contextmenu', onContextMenu );\n\n\t\tscope.domElement.addEventListener( 'pointerdown', onPointerDown );\n\t\tscope.domElement.addEventListener( 'pointercancel', onPointerCancel );\n\t\tscope.domElement.addEventListener( 'wheel', onMouseWheel, { passive: false } );\n\n\t\t// force an update at start\n\n\t\tthis.update();\n\n\t}\n\n}\n\n\n// This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n// This is very similar to OrbitControls, another set of touch behavior\n//\n//    Orbit - right mouse, or left mouse + ctrl/meta/shiftKey / touch: two-finger rotate\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - left mouse, or arrow keys / touch: one-finger move\n\nclass MapControls extends OrbitControls {\n\n\tconstructor( object, domElement ) {\n\n\t\tsuper( object, domElement );\n\n\t\tthis.screenSpacePanning = false; // pan orthogonal to world-space direction camera.up\n\n\t\tthis.mouseButtons.LEFT = MOUSE.PAN;\n\t\tthis.mouseButtons.RIGHT = MOUSE.ROTATE;\n\n\t\tthis.touches.ONE = TOUCH.PAN;\n\t\tthis.touches.TWO = TOUCH.DOLLY_ROTATE;\n\n\t}\n\n}\n\nexport { OrbitControls, MapControls };\n","import React, { useEffect, useRef, useState } from 'react';\nimport { MeshProps, useFrame } from '@react-three/fiber';\nimport * as THREE from 'three';\nimport useStore from '../../../store';\n\ninterface ModelProps extends MeshProps {\n  data: {\n    setModel: (model: any) => void;\n    setColor: (col: any) => void;\n    setCurName: (name: any) => void;\n    curSpeed: any;\n    nodes: any;\n    colors: any;\n    animations: any;\n    nft?: any;\n    position: any;\n  };\n}\n\ninterface actions {\n  current: {\n    idle: {\n      play: () => void,\n    };\n  };\n}\n\nconst Model: (props: ModelProps) => JSX.Element | null = (props) => {\n  const {\n    data: { setModel, setCurName, curSpeed, nodes, colors, animations, nft, position },\n  } = props;\n  const group = useRef()\n\n  const actions: actions = useRef();\n\n  const [mixer] = useState(() => new THREE.AnimationMixer(group));\n\n  const showStatics = useStore(state => state.showStatics);\n  const updateShowStatics = useStore(state => state.updateShowStatics);\n  const currentStatics = useStore(state => state.currentStatics);\n  const updateCurrentStatics = useStore(state => state.updateCurrentStatics);\n  const currentHoverModel = useStore(state => state.currentHoverModel);\n  const updateCurrentHoverModel = useStore(state => state.updateCurrentHoverModel);\n\n  useEffect(() => {\n    setModel({ 'scene': group.current });\n  }, [setModel]);\n\n  useEffect(() => {\n    if (animations.length) {\n      actions.current = {\n        idle: mixer.clipAction(animations[nft.glTFAnimationIndex || 0], group.current),\n      };\n      actions.current.idle.play();\n    }\n\n    return () => animations.forEach((clip) => mixer.uncacheClip(clip))\n\n  }, [animations, mixer]);\n\n  useFrame((_, delta) => mixer.update(delta * curSpeed));\n  const positionX = position?.x || 0;\n  const positionY = position?.y || 0;\n  const positionZ = position?.z || 0;\n\n  const scaleX = nft.glTFScale?.x || 1;\n  const scaleY = nft.glTFScale?.y || 1;\n  const scaleZ = nft.glTFScale?.z || 1;\n\n  const rotationX = nft.glTFRotation?.x || -Math.PI / 2;\n  const rotationY = nft.glTFRotation?.y || 0;\n  const rotationZ = nft.glTFRotation?.z || 0;\n\n  const setModelStatics = () => {\n    const temp = { ...nft };\n    delete temp.model;\n    updateCurrentStatics(temp);\n  }\n  const isSelected = () => (!showStatics && !currentHoverModel) || currentHoverModel?.hash === nft.hash || nft.hash === currentStatics?.hash;\n\n  return (\n    <group position={[positionX, positionY, positionZ]}>\n      <group ref={group} dispose={null} scale={[scaleX, scaleY, scaleZ]}>\n        <group rotation={[rotationX, rotationY, rotationZ]}>\n          <group >\n            {nodes[nft.glTFRootNode || 'Armature_rootJoint'] ?\n              <primitive object={nodes[nft.glTFRootNode || 'Armature_rootJoint']} /> : null\n            }\n            {\n              Object.keys(nodes).map((name) => {\n                return nodes[name].isSkinnedMesh ? (\n                  <skinnedMesh\n                    castShadow\n                    key={nodes[name].uuid}\n                    geometry={nodes[name].geometry}\n                    material={nodes[name].material}\n                    skeleton={nodes[name].skeleton}\n                    morphTargetDictionary={nodes[name].morphTargetDictionary}\n                    morphTargetInfluences={nodes[name].morphTargetInfluences}\n                    material-color={isSelected() ? (colors[name] ? colors[name] : '#ffffff') : '#111111'}\n                    onClick={(e) => { setCurName(name); setModelStatics(); e.stopPropagation(); }}\n                    onPointerMove={() => updateCurrentHoverModel(nft)}\n                    onPointerOut={() => updateCurrentHoverModel(null)}\n                  />\n                ) : nodes[name].isMesh ? (\n                  <mesh\n                    castShadow\n                    key={nodes[name].uuid}\n                    material={nodes[name].material}\n                    material-color={isSelected() ? (colors[name] ? colors[name] : '#ffffff') : '#111111'}\n                    morphTargetDictionary={nodes[name].morphTargetDictionary}\n                    morphTargetInfluences={nodes[name].morphTargetInfluences}\n                    onClick={(e) => { setCurName(name); setModelStatics(); e.stopPropagation() }}\n                    onPointerMove={() => updateCurrentHoverModel(nft)}\n                    onPointerOut={() => updateCurrentHoverModel(null)}\n                  />\n                ) : null;\n              })\n            }\n          </group>\n        </group>\n      </group>\n    </group>\n  );\n};\n\nexport default Model;","import { Arenas } from './types'\n\n\nconst Arena: Arenas[] = [\n    {\n        name: \"Coliseum\",\n        terrain: \"Desert\",\n        factor: 22,\n        incentivesToBattles: 100,\n        imagePath: \"images/arenas/coliseum.jpg\"\n    },\n    {\n        name: \"Britannica\",\n        terrain: \"Mountain\",\n        factor: 14,\n        incentivesToBattles: 10,\n        imagePath: \"images/arenas/britannica.jpg\"\n    },\n    {\n        name: \"Nimes Amphitheatre\",\n        terrain: \"Desert\",\n        factor: 16,\n        incentivesToBattles: 10,\n        imagePath: \"images/arenas/nimes-amphitheatre.jpg\"\n    },\n    {\n        name: \"Arles Arena\",\n        terrain: \"Mountain\",\n        factor: 12,\n        incentivesToBattles: 100,\n        imagePath: \"images/arenas/arles.jpg\"\n    },\n    {\n        name: \"Lyon\",\n        terrain: \"Tropical\",\n        factor: 6,\n        incentivesToBattles: 100,\n        imagePath: \"images/arenas/lyon.jpg\"\n    },\n    {\n        name: \"Bucha\",\n        terrain: \"Polar/Glacial\",\n        factor: 12,\n        incentivesToBattles: 100,\n        imagePath: \"images/arenas/bucha.jpg\"\n    },\n    {\n        name: \"Pula\",\n        terrain: \"Tropical\",\n        factor: 8,\n        incentivesToBattles: 100,\n        imagePath: \"images/arenas/pula.jpg\"\n    },\n    {\n        name: \"Lillebonne\",\n        terrain: \"Tropical\",\n        factor: 3,\n        incentivesToBattles: 100,\n        imagePath: \"images/arenas/lillebonne.jpg\"\n    },\n    {\n        name: \"Verona\",\n        terrain: \"Polar/Glacial\",\n        factor: 19,\n        incentivesToBattles: 100,\n        imagePath: \"images/arenas/verona.jpg\"\n    },\n    {\n        name: \"Vodnjan\",\n        terrain: \"Desert\",\n        factor: 19,\n        incentivesToBattles: 100,\n        imagePath: \"images/arenas/vodnjan.jpg\"\n    },\n    {\n        name: \"Matia Piso\",\n        terrain: \"Polar/Glacial\",\n        factor: 19,\n        incentivesToBattles: 1000,\n        imagePath: \"images/arenas/matiapiso.jpg\"\n    },\n    {\n        name: \"Ateia Trebellia\",\n        terrain: \"Mountain\",\n        factor: 19,\n        incentivesToBattles: 1000,\n        imagePath: \"images/arenas/ateiatrebellia.jpg\"\n    }\n]\n\nexport default Arena","import React from 'react'\nimport styled from 'styled-components'\nimport { Heading, Text } from '@pancakeswap/uikit'\nimport { useTranslation } from 'contexts/Localization'\nimport { Arenas } from 'config/constants/arenas/types'\n\n\nconst StyledBackSelector = styled.div`\n        width: 100%;\n        display: flex;\n        flex-direction: row;\n        flex-wrap: wrap;\n        justify-content: space-between;\n        text-align: center;\n\n        @media (min-width: 320px) and (max-width: 480px) {\n            padding: 0;\n          }\n    \n        @media (min-width: 480px) and (max-width: 786px) {\n            \n          }\n    `\nconst ArenaImage = styled.div`\n    display: flex;\n    flex-direction: column;\n    margin-top: 20px;\n    border: 2px solid black;\n    border-radius: 10px;\n    padding: 5px;\n    & img {\n        width: 200px !important;\n        height: 150px !important;\n        border-radius: 10px;\n    }\n\n    &:hover {\n        cursor: pointer;\n        border: 2px solid #D9AB3A;\n    }\n`\n\ninterface SelectArenaProps {\n    arenas: Arenas[],\n}\n\nconst SelectArena: React.FC<SelectArenaProps> = ({ arenas }) => {\n    const { t } = useTranslation()\n\n    return (\n        <StyledBackSelector>\n            {\n                arenas.map((arena) => (\n                    <>\n                        <ArenaImage>\n                            <img src={arena.imagePath} alt={arena.name} />\n                            <Heading textAlign=\"left\">{t(`${arena.name}`)}</Heading>\n                            <Text textAlign=\"left\">{t(`${arena.terrain}`)}</Text>\n                        </ArenaImage>\n                    </>\n                ))\n            }\n        </StyledBackSelector >\n    )\n}\n\nexport default SelectArena","import React, { useState, useEffect } from 'react'\nimport { Link } from \"react-router-dom\";\nimport { Modal, Flex, Button } from '@pancakeswap/uikit'\nimport { useTranslation } from 'contexts/Localization'\nimport styled from 'styled-components'\nimport { ModalActions } from 'components/Modal'\nimport Arena from 'config/constants/arenas/arenas'\nimport SelectArena from './SelectArena'\n\ninterface SelectArenaModalProps {\n    onDismiss?: () => void\n}\n\nconst NewModal = styled(Modal)`\n    width: 1120px !important;\n`\n\nconst ActionButtons = styled(ModalActions)`\n    padding-bottom: 0 !important;\n`\n\n\nconst SelectArenaModal: React.FC<SelectArenaModalProps> = ({ onDismiss }) => {\n\n    const { t } = useTranslation()\n\n    return (\n        <NewModal title=\"Select Arena for Staking\" onDismiss={onDismiss} minWidth=\"800px\">\n            <SelectArena arenas={Arena} />\n            <ActionButtons>\n                <Flex justifyContent=\"end\">\n                    <Button variant=\"secondary\" scale=\"sm\" style={{ marginTop: '10px' }} onClick={onDismiss}>\n                        {t('Cancel')}\n                    </Button>\n                    <div style={{ width: '24px', height: '24px' }}>{ }</div>\n                    <a href=\"/stakegladiator\">\n                        <Button\n                            variant=\"secondary\"\n                            scale=\"sm\"\n                            style={{ marginTop: '10px', backgroundColor: 'green', color: 'white', borderColor: 'green' }}\n                        >\n                            {t('Stake')}\n                        </Button>\n                    </a>\n                </Flex>\n            </ActionButtons>\n        </NewModal>\n    )\n}\n\nexport default SelectArenaModal","import React, { Suspense, useEffect, useState } from 'react'\nimport { Link } from 'react-router-dom'\nimport { Canvas, useLoader } from '@react-three/fiber'\nimport { Button, Modal, AutoRenewIcon, Flex, useModal } from '@pancakeswap/uikit'\nimport { ModalActions } from 'components/Modal'\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader'\nimport * as THREE from 'three'\nimport styled from 'styled-components'\nimport { ambientLightProps, cameraProps, controlsProps, pointLightProps } from 'views/Configurator/utils/constant'\n\nimport Controls from '../../Configurator/components/THREE/Controls'\nimport Model from '../../PoolTour3D/components/THREE/Model'\nimport Loader from '../../Configurator/components/UI/Loader'\nimport axios from 'axios'\nimport { merge } from 'lodash'\n\nimport useStore from '../../PoolTour3D/store'\nimport { useHistory } from 'react-router-dom'\nimport { getAllGladiators } from '../../../state/nftMarket/helpers'\nimport PageLoader from 'components/Loader/PageLoader'\nimport SelectArenaModal from './SelectArenaModal'\nimport Statics from '../../../views/PoolTour3D/components/UI/Statics'\nimport useToast from 'hooks/useToast'\n\nconst StyledViewer = styled.div`\n  width: 100%;\n  height: 100%;\n  text-align: center;\n`\nconst StaticsPane = styled.div<{ isStaticsPaneOpen: boolean }>`\n  flex: none;\n  overflow: hidden;\n  transition: width 200ms ease-in-out;\n  width: ${({ isStaticsPaneOpen }) => (isStaticsPaneOpen ? '384px' : 0)};\n  position: absolute;\n  right: 0;\n`\n\nconst StyledCanvasWrapper = styled.div`\n  height: calc(100vh - 80px);\n  position: relative;\n`\n\nconst StyledArrowButton = styled.button`\n  position: absolute;\n  background: url(/images/battles/back.png);\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center center;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  outline: unset;\n  border: unset;\n  width: 170px;\n  height: 39px;\n  color: white;\n  top: 50%;\n  left: 10%;\n  font-size: 20px;\n  font-weight: 600;\n\n  @media (min-width: 320px) and (max-width: 480px) {\n    width: 100px;\n    height: 22px;\n    font-size: 14px;\n  }\n\n  &:hover {\n    opacity: 0.8;\n    cursor: pointer;\n  }\n`\n\nconst StyledModelOptionsWrapper = styled.div`\n  position: absolute;\n  transform: translate3d(-50%, 0, 0);\n  left: 50%;\n  bottom: 0;\n  width: 40vw;\n  height: 7vw;\n  background-color: #121212;\n  margin-left: auto;\n  margin-right: auto;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  padding: 0.5vw;\n  border-top-left-radius: 0.5vw;\n  border-top-right-radius: 0.5vw;\n`\n\nconst StyledModelName = styled.div`\n  color: white;\n  font-size: 25px;\n`\n\nconst StyledButtonsWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-around;\n`\n\nconst StyledOptionButton = styled(Button) <{ background?: string, show: boolean }>`\n  background-size: contain;\n  background-repeat: no-repeat;\n  outline: unset;\n  border: unset;\n  width: 9vw;\n  height: 3vw;\n  color: rgb(85, 34, 22);\n  font-size: 20px;\n  background: url(${({ background }) => background});\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center center;\n  outline: unset;\n  border: unset;\n  width: 9vw;\n  height: 3vw;\n  padding: 5px 0px;\n  color: rgb(85, 34, 22);\n  font-size: 20px;\n  color: white;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  opacity: ${({ show }) => (show ? '1' : '0.5')};\n`\n\ntype ChildProps = {\n  curColor: string\n  setColor: (arg0: string) => void\n  curName: string\n  setCurName: (arg0: string) => void\n  curSpeed: any\n  curBack: any\n  colors: any\n  nftHash?: any | []\n}\n\nconst loadJSON = (path, hash) => {\n  return new Promise((resolve, reject) => {\n    var xhr = new XMLHttpRequest()\n    xhr.onreadystatechange = function () {\n      if (xhr.readyState === 4) {\n        if (xhr.status === 200) {\n          const data = JSON.parse(xhr.responseText)\n          resolve({ ...data, hash })\n        } else {\n          reject(xhr)\n        }\n      }\n    }\n    xhr.open('GET', path, true)\n    xhr.send()\n  })\n}\n\n// TOOD: Get my nft hash values\n// const nftHashs = localStorage.getItem('myNfts') ? JSON.parse( localStorage.getItem('myNfts') ): [];\n\n// var myData;\n\n// Promise.all( nftHashs.map(hash => loadJSON( `https://gateway.pinata.cloud/ipfs/${ hash }`, hash )) ).then(data => {\n//     myData = data;\n// });\n\nconst Viewer: React.FC<ChildProps> = ({ setColor, curName, setCurName, curSpeed, curBack, colors, nftHash }) => {\n  const { toastError, toastSuccess } = useToast()\n  const [show, setShow] = useState(false)\n\n  const [gladiatorBtns, setgladiatorBtns] = useState({\n    // battleBtn: true,\n    // statsBtn: true,\n    // sellBtn: true,\n    battleBtn: false,\n    statsBtn: false,\n    sellBtn: false,\n  })\n\n  const { battleBtn, statsBtn, sellBtn } = gladiatorBtns\n  const [myData, setMyData] = useState<any | []>([])\n  const [onStakeInArena] = useModal(<SelectArenaModal />)\n\n  const { usersGladiators, updateShowStatics } = useStore((state) => state)\n  // console.log(\"usersGladiators\", usersGladiators)\n\n  useEffect(() => {\n    if (usersGladiators) {\n      setMyData(usersGladiators)\n    }\n  }, [usersGladiators])\n\n  useEffect(() => {\n    if (usersGladiators?.length === 0) {\n      toastError('No gladiator is found or bought')\n    }\n  }, [usersGladiators])\n\n  const [myModels, setMyModels] = useState([])\n  const [currentPage, setCurrentPage] = useState(0)\n  const currentStatics = useStore((state) => state.currentStatics)\n  const currentHoverModel = useStore((state) => state.currentHoverModel)\n  const history = useHistory()\n\n  if (myData && myData.length > 0 && !myModels.length) {\n    // console.log(\"myDataaaaaaaaaaaaaaaa\", myData)\n    for (let i = 0; i < myData.length; i++) {\n      // if(myData[i].attributes && myData[i].attributes[0]) {\n      //     merge(myData[i], myData[i].attributes[0])\n      //     merge(myData[i], models.filter((nft) => nft.glTF === myData[i].glTF)[0])\n      // }\n      myData[i].model = useLoader(GLTFLoader, myData[i].glTFPath)\n    }\n    setMyModels(myData)\n  }\n\n  const handleShowPanel = () => {\n    if (currentStatics) {\n      updateShowStatics(true)\n    }\n  }\n  const Dome = () => {\n    const texture = useLoader(THREE.TextureLoader, `/images/gallery/arena3.jpg`)\n    return (\n      <mesh>\n        <sphereBufferGeometry attach=\"geometry\" args={[50, 100, 100]} />\n        <meshBasicMaterial attach=\"material\" map={texture} side={THREE.BackSide} />\n      </mesh>\n    )\n  }\n\n  const GroundPlane = () => {\n    const texture = useLoader(THREE.TextureLoader, '/images/gallery/textures/1.jpg')\n    texture.wrapS = THREE.RepeatWrapping\n    texture.wrapT = THREE.RepeatWrapping\n    texture.repeat.set(64, 64)\n    texture.anisotropy = 16\n\n    return (\n      <mesh receiveShadow rotation={[Math.PI / 2, 0, 0]} position={[0, -4, 0]}>\n        <planeBufferGeometry attach=\"geometry\" args={[500, 500]} />\n        <meshPhongMaterial attach=\"material\" map={texture} side={THREE.DoubleSide} />\n      </mesh>\n    )\n  }\n\n  const goPrevPage = () => {\n    if (currentPage <= 0) return\n\n    setCurrentPage((prev) => prev - 1)\n  }\n\n  const goNextPage = () => {\n    if (currentPage >= Math.ceil(myModels.length / 3) - 1) return\n\n    setCurrentPage((prev) => prev + 1)\n  }\n\n  const getCurrentModels = () => {\n    return myModels.slice(currentPage * 3, currentPage * 3 + 3)\n  }\n\n  const ButtonGroup = () => {\n    return (\n      <div>\n        {!(currentPage <= 0) && <StyledArrowButton onClick={() => goPrevPage()}>Previous</StyledArrowButton>}\n        {!(currentPage >= Math.ceil(myModels.length / 3) - 1) && (\n          <StyledArrowButton onClick={() => goNextPage()} style={{ left: 'unset', right: '10%' }}>\n            Next\n          </StyledArrowButton>\n        )}\n      </div>\n    )\n  }\n\n  const ModelOptions = () => {\n    let showStatics = useStore((state) => state.showStatics)\n\n    const goToBattle = () => {\n      if (currentStatics?.name) {\n        history.push({\n          pathname: '/battles/join',\n          state: {\n            nft: currentStatics,\n          },\n        })\n      }\n    }\n\n    const showStats = () => {\n      // console.log('workinggggggggggggggggggg')\n      showStatics = true\n      // console.log(showStatics)\n\n      return <></>\n    }\n    return (\n      <>\n        {usersGladiators?.length != 0 && (\n          <StyledModelOptionsWrapper>\n            <StyledModelName>\n              {currentHoverModel\n                ? currentHoverModel.name\n                : currentStatics?.name\n                  ? currentStatics.name\n                  : 'None selected'}\n            </StyledModelName>\n\n            <StyledModelName>\n              {currentHoverModel\n                ? `Token ID: ${currentHoverModel.tokenId}`\n                : currentStatics?.tokenId\n                  ? `Token ID: ${currentStatics.tokenId}`\n                  : ''}\n            </StyledModelName>\n            {currentStatics?.tokenId && setShow(true)}\n            {usersGladiators?.length != 0 && (\n              <StyledButtonsWrapper>\n                <StyledOptionButton\n                  disabled={battleBtn}\n                  background={'/images/battles/red.png'}\n                  onClick={() => goToBattle()}\n                  show={show}\n                >\n                  Go to Battle\n                </StyledOptionButton>\n                <Link\n                  to={{\n                    pathname: '/room/pools',\n                    state: { currentStatics },\n                  }}\n                >\n                  <StyledOptionButton background={'/images/battles/blue.png'} show={show}>Stake in Pools</StyledOptionButton>\n                </Link>\n                <StyledOptionButton\n                  onClick={handleShowPanel}\n                  background={'/images/battles/blue.png'}\n                  show={show} >Statistics</StyledOptionButton>\n                <Link to=\"nfts\">\n                  <StyledOptionButton disabled={sellBtn} background={'/images/battles/blue.png'} show={show}>\n                    Sell\n                  </StyledOptionButton>\n                </Link>\n              </StyledButtonsWrapper>\n            )}\n          </StyledModelOptionsWrapper>\n        )}\n      </>\n    )\n  }\n\n  return (\n    <>\n      {usersGladiators ? (\n        <StyledViewer>\n          <StyledCanvasWrapper>\n            <Canvas camera={{ fov: cameraProps.fov, position: cameraProps.position }} shadows>\n              <fog attach=\"fog\" args={['white', 90, 150]} />\n              <ambientLight intensity={ambientLightProps.intensity} />\n              <pointLight\n                position={pointLightProps.position}\n                castShadow\n                decay={pointLightProps.decay}\n                shadow-mapSize-height={pointLightProps.shadowMapSize}\n                shadow-mapSize-width={pointLightProps.shadowMapSize}\n              />\n              <Controls\n                maxPolarAngle={Math.PI / 2}\n                minPolarAngle={controlsProps.minPolarAngle}\n                maxDistance={controlsProps.maxDistance}\n                minDistance={controlsProps.minDistance}\n                target={controlsProps.target}\n                enableKeys\n              />\n              <Dome />\n              <GroundPlane />\n              <Suspense fallback={<Loader />}>\n                {getCurrentModels().map((item, index) => (\n                  <Model\n                    key={item.name + index}\n                    data={{\n                      setModel: () => true,\n                      setColor: () => true,\n                      setCurName: setCurName,\n                      curSpeed: curSpeed,\n                      animations: item.model.animations,\n                      nodes: item.model.nodes,\n                      colors: item.colors ? item.colors : colors,\n                      nft: item,\n                      position: {\n                        ...item.glTFPosition,\n                        z: item.glTFPosition.z + 6 * index - 2 * getCurrentModels().length,\n                      },\n                    }}\n                  />\n                ))}\n              </Suspense>\n            </Canvas>\n\n            <ButtonGroup />\n\n            <ModelOptions />\n          </StyledCanvasWrapper>\n        </StyledViewer>\n      ) : (\n        <PageLoader />\n      )}\n    </>\n  )\n}\n\nexport default Viewer\n","import create from 'zustand';\n\nexport const useCountStore = create((set, get) => ({\n\tshowStatics: false,\n\tupdateShowStatics: ( value ) => {\n\t\tset({ showStatics: value });\n\t},\n\tcurrentStatics: null,\n\tupdateCurrentStatics: (value) => {\n\t\tset({ currentStatics: value });\n\t},\n\tcurrentHoverModel: null,\n\tupdateCurrentHoverModel: (value) => {\n\t\tset({ currentHoverModel: value });\n\t},\n\tmyGladiators: null,\n\tsetMyGladiators: data => {\n\t\tset({myGladiators: data})\n\t},\n\tschoolGladiators: null,\n\tsetSchoolGladiators: data => {\n\t\tset({schoolGladiators: data})\n\t},\n\tusersGladiators: null,\n\tsetUsersGladiators: data => {\n\t\tset({usersGladiators: data})\n\t},\n\tuserNftHashes: [],\n\tsettingUserNFTHashes: data => {\n\t\tset({userNftHashes: data})\n\t},\n\tschoolNftHashes: [],\n\tsettingSchoolNFTHashes: data => {\n\t\tset({schoolNftHashes: data})\n\t},\n\tnftHashes: [],\n\tsettingNFTHashes: data => {\n\t\tset({nftHashes: data})\n\t},\n\ttotalSupplies: 0,\n\tsetTotalSupplies: data => {\n\t\tset({totalSupplies: data})\n\t}\n}))\n\nexport default useCountStore;"],"sourceRoot":""}