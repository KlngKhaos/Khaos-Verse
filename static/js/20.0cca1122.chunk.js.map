{"version":3,"sources":["../node_modules/lodash/_shuffleSelf.js","views/Nft/market/hooks/useGetCollectionDistribution.tsx","../node_modules/lodash/shuffle.js","../node_modules/lodash/_arrayShuffle.js","../node_modules/lodash/_baseShuffle.js","../node_modules/lodash/sum.js","views/Nft/market/ActivityHistory/utils/sortActivity.tsx","views/Nft/market/hooks/useAllGladiatorCollectibleNfts.ts","../node_modules/lodash/_baseSum.js","views/Nft/market/components/BuySellModals/BuyModal/types.ts","views/Nft/market/components/BuySellModals/BuyModal/styles.tsx","views/Nft/market/components/BuySellModals/BuyModal/ReviewStage.tsx","views/Nft/market/components/BuySellModals/BuyModal/index.tsx","views/Nft/market/Collection/IndividualNFTPage/GladiatorCollectiblePage/MainGladiatorCollectibleCard.tsx","views/Nft/market/Collection/IndividualNFTPage/shared/ExpandableCard.tsx","views/Nft/market/Collection/IndividualNFTPage/GladiatorCollectiblePage/ManageGladiatorCollectibleCard.tsx","views/Nft/market/Collection/IndividualNFTPage/shared/PropertiesCard.tsx","views/Nft/market/Collection/IndividualNFTPage/shared/DetailsCard.tsx","views/Nft/market/Collection/IndividualNFTPage/shared/MoreFromThisCollection.tsx","views/Nft/market/Collection/IndividualNFTPage/GladiatorCollectiblePage/ForSaleTableCard/ForSaleTableRows.tsx","views/Nft/market/Collection/IndividualNFTPage/GladiatorCollectiblePage/ForSaleTableCard/CountdownCircle.tsx","views/Nft/market/Collection/IndividualNFTPage/GladiatorCollectiblePage/ForSaleTableCard/UpdateIndicator.tsx","views/Nft/market/Collection/IndividualNFTPage/GladiatorCollectiblePage/ForSaleTableCard/index.tsx","views/Nft/market/Collection/IndividualNFTPage/GladiatorCollectiblePage/index.tsx","views/Nft/market/Collection/IndividualNFTPage/GladiatorCollectiblePage/ForSaleTableCard/utils.ts","views/Nft/market/Collection/IndividualNFTPage/OneOfAKindNftPage/MainNFTCard.tsx","views/Nft/market/Collection/IndividualNFTPage/OneOfAKindNftPage/ManageNFTsCard.tsx","views/Nft/market/hooks/useNftOwner.tsx","views/Nft/market/Collection/IndividualNFTPage/OneOfAKindNftPage/OwnerCard.tsx","views/Nft/market/Collection/IndividualNFTPage/OneOfAKindNftPage/ActivityCard.tsx","views/Nft/market/Collection/IndividualNFTPage/OneOfAKindNftPage/index.tsx","views/Nft/market/Collection/IndividualNFTPage/index.tsx"],"names":["baseRandom","require","module","exports","array","size","index","length","lastIndex","undefined","rand","value","useGetCollectionDistributionPB","useState","isFetching","total","data","state","setState","useEffect","a","prevState","getNftsFromCollectionApi","gladiatorCollectiblesAddress","apiResponse","tokenIds","Object","keys","attributesDistribution","totalCountCall","address","getPancakeRabbitsAddress","name","bunnyCountCalls","map","tokenId","params","bunnyContractCalls","concat","multicallv2","pancakeRabbitsAbi","response","tokenListResponse","slice","reduce","obj","tokenCount","toNumber","sum","values","entries","tokenData","fetchTokens","useGetCollectionDistribution","collectionAddress","getCollectionDistributionApi","arrayShuffle","baseShuffle","isArray","collection","copyArray","shuffleSelf","baseSum","identity","sortActivity","askOrders","transactions","allActivity","askOrderHistory","marketEvent","orderType","AskOrderType","CANCEL","MarketEvent","MODIFY","NEW","getAskOrderEvent","price","askPrice","timestamp","nft","tx","id","seller","transactionHistory","SELL","buyer","sort","activityItem1","activityItem2","timestamp1","ethers","BigNumber","from","sub","useAllGladiatorCollectibleNfts","allGladiatorCollectibleNfts","setAllGladiatorCollectibleNfts","isPBCollection","bunnyIds","getAllGladiatorCollectiblesLowestPrice","lowestPrices","getAllGladiatorCollectiblesRecentUpdatedAt","latestUpdates","allBunnies","bunnyId","description","collectionName","image","attributes","traitType","displayType","meta","currentAskPrice","updatedAt","fetchGladiatorCollectibles","iteratee","result","current","PaymentCurrency","BuyingStage","StyledModal","styled","Modal","stage","theme","APPROVE_AND_CONFIRM","CONFIRM","colors","textSubtle","BorderedBox","Grid","background","cardBorder","radii","default","BnbAmountCell","bnbAmount","isLoading","isInsufficient","bnbBusdPrice","useBNBBusdPrice","flexDirection","justifySelf","width","height","mb","usdAmount","multiplyPriceByAmount","justifyContent","mr","bold","color","toLocaleString","minimumFractionDigits","maximumFractionDigits","small","textAlign","ReviewStage","nftToBuy","paymentCurrency","setPaymentCurrency","nftPrice","walletBalance","walletFetchStatus","notEnoughBnbForPurchase","continueToNextStage","t","useTranslation","account","useWeb3React","px","pt","src","thumbnail","fontSize","alignItems","p","as","Link","scale","external","variant","href","getBscScanLinkForNft","activeIndex","onItemClick","symbol","BNB","FetchStatus","Fetched","ConnectWalletButton","my","pb","onClick","disabled","style","symbol1","symbol2","modalTitles","REVIEW","TX_CONFIRMED","BuyModal","onDismiss","setStage","confirmedTxHash","setConfirmedTxHash","isPaymentCurrentInitialized","setIsPaymentCurrentInitialized","useTheme","callWithGasPrice","useCallWithGasPrice","wbnbContract","useERC20","tokens","wbnb","nftMarketContract","useNftMarketContract","toastSuccess","useToast","dispatch","useAppDispatch","nftPriceWei","parseUnits","marketData","parseFloat","useGetBnbBalance","bnbBalance","balance","bnbFetchStatus","fetchStatus","formattedBnbBalance","formatEther","useTokenBalance","wbnbBalance","wbnbFetchStatus","formattedWbnbBalance","getBalanceNumber","lt","ethersToBigNumber","gte","WBNB","useApproveConfirmTransaction","onRequiresApproval","allowance","currentAllowance","gt","onApprove","constants","MaxUint256","onApproveSuccess","receipt","Toast","txHash","transactionHash","onConfirm","payAmount","Number","isNaN","onSuccess","addUserNft","nftLocation","NftLocation","WALLET","isApproving","isApproved","isConfirming","handleApprove","handleConfirm","showBackButton","title","onBack","headerBackground","gradients","cardHeader","ApproveAndConfirmStage","ConfirmStage","TransactionConfirmed","MainGladiatorCollectibleCard","cheapestNft","cheapestNftFromOtherSellers","nothingForSaleGladiatorCollectible","nftToDisplay","onlyOwnNftsOnSale","hasListings","priceInUsd","useModal","onPresentBuyModal","SellModal","nftToSell","onPresentAdjustPriceModal","actionButton","minWidth","mt","flex","to","nftsBaseUrl","formatNumber","maxWidth","NFTMedia","expandAnimation","keyframes","collapseAnimation","ExpandableCardBody","Box","expanded","css","FullWidthCard","Card","ExpandableCard","icon","content","setExpanded","gridTemplateColumns","borderBottom","prev","ScrollableContainer","Divider","div","LocationColors","FORSALE","PROFILE","LocationIcons","SellIcon","WalletFilledIcon","CameraIcon","CollectibleRow","lowestPrice","modalVariant","location","ProfileNftModal","onPresentProfileNftModal","onPresentModal","mx","CollectiblesByLocation","nfts","IconComponent","display","ManageGladiatorCollectiblesCard","useUserNfts","userNftsInitializationState","userNfts","useFetchUserNfts","bunniesInWallet","filter","bunniesForSale","profilePicBunny","loading","UserNftInitializationState","INITIALIZED","useHasNoBunnies","totalBunnies","totalBunniesText","KNOWN_TRAITS_TEXT","SingleProperty","rarity","textTransform","toFixed","PropertiesCard","properties","property","LongTextContainer","Text","DetailsCard","contractAddress","ipfsJson","count","chainId","useActiveWeb3React","ipfsLink","uriToHttp","getBscScanLink","SwiperCircle","isActive","secondary","textDisabled","StyledSwiper","mediaQueries","md","MoreFromThisCollection","currentTokenName","swiperRef","setSwiperRef","setActiveIndex","useMatchBreakpoints","isMobile","isMd","isLg","collectionNfts","useNftsFromCollection","isAddress","fetchNftsFromCollections","page","nftsToShow","useMemo","shuffle","isTradable","slidesPerView","maxPageIndex","nftArray","find","push","spaceBetween","onSwiper","onActiveIndexChange","newActiveIndex","Math","ceil","slidesPerGroup","initialSlide","slidePrev","Array","slideTo","goToSlide","slideNext","OwnersTableRow","Row","ownNft","currentSeller","toLowerCase","pl","ProfileCell","accountAddress","ForSaleTableRow","nftsForSale","countdownAnimation","CountdownContainer","primaryBright","CountdownCircle","secondsRemaining","isUpdating","lineHeight","r","cx","cy","UpdateIndicator","setSecondsRemaining","isFetchingMoreGladiatorCollectibles","useLoadingState","isUpdatingGladiatorCollectibles","useTooltip","placement","tooltip","tooltipVisible","targetRef","intervalId","setInterval","clearInterval","ref","StyledCard","hasManyPages","ForSaleTableCard","totalForSale","loadMore","isFetchingMoreNfts","priceSort","togglePriceSort","setPage","itemsPerPage","needsExtraPage","maxPage","floor","nftsOnCurrentPage","switchPage","pageNumber","loadMoreButton","ml","num","py","type","ForSaleTableRows","IndividualGladiatorCollectiblePage","setNothingForSaleGladiatorCollectible","allGladiatorCollectible","useGetAllGladiatorCollectibleByGladiatorCollectibleId","setPriceSort","previousPriceSort","usePreviousValue","useFetchByGladiatorCollectibleIdAndUpdate","latestGladiatorCollectiblesUpdateAt","fetchMoreGladiatorCollectibles","fastRefresh","useFastFresh","isWindowVisible","useIsWindowVisible","gladiatorCollectibleSortedByPrice","orderBy","allGladiatorCollectibleFromOtherSellers","bunny","cheapestGladiatorCollectible","cheapestGladiatorCollectibleFromOtherSellers","prevGladiatorCollectibleId","usePrevious","distributionData","totalGladiatorCollectibleCount","isFetchingDistribution","msSinceLastUpdate","Date","now","PANCAKE_BUNNIES_UPDATE_FREQUENCY","fetchBasicGladiatorCollectibleData","sortedNfts","nftA","nftB","nftPriceA","nftPriceB","sortNFTsByPriceBuilder","PageLoader","propertyRarity","Page","ManageGladiatorCollectibleCard","metadataUrl","currentValue","MainNFTCard","isOwnNft","nftIsProfilePic","currentAskPriceAsNumber","onPresentSellModal","EditProfileModal","onEditProfileModal","ownerButtons","CollectibleByLocation","ManageNFTsCard","hasThisNft","useNftOwner","owner","setOwner","isLoadingOwner","setIsLoadingOwner","collectionContract","useErc721CollectionContract","getOwner","ownerOf","tokenOwner","OwnerRow","OwnerCard","padding","ActivityCard","currentPage","setCurrentPage","setMaxPages","activitiesSlice","setActivitiesSlice","sortedTokenActivities","setSortedTokenActivities","setIsLoading","isXs","isSm","getTokenActivity","tokenActivity","console","error","fetchTokenActivity","max","getMaxPages","getActivitySlice","TableLoader","activity","ActivityRow","isNftActivity","borderTop","NoNftsImage","OwnerActivityContainer","Flex","IndividualNFTPage","setNft","setIsOwnNft","fetchNftData","getNftApi","metadata","getNftsMarketData","nftOwnedByConnectedUser","userNft","userProfilePicture","rarityMap","nftAttributeValue","attribute","IndividualNFTPageRouter","useParams"],"mappings":"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","file":"static/js/20.0cca1122.chunk.js","sourcesContent":["var baseRandom = require('./_baseRandom');\n\n/**\n * A specialized version of `_.shuffle` which mutates and sets the size of `array`.\n *\n * @private\n * @param {Array} array The array to shuffle.\n * @param {number} [size=array.length] The size of `array`.\n * @returns {Array} Returns `array`.\n */\nfunction shuffleSelf(array, size) {\n  var index = -1,\n      length = array.length,\n      lastIndex = length - 1;\n\n  size = size === undefined ? length : size;\n  while (++index < size) {\n    var rand = baseRandom(index, lastIndex),\n        value = array[rand];\n\n    array[rand] = array[index];\n    array[index] = value;\n  }\n  array.length = size;\n  return array;\n}\n\nmodule.exports = shuffleSelf;\n","import { useEffect, useState } from 'react'\nimport { getCollectionDistributionApi, getNftsFromCollectionApi } from 'state/nftMarket/helpers'\nimport sum from 'lodash/sum'\nimport { ApiCollectionDistribution, ApiResponseCollectionTokens, ApiSingleTokenData } from 'state/nftMarket/types'\nimport { getPancakeRabbitsAddress } from 'utils/addressHelpers'\nimport { multicallv2 } from 'utils/multicall'\nimport pancakeRabbitsAbi from 'config/abi/pancakeRabbits.json'\nimport { gladiatorCollectiblesAddress } from '../constants'\n\ninterface State {\n  isFetching: boolean\n  data: ApiCollectionDistribution['data']\n}\n\nconst useGetCollectionDistribution = (collectionAddress: string) => {\n  const [state, setState] = useState<State>({ isFetching: false, data: null })\n\n  useEffect(() => {\n    const fetchTokens = async () => {\n      setState((prevState) => ({ ...prevState, isFetching: true }))\n      const apiResponse = await getCollectionDistributionApi<ApiCollectionDistribution>(collectionAddress)\n      setState({\n        isFetching: false,\n        data: apiResponse.data,\n      })\n    }\n\n    fetchTokens()\n  }, [collectionAddress, setState])\n\n  return state\n}\n\ninterface StatePB {\n  isFetching: boolean\n  total: number\n  data: Record<string, ApiSingleTokenData & { tokenCount: number }>\n}\n\nexport const useGetCollectionDistributionPB = () => {\n  const [state, setState] = useState<StatePB>({ isFetching: false, total: 0, data: null })\n\n  useEffect(() => {\n    const fetchTokens = async () => {\n      setState((prevState) => ({ ...prevState, isFetching: true }))\n      let apiResponse: ApiResponseCollectionTokens\n      try {\n        apiResponse = await getNftsFromCollectionApi(gladiatorCollectiblesAddress)\n      } catch (error) {\n        setState((prevState) => ({ ...prevState, isFetching: false }))\n        return\n      }\n      // Use on chain data to get most updated totalSupply and bunnyCount data. Nft Api Data not updated frequently.\n      const tokenIds = Object.keys(apiResponse.attributesDistribution)\n      const totalCountCall = {\n        address: getPancakeRabbitsAddress(),\n        name: 'totalSupply',\n      }\n      const bunnyCountCalls = tokenIds.map((tokenId) => ({\n        address: getPancakeRabbitsAddress(),\n        name: 'bunnyCount',\n        params: [tokenId],\n      }))\n      const bunnyContractCalls = [totalCountCall].concat(bunnyCountCalls)\n      try {\n        const response = await multicallv2(pancakeRabbitsAbi, bunnyContractCalls)\n        const tokenListResponse = response.slice(1).reduce((obj, tokenCount, index) => {\n          return {\n            ...obj,\n            [tokenIds[index]]: { ...apiResponse.data[index], tokenCount: tokenCount[0].toNumber() },\n          }\n        }, {})\n        setState({\n          isFetching: false,\n          total: response[0][0].toNumber(),\n          data: tokenListResponse,\n        })\n      } catch (error) {\n        // Use nft api data if on chain multicall fails\n        const total = sum(Object.values(apiResponse.attributesDistribution))\n        const tokenListResponse = Object.entries(apiResponse.data).reduce((obj, [tokenId, tokenData]) => {\n          return {\n            ...obj,\n            [tokenId]: { ...tokenData, tokenCount: apiResponse.attributesDistribution[tokenId] },\n          }\n        }, {})\n        setState({ isFetching: false, total, data: tokenListResponse })\n      }\n    }\n\n    fetchTokens()\n  }, [])\n\n  return state\n}\n\nexport default useGetCollectionDistribution\n","var arrayShuffle = require('./_arrayShuffle'),\n    baseShuffle = require('./_baseShuffle'),\n    isArray = require('./isArray');\n\n/**\n * Creates an array of shuffled values, using a version of the\n * [Fisher-Yates shuffle](https://en.wikipedia.org/wiki/Fisher-Yates_shuffle).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to shuffle.\n * @returns {Array} Returns the new shuffled array.\n * @example\n *\n * _.shuffle([1, 2, 3, 4]);\n * // => [4, 1, 3, 2]\n */\nfunction shuffle(collection) {\n  var func = isArray(collection) ? arrayShuffle : baseShuffle;\n  return func(collection);\n}\n\nmodule.exports = shuffle;\n","var copyArray = require('./_copyArray'),\n    shuffleSelf = require('./_shuffleSelf');\n\n/**\n * A specialized version of `_.shuffle` for arrays.\n *\n * @private\n * @param {Array} array The array to shuffle.\n * @returns {Array} Returns the new shuffled array.\n */\nfunction arrayShuffle(array) {\n  return shuffleSelf(copyArray(array));\n}\n\nmodule.exports = arrayShuffle;\n","var shuffleSelf = require('./_shuffleSelf'),\n    values = require('./values');\n\n/**\n * The base implementation of `_.shuffle`.\n *\n * @private\n * @param {Array|Object} collection The collection to shuffle.\n * @returns {Array} Returns the new shuffled array.\n */\nfunction baseShuffle(collection) {\n  return shuffleSelf(values(collection));\n}\n\nmodule.exports = baseShuffle;\n","var baseSum = require('./_baseSum'),\n    identity = require('./identity');\n\n/**\n * Computes the sum of the values in `array`.\n *\n * @static\n * @memberOf _\n * @since 3.4.0\n * @category Math\n * @param {Array} array The array to iterate over.\n * @returns {number} Returns the sum.\n * @example\n *\n * _.sum([4, 2, 8, 6]);\n * // => 20\n */\nfunction sum(array) {\n  return (array && array.length)\n    ? baseSum(array, identity)\n    : 0;\n}\n\nmodule.exports = sum;\n","import { ethers } from 'ethers'\nimport { Activity, AskOrder, AskOrderType, MarketEvent, Transaction } from 'state/nftMarket/types'\n\nexport const sortActivity = ({\n  askOrders = [],\n  transactions = [],\n}: {\n  askOrders?: AskOrder[]\n  transactions?: Transaction[]\n}): Activity[] => {\n  const getAskOrderEvent = (orderType: AskOrderType): MarketEvent => {\n    switch (orderType) {\n      case AskOrderType.CANCEL:\n        return MarketEvent.CANCEL\n      case AskOrderType.MODIFY:\n        return MarketEvent.MODIFY\n      case AskOrderType.NEW:\n        return MarketEvent.NEW\n      default:\n        return MarketEvent.MODIFY\n    }\n  }\n\n  const transformTransactions = (transactionsHistory: Transaction[]): Activity[] => {\n    const transformedTransactions = transactionsHistory.map((transactionHistory) => {\n      const marketEvent = MarketEvent.SELL\n      const { timestamp, nft } = transactionHistory\n      const price = transactionHistory.askPrice\n      const tx = transactionHistory.id\n      const buyer = transactionHistory.buyer.id\n      const seller = transactionHistory.seller.id\n      return { marketEvent, price, timestamp, nft, tx, buyer, seller }\n    })\n\n    return transformedTransactions\n  }\n\n  const transformAskOrders = (askOrdersHistory: AskOrder[]): Activity[] => {\n    const transformedAskOrders = askOrdersHistory.map((askOrderHistory) => {\n      const marketEvent = getAskOrderEvent(askOrderHistory.orderType)\n      const price = askOrderHistory.askPrice\n      const { timestamp, nft } = askOrderHistory\n      const tx = askOrderHistory.id\n      const seller = askOrderHistory?.seller.id\n      return { marketEvent, price, timestamp, nft, tx, seller }\n    })\n\n    return transformedAskOrders\n  }\n\n  const allActivity = [...transformAskOrders(askOrders), ...transformTransactions(transactions)]\n  if (allActivity.length > 0) {\n    const sortedByMostRecent = allActivity.sort((activityItem1, activityItem2) => {\n      const timestamp1 = ethers.BigNumber.from(activityItem1.timestamp)\n      const timestamp2 = ethers.BigNumber.from(activityItem2.timestamp)\n      return timestamp2.sub(timestamp1).toNumber()\n    })\n\n    return sortedByMostRecent\n  }\n  return []\n}\n","import { useState, useEffect } from 'react'\nimport {\n  getAllGladiatorCollectiblesLowestPrice,\n  getAllGladiatorCollectiblesRecentUpdatedAt,\n  getNftsFromCollectionApi,\n} from 'state/nftMarket/helpers'\nimport { NftToken } from 'state/nftMarket/types'\nimport { gladiatorCollectiblesAddress } from '../constants'\n\n// If collection is GladiatorCollectibles - gets all available bunnies, otherwise - null\nconst useAllGladiatorCollectibleNfts = (collectionAddress: string) => {\n  const [allGladiatorCollectibleNfts, setAllGladiatorCollectibleNfts] = useState<NftToken[]>(null)\n\n  const isPBCollection = collectionAddress === gladiatorCollectiblesAddress\n\n  useEffect(() => {\n    const fetchGladiatorCollectibles = async () => {\n      // In order to not define special TS type just for GladiatorCollectibles display we're hacking a little bit into NftToken type.\n      // On this page we just want to display all bunnies with their lowest prices and updates on the market\n      // Since some bunnies might not be on the market at all, we don't refer to the redux nfts state (which stores NftToken with actual token ids)\n      // We merely request from API all available bunny ids with their metadata and query subgraph for lowest price and latest updates.\n      const { data } = await getNftsFromCollectionApi(gladiatorCollectiblesAddress)\n      const bunnyIds = Object.keys(data)\n      const lowestPrices = await getAllGladiatorCollectiblesLowestPrice(bunnyIds)\n      const latestUpdates = await getAllGladiatorCollectiblesRecentUpdatedAt(bunnyIds)\n      const allBunnies: NftToken[] = bunnyIds.map((bunnyId) => {\n        return {\n          // tokenId here is just a dummy one to satisfy TS. TokenID does not play any role in gird display below\n          tokenId: data[bunnyId].name,\n          name: data[bunnyId].name,\n          description: data[bunnyId].description,\n          collectionAddress: gladiatorCollectiblesAddress,\n          collectionName: data[bunnyId].collection.name,\n          image: data[bunnyId].image,\n          attributes: [\n            {\n              traitType: 'bunnyId',\n              value: bunnyId,\n              displayType: null,\n            },\n          ],\n          meta: {\n            currentAskPrice: lowestPrices[bunnyId],\n            updatedAt: latestUpdates[bunnyId],\n          },\n        }\n      })\n      setAllGladiatorCollectibleNfts(allBunnies)\n    }\n    if (isPBCollection && !allGladiatorCollectibleNfts) {\n      fetchGladiatorCollectibles()\n    }\n  }, [isPBCollection, allGladiatorCollectibleNfts])\n\n  return allGladiatorCollectibleNfts\n}\n\nexport default useAllGladiatorCollectibleNfts\n","/**\n * The base implementation of `_.sum` and `_.sumBy` without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {number} Returns the sum.\n */\nfunction baseSum(array, iteratee) {\n  var result,\n      index = -1,\n      length = array.length;\n\n  while (++index < length) {\n    var current = iteratee(array[index]);\n    if (current !== undefined) {\n      result = result === undefined ? current : (result + current);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseSum;\n","import { TokenMarketData, Image } from 'state/nftMarket/types'\n\nexport enum PaymentCurrency {\n  BNB,\n  WBNB,\n}\n\nexport enum BuyingStage {\n  REVIEW,\n  APPROVE_AND_CONFIRM,\n  CONFIRM,\n  TX_CONFIRMED,\n}\n\nexport interface BuyNFT {\n  collection: {\n    address: string\n    name: string\n  }\n  token: TokenMarketData\n  name: string\n  image: Image\n}\n","import React from 'react'\nimport styled from 'styled-components'\nimport { Modal, Grid, Flex, Text, BinanceIcon, Skeleton } from '@pancakeswap/uikit'\nimport { useBNBBusdPrice } from 'hooks/useBUSDPrice'\nimport { multiplyPriceByAmount } from 'utils/prices'\nimport { BuyingStage } from './types'\n\nexport const StyledModal = styled(Modal)<{ stage: BuyingStage }>`\n  & > div:last-child {\n    padding: 0;\n  }\n  & h2:first-of-type {\n    ${({ stage, theme }) =>\n      stage === BuyingStage.APPROVE_AND_CONFIRM || stage === BuyingStage.CONFIRM\n        ? `color: ${theme.colors.textSubtle}`\n        : null};\n  }\n  & svg:first-of-type {\n    ${({ stage, theme }) =>\n      stage === BuyingStage.APPROVE_AND_CONFIRM || stage === BuyingStage.CONFIRM\n        ? `fill: ${theme.colors.textSubtle}`\n        : null};\n  }\n`\n\nexport const BorderedBox = styled(Grid)`\n  margin: 16px 0;\n  padding: 16px;\n  background-color: ${({ theme }) => theme.colors.background};\n  border: 1px solid ${({ theme }) => theme.colors.cardBorder};\n  border-radius: ${({ theme }) => theme.radii.default};\n  grid-template-columns: 1fr 1fr;\n  grid-row-gap: 8px;\n`\n\ninterface BnbAmountCellProps {\n  bnbAmount: number\n  isLoading?: boolean\n  isInsufficient?: boolean\n}\n\nexport const BnbAmountCell: React.FC<BnbAmountCellProps> = ({ bnbAmount, isLoading, isInsufficient }) => {\n  const bnbBusdPrice = useBNBBusdPrice()\n  if (isLoading) {\n    return (\n      <Flex flexDirection=\"column\" justifySelf=\"flex-end\">\n        <Skeleton width=\"86px\" height=\"20px\" mb=\"6px\" />\n        <Skeleton width=\"86px\" height=\"20px\" />\n      </Flex>\n    )\n  }\n  const usdAmount = multiplyPriceByAmount(bnbBusdPrice, bnbAmount)\n  return (\n    <Flex justifySelf=\"flex-end\" flexDirection=\"column\">\n      <Flex justifyContent=\"flex-end\">\n        <BinanceIcon height={16} width={16} mr=\"4px\" />\n        <Text bold color={isInsufficient ? 'failure' : 'text'}>{`${bnbAmount.toLocaleString(undefined, {\n          minimumFractionDigits: 3,\n          maximumFractionDigits: 5,\n        })}`}</Text>\n      </Flex>\n      <Text small color=\"textSubtle\" textAlign=\"right\">\n        {`($${usdAmount.toLocaleString(undefined, {\n          minimumFractionDigits: 2,\n          maximumFractionDigits: 2,\n        })})`}\n      </Text>\n    </Flex>\n  )\n}\n","import React from 'react'\nimport { useWeb3React } from '@web3-react/core'\nimport ConnectWalletButton from 'components/ConnectWalletButton'\nimport { Flex, Text, Button, ButtonMenu, ButtonMenuItem, Message, Link } from '@pancakeswap/uikit'\nimport { useTranslation } from 'contexts/Localization'\nimport { NftToken } from 'state/nftMarket/types'\nimport { getBscScanLinkForNft } from 'utils'\nimport { FetchStatus } from 'config/constants/types'\nimport { Divider, RoundedImage } from '../shared/styles'\nimport { BorderedBox, BnbAmountCell } from './styles'\nimport { PaymentCurrency } from './types'\n\ninterface ReviewStageProps {\n  nftToBuy: NftToken\n  paymentCurrency: PaymentCurrency\n  setPaymentCurrency: (index: number) => void\n  nftPrice: number\n  walletBalance: number\n  walletFetchStatus: FetchStatus\n  notEnoughBnbForPurchase: boolean\n  continueToNextStage: () => void\n}\n\nconst ReviewStage: React.FC<ReviewStageProps> = ({\n  nftToBuy,\n  paymentCurrency,\n  setPaymentCurrency,\n  nftPrice,\n  walletBalance,\n  walletFetchStatus,\n  notEnoughBnbForPurchase,\n  continueToNextStage,\n}) => {\n  const { t } = useTranslation()\n  const { account } = useWeb3React()\n  return (\n    <>\n      <Flex px=\"24px\" pt=\"24px\" flexDirection=\"column\">\n        <Flex>\n          <RoundedImage src={nftToBuy.image.thumbnail} height={68} width={68} mr=\"16px\" />\n          <Flex flexDirection=\"column\" justifyContent=\"space-evenly\">\n            <Text color=\"textSubtle\" fontSize=\"12px\">\n              {nftToBuy.collectionName}\n            </Text>\n            <Text bold>{nftToBuy.name}</Text>\n            <Flex alignItems=\"center\">\n              <Text fontSize=\"12px\" color=\"textSubtle\" p=\"0px\" height=\"16px\" mr=\"4px\">\n                {t('Token ID:')}\n              </Text>\n              <Button\n                as={Link}\n                scale=\"xs\"\n                px=\"0px\"\n                pt=\"2px\"\n                external\n                variant=\"text\"\n                href={getBscScanLinkForNft(nftToBuy.collectionAddress, nftToBuy.tokenId)}\n              >\n                {nftToBuy.tokenId}\n              </Button>\n            </Flex>\n          </Flex>\n        </Flex>\n        <BorderedBox>\n          <Text small color=\"textSubtle\">\n            {t('Pay with')}\n          </Text>\n          <ButtonMenu\n            activeIndex={paymentCurrency}\n            onItemClick={(index) => setPaymentCurrency(index)}\n            scale=\"sm\"\n            variant=\"subtle\"\n          >\n            <ButtonMenuItem>BNB</ButtonMenuItem>\n            <ButtonMenuItem>WBNB</ButtonMenuItem>\n          </ButtonMenu>\n          <Text small color=\"textSubtle\">\n            {t('Total payment')}\n          </Text>\n          <BnbAmountCell bnbAmount={nftPrice} />\n          <Text small color=\"textSubtle\">\n            {t('%symbol% in wallet', { symbol: paymentCurrency === PaymentCurrency.BNB ? 'BNB' : 'WBNB' })}\n          </Text>\n          {!account ? (\n            <Flex justifySelf=\"flex-end\">\n              <ConnectWalletButton scale=\"sm\" />\n            </Flex>\n          ) : (\n            <BnbAmountCell\n              bnbAmount={walletBalance}\n              isLoading={walletFetchStatus !== FetchStatus.Fetched}\n              isInsufficient={walletFetchStatus === FetchStatus.Fetched && notEnoughBnbForPurchase}\n            />\n          )}\n        </BorderedBox>\n        {walletFetchStatus === FetchStatus.Fetched && notEnoughBnbForPurchase && (\n          <Message p=\"8px\" variant=\"danger\">\n            <Text>\n              {t('Not enough %symbol% to purchase this NFT', {\n                symbol: paymentCurrency === PaymentCurrency.BNB ? 'BNB' : 'WBNB',\n              })}\n            </Text>\n          </Message>\n        )}\n        <Flex alignItems=\"center\">\n          <Text my=\"16px\" mr=\"4px\">\n            {t('Convert between BNB and WBNB for free')}:\n          </Text>\n          <Button\n            as={Link}\n            p=\"0px\"\n            height=\"16px\"\n            external\n            variant=\"text\"\n            href=\"/swap?inputCurrency=BNB&outputCurrency=0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c\"\n          >\n            {t('Convert')}\n          </Button>\n        </Flex>\n      </Flex>\n      <Divider />\n      <Flex px=\"24px\" pb=\"24px\" flexDirection=\"column\">\n        <Button\n          onClick={continueToNextStage}\n          disabled={walletFetchStatus !== FetchStatus.Fetched || notEnoughBnbForPurchase}\n          mb=\"8px\"\n        >\n          {t('Checkout')}\n        </Button>\n        <Button as={Link} external style={{ width: '100%' }} href=\"/swap?outputCurrency=BNB\" variant=\"secondary\">\n          {t('Get %symbol1% or %symbol2%', { symbol1: 'BNB', symbol2: 'WBNB' })}\n        </Button>\n      </Flex>\n    </>\n  )\n}\n\nexport default ReviewStage\n","import React, { useEffect, useState } from 'react'\nimport { InjectedModalProps } from '@pancakeswap/uikit'\nimport { ethers } from 'ethers'\nimport useTheme from 'hooks/useTheme'\nimport { useTranslation } from 'contexts/Localization'\nimport useTokenBalance, { useGetBnbBalance } from 'hooks/useTokenBalance'\nimport { getBalanceNumber } from 'utils/formatBalance'\nimport { ethersToBigNumber } from 'utils/bigNumber'\nimport tokens from 'config/constants/tokens'\nimport { parseUnits, formatEther } from 'ethers/lib/utils'\nimport { useERC20, useNftMarketContract } from 'hooks/useContract'\nimport { useWeb3React } from '@web3-react/core'\nimport { useCallWithGasPrice } from 'hooks/useCallWithGasPrice'\nimport useApproveConfirmTransaction from 'hooks/useApproveConfirmTransaction'\nimport useToast from 'hooks/useToast'\nimport { ToastDescriptionWithTx } from 'components/Toast'\nimport { useAppDispatch } from 'state'\nimport { addUserNft } from 'state/nftMarket/reducer'\nimport { NftLocation, NftToken } from 'state/nftMarket/types'\nimport { StyledModal } from './styles'\nimport ReviewStage from './ReviewStage'\nimport ConfirmStage from '../shared/ConfirmStage'\nimport ApproveAndConfirmStage from '../shared/ApproveAndConfirmStage'\nimport { PaymentCurrency, BuyingStage } from './types'\nimport TransactionConfirmed from '../shared/TransactionConfirmed'\n\nconst modalTitles = {\n  [BuyingStage.REVIEW]: 'Review',\n  [BuyingStage.APPROVE_AND_CONFIRM]: 'Back',\n  [BuyingStage.CONFIRM]: 'Back',\n  [BuyingStage.TX_CONFIRMED]: 'Transaction Confirmed',\n}\n\ninterface BuyModalProps extends InjectedModalProps {\n  nftToBuy: NftToken\n}\n\nconst BuyModal: React.FC<BuyModalProps> = ({ nftToBuy, onDismiss }) => {\n  const [stage, setStage] = useState(BuyingStage.REVIEW)\n  const [confirmedTxHash, setConfirmedTxHash] = useState('')\n  const [paymentCurrency, setPaymentCurrency] = useState<PaymentCurrency>(PaymentCurrency.BNB)\n  const [isPaymentCurrentInitialized, setIsPaymentCurrentInitialized] = useState(false)\n  const { theme } = useTheme()\n  const { t } = useTranslation()\n  const { callWithGasPrice } = useCallWithGasPrice()\n\n  const { account } = useWeb3React()\n  const wbnbContract = useERC20(tokens.wbnb.address)\n  const nftMarketContract = useNftMarketContract()\n\n  const { toastSuccess } = useToast()\n  const dispatch = useAppDispatch()\n\n  const nftPriceWei = parseUnits(nftToBuy.marketData.currentAskPrice, 'ether')\n  const nftPrice = parseFloat(nftToBuy.marketData.currentAskPrice)\n\n  // BNB - returns ethers.BigNumber\n  const { balance: bnbBalance, fetchStatus: bnbFetchStatus } = useGetBnbBalance()\n  const formattedBnbBalance = parseFloat(formatEther(bnbBalance))\n  // WBNB - returns BigNumber\n  const { balance: wbnbBalance, fetchStatus: wbnbFetchStatus } = useTokenBalance(tokens.wbnb.address)\n  const formattedWbnbBalance = getBalanceNumber(wbnbBalance)\n\n  const walletBalance = paymentCurrency === PaymentCurrency.BNB ? formattedBnbBalance : formattedWbnbBalance\n  const walletFetchStatus = paymentCurrency === PaymentCurrency.BNB ? bnbFetchStatus : wbnbFetchStatus\n\n  const notEnoughBnbForPurchase =\n    paymentCurrency === PaymentCurrency.BNB\n      ? bnbBalance.lt(nftPriceWei)\n      : wbnbBalance.lt(ethersToBigNumber(nftPriceWei))\n\n  useEffect(() => {\n    if (bnbBalance.lt(nftPriceWei) && wbnbBalance.gte(ethersToBigNumber(nftPriceWei)) && !isPaymentCurrentInitialized) {\n      setPaymentCurrency(PaymentCurrency.WBNB)\n      setIsPaymentCurrentInitialized(true)\n    }\n  }, [bnbBalance, wbnbBalance, nftPriceWei, isPaymentCurrentInitialized])\n\n  const { isApproving, isApproved, isConfirming, handleApprove, handleConfirm } = useApproveConfirmTransaction({\n    onRequiresApproval: async () => {\n      try {\n        const currentAllowance = await wbnbContract.allowance(account, nftMarketContract.address)\n        return currentAllowance.gt(0)\n      } catch (error) {\n        return false\n      }\n    },\n    onApprove: () => {\n      return callWithGasPrice(wbnbContract, 'approve', [nftMarketContract.address, ethers.constants.MaxUint256])\n    },\n    onApproveSuccess: async ({ receipt }) => {\n      toastSuccess(\n        t('Contract approved - you can now buy NFT with WBNB!'),\n        <ToastDescriptionWithTx txHash={receipt.transactionHash} />,\n      )\n    },\n    onConfirm: () => {\n      const payAmount = Number.isNaN(nftPrice)\n        ? ethers.BigNumber.from(0)\n        : parseUnits(nftToBuy.marketData.currentAskPrice)\n      if (paymentCurrency === PaymentCurrency.BNB) {\n        return callWithGasPrice(nftMarketContract, 'buyTokenUsingBNB', [nftToBuy.collectionAddress, nftToBuy.tokenId], {\n          value: payAmount,\n        })\n      }\n      return callWithGasPrice(nftMarketContract, 'buyTokenUsingWBNB', [\n        nftToBuy.collectionAddress,\n        nftToBuy.tokenId,\n        payAmount,\n      ])\n    },\n    onSuccess: async ({ receipt }) => {\n      setConfirmedTxHash(receipt.transactionHash)\n      setStage(BuyingStage.TX_CONFIRMED)\n      dispatch(\n        addUserNft({\n          tokenId: nftToBuy.tokenId,\n          collectionAddress: nftToBuy.collectionAddress,\n          nftLocation: NftLocation.WALLET,\n        }),\n      )\n      toastSuccess(\n        t('Your NFT has been sent to your wallet'),\n        <ToastDescriptionWithTx txHash={receipt.transactionHash} />,\n      )\n    },\n  })\n\n  const continueToNextStage = () => {\n    if (paymentCurrency === PaymentCurrency.WBNB && !isApproved) {\n      setStage(BuyingStage.APPROVE_AND_CONFIRM)\n    } else {\n      setStage(BuyingStage.CONFIRM)\n    }\n  }\n\n  const goBack = () => {\n    setStage(BuyingStage.REVIEW)\n  }\n\n  const showBackButton = stage === BuyingStage.CONFIRM || stage === BuyingStage.APPROVE_AND_CONFIRM\n\n  return (\n    <StyledModal\n      title={t(modalTitles[stage])}\n      stage={stage}\n      onDismiss={onDismiss}\n      onBack={showBackButton ? goBack : null}\n      headerBackground={theme.colors.gradients.cardHeader}\n    >\n      {stage === BuyingStage.REVIEW && (\n        <ReviewStage\n          nftToBuy={nftToBuy}\n          paymentCurrency={paymentCurrency}\n          setPaymentCurrency={setPaymentCurrency}\n          nftPrice={nftPrice}\n          walletBalance={walletBalance}\n          walletFetchStatus={walletFetchStatus}\n          notEnoughBnbForPurchase={notEnoughBnbForPurchase}\n          continueToNextStage={continueToNextStage}\n        />\n      )}\n      {stage === BuyingStage.APPROVE_AND_CONFIRM && (\n        <ApproveAndConfirmStage\n          variant=\"buy\"\n          handleApprove={handleApprove}\n          isApproved={isApproved}\n          isApproving={isApproving}\n          isConfirming={isConfirming}\n          handleConfirm={handleConfirm}\n        />\n      )}\n      {stage === BuyingStage.CONFIRM && <ConfirmStage isConfirming={isConfirming} handleConfirm={handleConfirm} />}\n      {stage === BuyingStage.TX_CONFIRMED && <TransactionConfirmed txHash={confirmedTxHash} onDismiss={onDismiss} />}\n    </StyledModal>\n  )\n}\n\nexport default BuyModal\n","import React from 'react'\nimport { Flex, Box, Card, CardBody, Text, Button, BinanceIcon, Skeleton, useModal } from '@pancakeswap/uikit'\nimport { useTranslation } from 'contexts/Localization'\nimport { formatNumber } from 'utils/formatBalance'\nimport { multiplyPriceByAmount } from 'utils/prices'\nimport { NftToken } from 'state/nftMarket/types'\nimport NFTMedia from 'views/Nft/market/components/NFTMedia'\nimport { useBNBBusdPrice } from 'hooks/useBUSDPrice'\nimport BuyModal from '../../../components/BuySellModals/BuyModal'\nimport SellModal from '../../../components/BuySellModals/SellModal'\nimport { nftsBaseUrl } from '../../../constants'\nimport { Container, CollectionLink } from '../shared/styles'\n\ninterface MainGladiatorCollectibleCardProps {\n  cheapestNft: NftToken\n  cheapestNftFromOtherSellers?: NftToken\n  nothingForSaleGladiatorCollectible?: NftToken\n}\n\nconst MainGladiatorCollectibleCard: React.FC<MainGladiatorCollectibleCardProps> = ({\n  cheapestNft,\n  cheapestNftFromOtherSellers,\n  nothingForSaleGladiatorCollectible,\n}) => {\n  const { t } = useTranslation()\n  const bnbBusdPrice = useBNBBusdPrice()\n\n  const nftToDisplay = cheapestNftFromOtherSellers || cheapestNft || nothingForSaleGladiatorCollectible\n\n  const onlyOwnNftsOnSale = !cheapestNftFromOtherSellers\n  const hasListings = cheapestNftFromOtherSellers || cheapestNft\n\n  const priceInUsd = multiplyPriceByAmount(bnbBusdPrice, parseFloat(nftToDisplay.marketData?.currentAskPrice))\n  const [onPresentBuyModal] = useModal(<BuyModal nftToBuy={nftToDisplay} />)\n  const [onPresentAdjustPriceModal] = useModal(<SellModal variant=\"edit\" nftToSell={cheapestNft} />)\n\n  const actionButton = onlyOwnNftsOnSale ? (\n    <Button\n      variant=\"danger\"\n      minWidth=\"168px\"\n      width={['100%', null, 'max-content']}\n      mt=\"24px\"\n      onClick={onPresentAdjustPriceModal}\n    >\n      {t('Adjust Sale Price')}\n    </Button>\n  ) : (\n    <Button\n      disabled={onlyOwnNftsOnSale}\n      minWidth=\"168px\"\n      width={['100%', null, 'max-content']}\n      mt=\"24px\"\n      onClick={onPresentBuyModal}\n    >\n      {t('Buy')}\n    </Button>\n  )\n  return (\n    <Card mb=\"40px\">\n      <CardBody>\n        <Container flexDirection={['column-reverse', null, 'row']}>\n          <Flex flex=\"2\">\n            <Box>\n              <CollectionLink to={`${nftsBaseUrl}/collections/${nftToDisplay.collectionAddress}`}>\n                {nftToDisplay.collectionName}\n              </CollectionLink>\n              <Text fontSize=\"40px\" bold mt=\"12px\">\n                {nftToDisplay.name}\n              </Text>\n              <Text mt={['16px', '16px', '48px']}>{t(nftToDisplay.description)}</Text>\n              {(cheapestNft || cheapestNftFromOtherSellers) && (\n                <>\n                  <Text color=\"textSubtle\" mt={['16px', '16px', '48px']}>\n                    {t('Lowest price')}\n                  </Text>\n                  <Flex alignItems=\"center\" mt=\"8px\">\n                    <BinanceIcon width={18} height={18} mr=\"4px\" />\n                    <Text fontSize=\"24px\" bold mr=\"4px\">\n                      {formatNumber(parseFloat(nftToDisplay.marketData?.currentAskPrice), 0, 5)}\n                    </Text>\n                    {bnbBusdPrice ? (\n                      <Text color=\"textSubtle\">{`(~${priceInUsd.toLocaleString(undefined, {\n                        minimumFractionDigits: 2,\n                        maximumFractionDigits: 2,\n                      })} USD)`}</Text>\n                    ) : (\n                      <Skeleton width=\"64px\" />\n                    )}\n                  </Flex>\n                </>\n              )}\n              {hasListings && actionButton}\n            </Box>\n          </Flex>\n          <Flex flex=\"2\" justifyContent={['center', null, 'flex-end']} alignItems=\"center\" maxWidth={440}>\n            <NFTMedia key={nftToDisplay.name} nft={nftToDisplay} width={440} height={440} />\n          </Flex>\n        </Container>\n      </CardBody>\n    </Card>\n  )\n}\n\nexport default MainGladiatorCollectibleCard\n","import React, { useState } from 'react'\nimport styled, { keyframes, css } from 'styled-components'\nimport { Grid, Text, Card, Box, ChevronUpIcon, ChevronDownIcon, IconButton } from '@pancakeswap/uikit'\nimport useTheme from 'hooks/useTheme'\n\nconst expandAnimation = keyframes`\n  from {\n    max-height: 0px;\n  }\n  to {\n    max-height: 720px;\n  }\n`\n\nconst collapseAnimation = keyframes`\n  from {\n    max-height: 710px;\n  }\n  to {\n    max-height: 0px;\n  }\n`\n\nconst ExpandableCardBody = styled(Box)<{ expanded: boolean }>`\n  animation: ${({ expanded }) =>\n    expanded\n      ? css`\n          ${expandAnimation} 300ms linear forwards\n        `\n      : css`\n          ${collapseAnimation} 300ms linear forwards\n        `};\n`\n\nconst FullWidthCard = styled(Card)`\n  width: 100%;\n`\n\ninterface ExpandableCardProps {\n  icon: React.ReactNode\n  title: string\n  content: React.ReactNode\n}\n\nconst ExpandableCard: React.FC<ExpandableCardProps> = ({ icon, title, content }) => {\n  const [expanded, setExpanded] = useState(true)\n  const { theme } = useTheme()\n  return (\n    <FullWidthCard>\n      <Grid\n        gridTemplateColumns=\"1fr 8fr 1fr\"\n        alignItems=\"center\"\n        height=\"72px\"\n        px=\"24px\"\n        borderBottom={`1px solid ${theme.colors.cardBorder}`}\n      >\n        {icon}\n        <Text bold>{title}</Text>\n        <IconButton\n          onClick={() => {\n            setExpanded((prev) => !prev)\n          }}\n          variant=\"text\"\n          maxWidth=\"32px\"\n        >\n          {expanded ? (\n            <ChevronUpIcon width=\"24px\" height=\"24px\" color=\"textSubtle\" />\n          ) : (\n            <ChevronDownIcon width=\"24px\" height=\"24px\" color=\"textSubtle\" />\n          )}\n        </IconButton>\n      </Grid>\n      <ExpandableCardBody expanded={expanded}>{content}</ExpandableCardBody>\n    </FullWidthCard>\n  )\n}\n\nexport default ExpandableCard\n","import React from 'react'\nimport styled from 'styled-components'\nimport {\n  Box,\n  Flex,\n  Grid,\n  Text,\n  CogIcon,\n  SellIcon,\n  WalletFilledIcon,\n  CameraIcon,\n  BinanceIcon,\n  Skeleton,\n  useModal,\n} from '@pancakeswap/uikit'\nimport { useWeb3React } from '@web3-react/core'\nimport { useUserNfts } from 'state/nftMarket/hooks'\nimport { NftLocation, NftToken, UserNftInitializationState } from 'state/nftMarket/types'\nimport { formatNumber } from 'utils/formatBalance'\nimport ConnectWalletButton from 'components/ConnectWalletButton'\nimport { useTranslation } from 'contexts/Localization'\nimport ExpandableCard from '../shared/ExpandableCard'\nimport useFetchUserNfts from '../../../Profile/hooks/useFetchUserNfts'\nimport SellModal from '../../../components/BuySellModals/SellModal'\nimport ProfileNftModal from '../../../components/ProfileNftModal'\nimport { SmallRoundedImage, CollectibleRowContainer } from '../shared/styles'\n\nconst ScrollableContainer = styled(Box)`\n  overflow-y: auto;\n  max-height: 224px;\n`\n\nconst Divider = styled.div`\n  margin: 16px 20px;\n  border-bottom: ${({ theme }) => `1px solid ${theme.colors.cardBorder}`};\n`\n\nconst LocationColors = {\n  [NftLocation.FORSALE]: 'failure',\n  [NftLocation.WALLET]: 'secondary',\n  [NftLocation.PROFILE]: 'textSubtle',\n}\n\nconst LocationIcons = {\n  [NftLocation.FORSALE]: SellIcon,\n  [NftLocation.WALLET]: WalletFilledIcon,\n  [NftLocation.PROFILE]: CameraIcon,\n}\n\ninterface CollectibleRowProps {\n  nft: NftToken\n  lowestPrice: string\n}\n\nconst CollectibleRow: React.FC<CollectibleRowProps> = ({ nft, lowestPrice }) => {\n  const { t } = useTranslation()\n  const modalVariant = nft.location === NftLocation.WALLET ? 'sell' : 'edit'\n  const [onPresentProfileNftModal] = useModal(<ProfileNftModal nft={nft} />)\n  const [onPresentModal] = useModal(<SellModal variant={modalVariant} nftToSell={nft} />)\n  return (\n    <CollectibleRowContainer\n      gridTemplateColumns=\"96px 1fr\"\n      px=\"16px\"\n      pb=\"8px\"\n      my=\"16px\"\n      onClick={nft.location === NftLocation.PROFILE ? onPresentProfileNftModal : onPresentModal}\n    >\n      <SmallRoundedImage src={nft.image.thumbnail} width={64} height={64} mx=\"16px\" />\n      <Grid gridTemplateColumns=\"1fr 1fr\">\n        <Text bold>{nft.name}</Text>\n        <Text fontSize=\"12px\" color=\"textSubtle\" textAlign=\"right\">\n          {nft.collectionName}\n        </Text>\n        {lowestPrice && (\n          <>\n            <Text small color=\"textSubtle\">\n              {t('Lowest price')}\n            </Text>\n            <Flex justifySelf=\"flex-end\" width=\"max-content\">\n              <BinanceIcon width=\"16px\" height=\"16px\" mr=\"4px\" />\n              <Text small>{formatNumber(parseFloat(lowestPrice), 0, 5)}</Text>\n            </Flex>\n          </>\n        )}\n        {nft.location === NftLocation.FORSALE ? (\n          <>\n            <Text small color=\"textSubtle\">\n              {t('Your price')}\n            </Text>\n            <Flex justifySelf=\"flex-end\" width=\"max-content\">\n              <BinanceIcon width=\"16px\" height=\"16px\" mr=\"4px\" />\n              <Text small>{nft.marketData.currentAskPrice}</Text>\n            </Flex>\n          </>\n        ) : (\n          <Text small color=\"textDisabled\">\n            {t('Not on sale')}\n          </Text>\n        )}\n      </Grid>\n    </CollectibleRowContainer>\n  )\n}\n\ninterface CollectiblesByLocationProps {\n  location: NftLocation\n  nfts: NftToken[]\n  lowestPrice: string\n}\n\nconst CollectiblesByLocation: React.FC<CollectiblesByLocationProps> = ({ location, nfts, lowestPrice }) => {\n  const { t } = useTranslation()\n  const IconComponent = LocationIcons[location]\n  return (\n    <Flex flexDirection=\"column\">\n      <Grid gridTemplateColumns=\"32px 1fr\" px=\"16px\" pb=\"8px\">\n        <IconComponent color={LocationColors[location]} width=\"24px\" height=\"24px\" />\n        <Text display=\"inline\" bold color={LocationColors[location]}>\n          {t(location)}\n        </Text>\n      </Grid>\n      <ScrollableContainer>\n        {nfts.map((nft) => (\n          <CollectibleRow key={nft.tokenId} nft={nft} lowestPrice={lowestPrice} />\n        ))}\n      </ScrollableContainer>\n    </Flex>\n  )\n}\n\ninterface ManageGladiatorCollectiblesCardProps {\n  bunnyId: string\n  lowestPrice?: string\n}\n\nconst ManageGladiatorCollectiblesCard: React.FC<ManageGladiatorCollectiblesCardProps> = ({ bunnyId, lowestPrice }) => {\n  const { t } = useTranslation()\n  const { account } = useWeb3React()\n  const { userNftsInitializationState, nfts: userNfts } = useUserNfts()\n  useFetchUserNfts()\n\n  const bunniesInWallet = userNfts.filter(\n    (nft) => nft.attributes[0].value === bunnyId && nft.location === NftLocation.WALLET,\n  )\n  const bunniesForSale = userNfts.filter(\n    (nft) => nft.attributes[0].value === bunnyId && nft.location === NftLocation.FORSALE,\n  )\n  const profilePicBunny = userNfts.filter(\n    (nft) => nft.attributes[0].value === bunnyId && nft.location === NftLocation.PROFILE,\n  )\n\n  const loading = userNftsInitializationState !== UserNftInitializationState.INITIALIZED\n  const useHasNoBunnies =\n    !loading && bunniesInWallet.length === 0 && bunniesForSale.length === 0 && profilePicBunny.length === 0\n  const totalBunnies = bunniesInWallet.length + bunniesForSale.length + profilePicBunny.length\n  const totalBunniesText = account && !useHasNoBunnies ? ` (${totalBunnies})` : ''\n\n  const content = (\n    <Box pt=\"16px\">\n      {!account && (\n        <Flex mb=\"16px\" justifyContent=\"center\">\n          <ConnectWalletButton />\n        </Flex>\n      )}\n      {useHasNoBunnies && (\n        <Text px=\"16px\" pb=\"16px\" color=\"textSubtle\">\n          {t('You dont have any of this item.')}\n        </Text>\n      )}\n      {account && loading && (\n        <Box px=\"16px\" pb=\"8px\">\n          <Skeleton mb=\"8px\" />\n          <Skeleton mb=\"8px\" />\n          <Skeleton mb=\"8px\" />\n        </Box>\n      )}\n      {bunniesForSale.length > 0 && (\n        <CollectiblesByLocation location={NftLocation.FORSALE} nfts={bunniesForSale} lowestPrice={lowestPrice} />\n      )}\n      {bunniesInWallet.length > 0 && (\n        <>\n          {bunniesForSale.length > 0 && <Divider />}\n          <CollectiblesByLocation location={NftLocation.WALLET} nfts={bunniesInWallet} lowestPrice={lowestPrice} />\n        </>\n      )}\n      {profilePicBunny.length > 0 && (\n        <>\n          {(bunniesForSale.length > 0 || bunniesInWallet.length > 0) && <Divider />}\n          <CollectiblesByLocation location={NftLocation.PROFILE} nfts={profilePicBunny} lowestPrice={lowestPrice} />\n        </>\n      )}\n    </Box>\n  )\n  return (\n    <ExpandableCard\n      title={`${t('Manage Yours')}${totalBunniesText}`}\n      icon={<CogIcon width=\"24px\" height=\"24px\" />}\n      content={content}\n    />\n  )\n}\n\nexport default ManageGladiatorCollectiblesCard\n","import React from 'react'\nimport { Box, Flex, Text, NftIcon } from '@pancakeswap/uikit'\nimport { useTranslation } from 'contexts/Localization'\nimport { NftAttribute } from 'state/nftMarket/types'\nimport ExpandableCard from './ExpandableCard'\n\ninterface PropertiesCardProps {\n  properties: NftAttribute[]\n  rarity: { [key: string]: number }\n}\n\n// Map of known traits to human-readable text\nconst KNOWN_TRAITS_TEXT = {\n  bunnyId: 'Bunny ID',\n}\n\nconst SingleProperty: React.FC<{ title: string; value: string | number; rarity: number }> = ({\n  title,\n  value,\n  rarity,\n}) => {\n  return (\n    <Flex justifyContent=\"space-between\" alignItems=\"center\">\n      <Text fontSize=\"12px\" color=\"textSubtle\" bold textTransform=\"uppercase\">\n        {KNOWN_TRAITS_TEXT[title] ?? title}\n      </Text>\n      <Flex alignItems=\"center\">\n        <Text bold textTransform=\"uppercase\" mr=\"4px\">\n          {value}\n        </Text>\n        {rarity && (\n          <Text small color=\"textSubtle\">\n            ({rarity.toFixed(2)}%)\n          </Text>\n        )}\n      </Flex>\n    </Flex>\n  )\n}\n\nconst PropertiesCard: React.FC<PropertiesCardProps> = ({ properties, rarity }) => {\n  const { t } = useTranslation()\n  const content = (\n    <Box p=\"24px\">\n      {properties.map((property) => (\n        <SingleProperty\n          key={property.traitType}\n          title={property.traitType}\n          value={property.value}\n          rarity={rarity[property.traitType]}\n        />\n      ))}\n    </Box>\n  )\n  return <ExpandableCard title={t('Properties')} icon={<NftIcon width=\"24px\" height=\"24px\" />} content={content} />\n}\n\nexport default PropertiesCard\n","import React from 'react'\nimport styled from 'styled-components'\nimport { Box, Flex, Text, SearchIcon, Link } from '@pancakeswap/uikit'\nimport { getBscScanLink } from 'utils'\nimport { formatNumber } from 'utils/formatBalance'\nimport uriToHttp from 'utils/uriToHttp'\nimport { useTranslation } from 'contexts/Localization'\nimport useActiveWeb3React from 'hooks/useActiveWeb3React'\nimport ExpandableCard from './ExpandableCard'\n\ninterface DetailsCardProps {\n  contractAddress: string\n  ipfsJson: string\n  count?: number\n  rarity?: number\n}\n\nconst LongTextContainer = styled(Text)`\n  max-width: 120px;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n`\n\nconst DetailsCard: React.FC<DetailsCardProps> = ({ contractAddress, ipfsJson, count, rarity }) => {\n  const { t } = useTranslation()\n  const { chainId } = useActiveWeb3React()\n  const ipfsLink = ipfsJson ? uriToHttp(ipfsJson)[0] : null\n  const content = (\n    <Box p=\"24px\">\n      <Flex justifyContent=\"space-between\" alignItems=\"center\" mb=\"16px\">\n        <Text fontSize=\"12px\" color=\"textSubtle\" bold textTransform=\"uppercase\">\n          {t('Contract address')}\n        </Text>\n        <Link external href={getBscScanLink(contractAddress, 'address', chainId)}>\n          <LongTextContainer bold>{contractAddress}</LongTextContainer>\n        </Link>\n      </Flex>\n      {ipfsLink && (\n        <Flex justifyContent=\"space-between\" alignItems=\"center\" mb=\"16px\">\n          <Text fontSize=\"12px\" color=\"textSubtle\" bold textTransform=\"uppercase\">\n            IPFS JSON\n          </Text>\n          <Link external href={ipfsLink}>\n            <LongTextContainer bold>{ipfsLink}</LongTextContainer>\n          </Link>\n        </Flex>\n      )}\n      {count && (\n        <Flex justifyContent=\"space-between\" alignItems=\"center\" mb=\"16px\" mr=\"4px\">\n          <Text fontSize=\"12px\" color=\"textSubtle\" bold textTransform=\"uppercase\">\n            {t('Supply Count')}\n          </Text>\n          <LongTextContainer bold>{formatNumber(count, 0, 0)}</LongTextContainer>\n        </Flex>\n      )}\n      {rarity && (\n        <Flex justifyContent=\"space-between\" alignItems=\"center\" mr=\"4px\">\n          <Text fontSize=\"12px\" color=\"textSubtle\" bold textTransform=\"uppercase\">\n            {t('Rarity')}\n          </Text>\n          <LongTextContainer bold>{`${formatNumber(rarity, 0, 2)}%`}</LongTextContainer>\n        </Flex>\n      )}\n    </Box>\n  )\n  return <ExpandableCard title={t('Details')} icon={<SearchIcon width=\"24px\" height=\"24px\" />} content={content} />\n}\n\nexport default DetailsCard\n","import React, { useState, useEffect, useMemo } from 'react'\nimport shuffle from 'lodash/shuffle'\nimport styled from 'styled-components'\nimport { Swiper, SwiperSlide } from 'swiper/react'\nimport SwiperCore from 'swiper'\nimport { ArrowBackIcon, ArrowForwardIcon, Box, IconButton, Text, Flex, useMatchBreakpoints } from '@pancakeswap/uikit'\nimport { useTranslation } from 'contexts/Localization'\nimport { isAddress } from 'utils'\nimport { useNftsFromCollection } from 'state/nftMarket/hooks'\nimport { fetchNftsFromCollections } from 'state/nftMarket/reducer'\nimport { useAppDispatch } from 'state'\nimport { gladiatorCollectiblesAddress } from '../../../constants'\nimport { CollectibleLinkCard } from '../../../components/CollectibleCard'\nimport useAllGladiatorCollectibleNfts from '../../../hooks/useAllGladiatorCollectibleNfts'\n\nimport 'swiper/swiper-bundle.css'\n\nconst INITIAL_SLIDE = 4\n\nconst SwiperCircle = styled.div<{ isActive }>`\n  background-color: ${({ theme, isActive }) => (isActive ? theme.colors.secondary : theme.colors.textDisabled)};\n  width: 12px;\n  height: 12px;\n  margin-right: 8px;\n  border-radius: 50%;\n  cursor: pointer;\n`\n\nconst StyledSwiper = styled.div`\n  ${({ theme }) => theme.mediaQueries.md} {\n    .swiper-wrapper {\n      max-height: 390px;\n    }\n  }\n`\n\ninterface MoreFromThisCollectionProps {\n  collectionAddress: string\n  currentTokenName?: string\n  title?: string\n}\n\nconst MoreFromThisCollection: React.FC<MoreFromThisCollectionProps> = ({\n  collectionAddress,\n  currentTokenName = '',\n  title = 'More from this collection',\n}) => {\n  const dispatch = useAppDispatch()\n  const { t } = useTranslation()\n  const [swiperRef, setSwiperRef] = useState<SwiperCore>(null)\n  const [activeIndex, setActiveIndex] = useState(1)\n  const { isMobile, isMd, isLg } = useMatchBreakpoints()\n  const allGladiatorCollectibleNfts = useAllGladiatorCollectibleNfts(collectionAddress)\n  const collectionNfts = useNftsFromCollection(collectionAddress)\n\n  const isPBCollection = isAddress(collectionAddress) === gladiatorCollectiblesAddress\n\n  useEffect(() => {\n    if (!isPBCollection && !collectionNfts) {\n      dispatch(\n        fetchNftsFromCollections({\n          collectionAddress: isAddress(collectionAddress) || collectionAddress,\n          page: 1,\n          size: 100,\n        }),\n      )\n    }\n  }, [collectionNfts, collectionAddress, dispatch, isPBCollection])\n\n  let nftsToShow = useMemo(() => {\n    return shuffle(\n      allGladiatorCollectibleNfts\n        ? allGladiatorCollectibleNfts.filter((nft) => nft.name !== currentTokenName)\n        : collectionNfts?.filter((nft) => nft.name !== currentTokenName && nft.marketData?.isTradable),\n    )\n  }, [allGladiatorCollectibleNfts, collectionNfts, currentTokenName])\n\n  if (!nftsToShow || nftsToShow.length === 0) {\n    return null\n  }\n\n  let slidesPerView = 4\n  let maxPageIndex = 3\n\n  if (isMd) {\n    slidesPerView = 2\n    maxPageIndex = 6\n  }\n\n  if (isLg) {\n    slidesPerView = 3\n    maxPageIndex = 4\n  }\n\n  if (isPBCollection) {\n    // GladiatorCollectibles should display 1 card per bunny id\n    nftsToShow = nftsToShow.reduce((nftArray, current) => {\n      const bunnyId = current.attributes[0].value\n      if (!nftArray.find((nft) => nft.attributes[0].value === bunnyId)) {\n        nftArray.push(current)\n      }\n      return nftArray\n    }, [])\n  }\n  nftsToShow = nftsToShow.slice(0, 12)\n\n  const nextSlide = () => {\n    if (activeIndex < maxPageIndex - 1) {\n      setActiveIndex((index) => index + 1)\n      swiperRef.slideNext()\n    }\n  }\n\n  const previousSlide = () => {\n    if (activeIndex > 0) {\n      setActiveIndex((index) => index - 1)\n      swiperRef.slidePrev()\n    }\n  }\n\n  const goToSlide = (index: number) => {\n    setActiveIndex(index / slidesPerView)\n    swiperRef.slideTo(index)\n  }\n\n  const updateActiveIndex = ({ activeIndex: newActiveIndex }) => {\n    if (newActiveIndex !== undefined) setActiveIndex(Math.ceil(newActiveIndex / slidesPerView))\n  }\n\n  return (\n    <Box pt=\"56px\" mb=\"52px\">\n      {title && (\n        <Text bold mb=\"24px\">\n          {t(title)}\n        </Text>\n      )}\n      {isMobile ? (\n        <StyledSwiper>\n          <Swiper spaceBetween={16} slidesPerView={1.5}>\n            {nftsToShow.map((nft) => (\n              <SwiperSlide key={nft.tokenId}>\n                <CollectibleLinkCard nft={nft} />\n              </SwiperSlide>\n            ))}\n          </Swiper>\n        </StyledSwiper>\n      ) : (\n        <StyledSwiper>\n          <Swiper\n            onSwiper={setSwiperRef}\n            onActiveIndexChange={updateActiveIndex}\n            spaceBetween={16}\n            slidesPerView={slidesPerView}\n            slidesPerGroup={slidesPerView}\n            initialSlide={INITIAL_SLIDE}\n          >\n            {nftsToShow.map((nft) => (\n              <SwiperSlide key={nft.tokenId}>\n                <CollectibleLinkCard\n                  nft={nft}\n                  currentAskPrice={isPBCollection ? null : parseFloat(nft.marketData?.currentAskPrice)}\n                />\n              </SwiperSlide>\n            ))}\n          </Swiper>\n          <Flex mt=\"16px\" alignItems=\"center\" justifyContent=\"center\">\n            <IconButton variant=\"text\" onClick={previousSlide}>\n              <ArrowBackIcon />\n            </IconButton>\n            {[...Array(maxPageIndex).keys()].map((index) => (\n              <SwiperCircle\n                key={index}\n                onClick={() => goToSlide(index * slidesPerView)}\n                isActive={activeIndex === index}\n              />\n            ))}\n            <IconButton variant=\"text\" onClick={nextSlide}>\n              <ArrowForwardIcon />\n            </IconButton>\n          </Flex>\n        </StyledSwiper>\n      )}\n    </Box>\n  )\n}\n\nexport default MoreFromThisCollection\n","import React from 'react'\nimport styled from 'styled-components'\nimport { useWeb3React } from '@web3-react/core'\nimport { Price } from '@pancakeswap/sdk'\nimport { Button, Grid, Text, Flex, Box, BinanceIcon, useModal, Skeleton } from '@pancakeswap/uikit'\nimport { formatNumber } from 'utils/formatBalance'\nimport { ContextApi } from 'contexts/Localization/types'\nimport { useTranslation } from 'contexts/Localization'\nimport { useBNBBusdPrice } from 'hooks/useBUSDPrice'\nimport { multiplyPriceByAmount } from 'utils/prices'\nimport { NftToken } from 'state/nftMarket/types'\nimport BuyModal from 'views/Nft/market/components/BuySellModals/BuyModal'\nimport SellModal from 'views/Nft/market/components/BuySellModals/SellModal'\nimport ProfileCell from 'views/Nft/market/components/ProfileCell'\nimport { ButtonContainer } from '../../shared/styles'\n\nconst OwnersTableRow = styled(Grid)`\n  grid-template-columns: 2fr 2fr 1fr;\n  grid-row-gap: 16px;\n  margin-top: 16px;\n  & > div {\n    padding-bottom: 16px;\n    border-bottom: ${({ theme }) => `1px solid ${theme.colors.cardBorder}`};\n  }\n`\n\ninterface RowProps {\n  t: ContextApi['t']\n  nft: NftToken\n  bnbBusdPrice: Price\n  account: string\n}\n\nconst Row: React.FC<RowProps> = ({ t, nft, bnbBusdPrice, account }) => {\n  const priceInUsd = multiplyPriceByAmount(bnbBusdPrice, parseFloat(nft.marketData.currentAskPrice))\n\n  const ownNft = account ? nft.marketData.currentSeller === account.toLowerCase() : false\n  const [onPresentBuyModal] = useModal(<BuyModal nftToBuy={nft} />)\n  const [onPresentAdjustPriceModal] = useModal(<SellModal variant=\"edit\" nftToSell={nft} />)\n\n  return (\n    <>\n      <Box pl=\"24px\">\n        <Flex justifySelf=\"flex-start\" alignItems=\"center\" width=\"max-content\">\n          <BinanceIcon width=\"24px\" height=\"24px\" mr=\"8px\" />\n          <Text bold>{formatNumber(parseFloat(nft.marketData.currentAskPrice), 0, 5)}</Text>\n        </Flex>\n        {bnbBusdPrice ? (\n          <Text fontSize=\"12px\" color=\"textSubtle\">\n            {`(~${formatNumber(priceInUsd, 2, 2)} USD)`}\n          </Text>\n        ) : (\n          <Skeleton width=\"86px\" height=\"12px\" mt=\"4px\" />\n        )}\n      </Box>\n      <Box>\n        <Flex width=\"max-content\" alignItems=\"center\">\n          <ProfileCell accountAddress={nft.marketData.currentSeller} />\n        </Flex>\n      </Box>\n      <ButtonContainer>\n        {ownNft ? (\n          <Button scale=\"sm\" variant=\"danger\" maxWidth=\"128px\" onClick={onPresentAdjustPriceModal}>\n            {t('Edit')}\n          </Button>\n        ) : (\n          <Button scale=\"sm\" variant=\"secondary\" maxWidth=\"128px\" onClick={onPresentBuyModal}>\n            {t('Buy')}\n          </Button>\n        )}\n      </ButtonContainer>\n    </>\n  )\n}\n\ninterface ForSaleTableRowsProps {\n  nftsForSale: NftToken[]\n}\n\nconst ForSaleTableRow: React.FC<ForSaleTableRowsProps> = ({ nftsForSale }) => {\n  const { account } = useWeb3React()\n  const { t } = useTranslation()\n  const bnbBusdPrice = useBNBBusdPrice()\n  return (\n    <OwnersTableRow>\n      {nftsForSale.map((nft) => (\n        <Row key={nft.tokenId} t={t} nft={nft} bnbBusdPrice={bnbBusdPrice} account={account} />\n      ))}\n    </OwnersTableRow>\n  )\n}\n\nexport default ForSaleTableRow\n","import { Spinner, Text } from '@pancakeswap/uikit'\nimport React from 'react'\nimport styled, { keyframes } from 'styled-components'\n\nconst countdownAnimation = keyframes`\n  from {\n    stroke-dashoffset: 0px;\n  }\n  to {\n    stroke-dashoffset: 113px;\n  }\n`\n\nconst CountdownContainer = styled.div`\n  position: relative;\n  margin: auto;\n  height: 40px;\n  width: 40px;\n  text-align: center;\n\n  & svg {\n    position: absolute;\n    top: 0;\n    right: 0;\n    width: 40px;\n    height: 40px;\n    transform: rotateY(-180deg) rotateZ(-90deg);\n\n    & circle {\n      stroke-dasharray: 113px;\n      stroke-dashoffset: 0px;\n      stroke-linecap: round;\n      stroke-width: 2px;\n      stroke: ${({ theme }) => theme.colors.primaryBright};\n      fill: none;\n      animation: ${countdownAnimation} 10s linear infinite forwards;\n    }\n  }\n`\n\ninterface CountdownCircleProps {\n  secondsRemaining: number\n  isUpdating: boolean\n}\n\nconst CountdownCircle: React.FC<CountdownCircleProps> = ({ secondsRemaining, isUpdating }) => {\n  if (secondsRemaining < 1 || isUpdating) {\n    return <Spinner size={42} />\n  }\n  return (\n    <CountdownContainer>\n      <Text color=\"textSubtle\" lineHeight=\"40px\" display=\"inline-block\">\n        {secondsRemaining}\n      </Text>\n      <svg>\n        <circle r=\"18\" cx=\"20\" cy=\"20\" />\n      </svg>\n    </CountdownContainer>\n  )\n}\n\nexport default CountdownCircle\n","import React, { useEffect, useState } from 'react'\nimport { Flex, useTooltip } from '@pancakeswap/uikit'\nimport { useLoadingState } from 'state/nftMarket/hooks'\nimport { useTranslation } from 'contexts/Localization'\nimport CountdownCircle from './CountdownCircle'\n\nconst UpdateIndicator = () => {\n  const { t } = useTranslation()\n  const [secondsRemaining, setSecondsRemaining] = useState(10)\n  const { isUpdatingGladiatorCollectibles: isFetchingMoreGladiatorCollectibles } = useLoadingState()\n  const { tooltip, tooltipVisible, targetRef } = useTooltip(t('Items in the table update every 10 seconds'), {\n    placement: 'auto',\n  })\n\n  useEffect(() => {\n    const intervalId = setInterval(() => {\n      setSecondsRemaining((prev) => prev - 1)\n    }, 1000)\n\n    return () => {\n      clearInterval(intervalId)\n    }\n  }, [])\n\n  useEffect(() => {\n    if (!isFetchingMoreGladiatorCollectibles) {\n      setSecondsRemaining(10)\n    }\n  }, [isFetchingMoreGladiatorCollectibles])\n\n  return (\n    <Flex justifyContent=\"center\" ref={targetRef}>\n      <CountdownCircle secondsRemaining={secondsRemaining} isUpdating={isFetchingMoreGladiatorCollectibles} />\n      {tooltipVisible && tooltip}\n    </Flex>\n  )\n}\n\nexport default UpdateIndicator\n","import React, { useState, useEffect } from 'react'\nimport styled from 'styled-components'\nimport {\n  Flex,\n  Card,\n  Grid,\n  SellIcon,\n  Text,\n  ArrowBackIcon,\n  ArrowForwardIcon,\n  useMatchBreakpoints,\n  ArrowUpIcon,\n  ArrowDownIcon,\n  Button,\n  Spinner,\n} from '@pancakeswap/uikit'\nimport { useTranslation } from 'contexts/Localization'\nimport useTheme from 'hooks/useTheme'\nimport { NftToken } from 'state/nftMarket/types'\nimport ForSaleTableRows from './ForSaleTableRows'\nimport { StyledSortButton, TableHeading } from '../../shared/styles'\nimport UpdateIndicator from './UpdateIndicator'\nimport { Arrow, PageButtons } from '../../../../components/PaginationButtons'\n\nconst ITEMS_PER_PAGE_DESKTOP = 10\nconst ITEMS_PER_PAGE_MOBILE = 5\n\nconst StyledCard = styled(Card)<{ hasManyPages: boolean }>`\n  width: 100%;\n  & > div:first-child {\n    ${({ hasManyPages }) => (hasManyPages ? 'min-height: 480px;' : null)}\n    display: flex;\n    flex-direction: column;\n    ${({ theme }) => theme.mediaQueries.md} {\n      ${({ hasManyPages }) => (hasManyPages ? 'min-height: 850px;' : null)}\n    }\n  }\n`\n\ninterface ForSaleTableCardProps {\n  nftsForSale: NftToken[]\n  bunnyId: string\n  totalForSale: number\n  priceSort: 'asc' | 'desc'\n  isFetchingMoreNfts: boolean\n  togglePriceSort: () => void\n  loadMore: (orderDirection: 'asc' | 'desc') => void\n}\n\nconst ForSaleTableCard: React.FC<ForSaleTableCardProps> = ({\n  nftsForSale,\n  bunnyId,\n  totalForSale,\n  loadMore,\n  isFetchingMoreNfts,\n  priceSort,\n  togglePriceSort,\n}) => {\n  const [page, setPage] = useState(1)\n  const { isMobile } = useMatchBreakpoints()\n  const itemsPerPage = isMobile ? ITEMS_PER_PAGE_MOBILE : ITEMS_PER_PAGE_DESKTOP\n\n  const { t } = useTranslation()\n  const { theme } = useTheme()\n\n  useEffect(() => {\n    // If user clicks on other NFT at the bottom of the page - load new NFT table starting on page 1\n    // Same for reversing sorting direction\n    setPage(1)\n  }, [bunnyId, priceSort])\n\n  const needsExtraPage = nftsForSale.length % itemsPerPage !== 0\n  let maxPage = Math.floor(nftsForSale.length / itemsPerPage)\n  if (needsExtraPage) {\n    maxPage += 1\n  }\n\n  const nftsOnCurrentPage = nftsForSale.slice((page - 1) * itemsPerPage, page * itemsPerPage)\n\n  const switchPage = (pageNumber: number) => {\n    setPage(pageNumber)\n  }\n\n  const loadMoreHandler = () => {\n    loadMore(priceSort)\n  }\n\n  const loadMoreButton = isFetchingMoreNfts ? (\n    <Flex width=\"96px\" justifyContent=\"center\">\n      <Spinner size={32} />\n    </Flex>\n  ) : (\n    <Button variant=\"primary\" scale=\"xs\" ml=\"12px\" onClick={loadMoreHandler}>\n      {t('Load more')}\n    </Button>\n  )\n\n  return (\n    <StyledCard hasManyPages={maxPage > 1}>\n      <Grid\n        flex=\"0 1 auto\"\n        gridTemplateColumns=\"34px 1fr 48px\"\n        alignItems=\"center\"\n        height=\"72px\"\n        px=\"24px\"\n        borderBottom={`1px solid ${theme.colors.cardBorder}`}\n      >\n        <SellIcon width=\"24px\" height=\"24px\" />\n        <Text bold>{t('For Sale (%num%)', { num: totalForSale.toLocaleString() })}</Text>\n        <UpdateIndicator />\n      </Grid>\n      {nftsOnCurrentPage.length > 0 ? (\n        <>\n          <TableHeading flex=\"0 1 auto\" gridTemplateColumns=\"2fr 2fr 1fr\" py=\"12px\">\n            <StyledSortButton type=\"button\" onClick={togglePriceSort}>\n              <Flex alignItems=\"center\">\n                <Text textTransform=\"uppercase\" color=\"textSubtle\" bold fontSize=\"12px\" px=\"24px\">\n                  {t('Price')}\n                </Text>\n                {priceSort === 'asc' ? <ArrowUpIcon color=\"textSubtle\" /> : <ArrowDownIcon color=\"textSubtle\" />}\n              </Flex>\n            </StyledSortButton>\n            <Text textTransform=\"uppercase\" color=\"textSubtle\" bold fontSize=\"12px\">\n              {t('Owner')}\n            </Text>\n          </TableHeading>\n          <Flex flex=\"1 1 auto\" flexDirection=\"column\" justifyContent=\"space-between\" height=\"100%\">\n            <ForSaleTableRows nftsForSale={nftsOnCurrentPage} />\n            <PageButtons>\n              <Arrow\n                onClick={() => {\n                  switchPage(page === 1 ? page : page - 1)\n                }}\n              >\n                <ArrowBackIcon color={page === 1 ? 'textDisabled' : 'primary'} />\n              </Arrow>\n              <Text>{t('Page %page% of %maxPage%', { page, maxPage })}</Text>\n              {page === maxPage ? (\n                loadMoreButton\n              ) : (\n                <Arrow\n                  onClick={() => {\n                    switchPage(page === maxPage ? page : page + 1)\n                  }}\n                >\n                  <ArrowForwardIcon color={page === maxPage ? 'textDisabled' : 'primary'} />\n                </Arrow>\n              )}\n            </PageButtons>\n          </Flex>\n        </>\n      ) : (\n        <Flex justifyContent=\"center\" alignItems=\"center\" height=\"200px\">\n          <Text>{t('No items for sale')}</Text>\n        </Flex>\n      )}\n    </StyledCard>\n  )\n}\n\nexport default ForSaleTableCard\n","import React, { useState, useEffect, useMemo } from 'react'\nimport { useWeb3React } from '@web3-react/core'\nimport { Flex } from '@pancakeswap/uikit'\nimport orderBy from 'lodash/orderBy'\nimport Page from 'components/Layout/Page'\nimport { useFetchByGladiatorCollectibleIdAndUpdate, useGetAllGladiatorCollectibleByGladiatorCollectibleId } from 'state/nftMarket/hooks'\nimport { getNftsFromCollectionApi } from 'state/nftMarket/helpers'\nimport { NftToken } from 'state/nftMarket/types'\nimport PageLoader from 'components/Loader/PageLoader'\nimport usePreviousValue from 'hooks/usePreviousValue'\nimport { useFastFresh } from 'hooks/useRefresh'\nimport useIsWindowVisible from 'hooks/useIsWindowVisible'\nimport { PANCAKE_BUNNIES_UPDATE_FREQUENCY } from 'config'\nimport { useGetCollectionDistributionPB } from 'views/Nft/market/hooks/useGetCollectionDistribution'\nimport MainGladiatorCollectibleCard from './MainGladiatorCollectibleCard'\nimport ManageGladiatorCollectibleCard from './ManageGladiatorCollectibleCard'\nimport PropertiesCard from '../shared/PropertiesCard'\nimport DetailsCard from '../shared/DetailsCard'\nimport MoreFromThisCollection from '../shared/MoreFromThisCollection'\nimport ForSaleTableCard from './ForSaleTableCard'\nimport { gladiatorCollectiblesAddress } from '../../../constants'\nimport { sortNFTsByPriceBuilder } from './ForSaleTableCard/utils'\nimport { SortType } from '../../../types'\nimport { TwoColumnsContainer } from '../shared/styles'\nimport usePrevious from '../../../../../../hooks/usePreviousValue'\n\ninterface IndividualGladiatorCollectiblePageProps {\n  bunnyId: string\n}\n\nconst IndividualGladiatorCollectiblePage: React.FC<IndividualGladiatorCollectiblePageProps> = ({ bunnyId }) => {\n  const { account } = useWeb3React()\n  const [nothingForSaleGladiatorCollectible, setNothingForSaleGladiatorCollectible] = useState<NftToken>(null)\n  const allGladiatorCollectible = useGetAllGladiatorCollectibleByGladiatorCollectibleId(bunnyId)\n  const [priceSort, setPriceSort] = useState<SortType>('asc')\n  const previousPriceSort = usePreviousValue(priceSort)\n  const { isUpdatingGladiatorCollectibles, latestGladiatorCollectiblesUpdateAt, fetchMoreGladiatorCollectibles } =\n    useFetchByGladiatorCollectibleIdAndUpdate(bunnyId)\n  const fastRefresh = useFastFresh()\n  const isWindowVisible = useIsWindowVisible()\n  const gladiatorCollectibleSortedByPrice = orderBy(allGladiatorCollectible, (nft) => parseFloat(nft.marketData.currentAskPrice))\n  const allGladiatorCollectibleFromOtherSellers = account\n    ? gladiatorCollectibleSortedByPrice.filter((bunny) => bunny.marketData.currentSeller !== account.toLowerCase())\n    : gladiatorCollectibleSortedByPrice\n  const cheapestGladiatorCollectible = gladiatorCollectibleSortedByPrice[0]\n  const cheapestGladiatorCollectibleFromOtherSellers = allGladiatorCollectibleFromOtherSellers[0]\n  const prevGladiatorCollectibleId = usePrevious(bunnyId)\n\n  const {\n    data: distributionData,\n    total: totalGladiatorCollectibleCount,\n    isFetching: isFetchingDistribution,\n  } = useGetCollectionDistributionPB()\n\n  useEffect(() => {\n    // Fetch first 30 NFTs on page load\n    // And then query every FETCH_NEW_NFTS_INTERVAL_MS in case some new (cheaper) NFTs were listed\n    const msSinceLastUpdate = Date.now() - latestGladiatorCollectiblesUpdateAt\n    // Check for last update is here to prevent too many request due to fetchMoreGladiatorCollectible updating too often\n    // (it can't be reasonably wrapper in useCallback because the tokens are updated every time you call it, which is the whole point)\n    // Since fastRefresh is 10 seconds and FETCH_NEW_NFTS_INTERVAL_MS is 8 seconds it fires every 10 seconds\n    // The difference in 2 seconds is just to prevent some edge cases when request takes too long\n    if (\n      prevGladiatorCollectibleId !== bunnyId ||\n      (msSinceLastUpdate > PANCAKE_BUNNIES_UPDATE_FREQUENCY && !isUpdatingGladiatorCollectibles && isWindowVisible)\n    ) {\n      fetchMoreGladiatorCollectibles(priceSort)\n    }\n  }, [\n    bunnyId,\n    prevGladiatorCollectibleId,\n    priceSort,\n    fetchMoreGladiatorCollectibles,\n    isUpdatingGladiatorCollectibles,\n    latestGladiatorCollectiblesUpdateAt,\n    fastRefresh,\n    isWindowVisible,\n  ])\n\n  useEffect(() => {\n    // Fetch most expensive items if user selects other sorting\n    if (previousPriceSort && previousPriceSort !== priceSort) {\n      fetchMoreGladiatorCollectibles(priceSort)\n    }\n  }, [fetchMoreGladiatorCollectibles, priceSort, previousPriceSort])\n\n  useEffect(() => {\n    const fetchBasicGladiatorCollectibleData = async () => {\n      const { data } = await getNftsFromCollectionApi(gladiatorCollectiblesAddress)\n      setNothingForSaleGladiatorCollectible({\n        // In this case tokenId doesn't matter, this token can't be bought\n        tokenId: data[bunnyId].name,\n        name: data[bunnyId].name,\n        description: data[bunnyId].description,\n        collectionName: data[bunnyId].collection.name,\n        collectionAddress: gladiatorCollectiblesAddress,\n        image: data[bunnyId].image,\n        attributes: [\n          {\n            traitType: 'bunnyId',\n            value: bunnyId,\n            displayType: null,\n          },\n        ],\n      })\n    }\n    // If bunny id has no listings on the market - get basic bunny info\n    if (!cheapestGladiatorCollectible) {\n      fetchBasicGladiatorCollectibleData()\n    }\n  }, [cheapestGladiatorCollectible, bunnyId])\n\n  const sortedNfts = useMemo(() => allGladiatorCollectible.sort(sortNFTsByPriceBuilder({ priceSort })), [allGladiatorCollectible, priceSort])\n\n  if (!cheapestGladiatorCollectible && !nothingForSaleGladiatorCollectible) {\n    // TODO redirect to nft market page if collection or bunny id does not exist (came here from some bad url)\n    // That would require tracking loading states and stuff...\n\n    // For now this if is used to show loading spinner while we're getting the data\n    return <PageLoader />\n  }\n\n  const togglePriceSort = () => {\n    setPriceSort((currentValue) => (currentValue === 'asc' ? 'desc' : 'asc'))\n  }\n\n  const getGladiatorCollectibleIdCount = () => {\n    if (distributionData && !isFetchingDistribution) {\n      return distributionData[bunnyId].tokenCount\n    }\n    return null\n  }\n\n  const getGladiatorCollectibleIdRarity = () => {\n    if (distributionData && !isFetchingDistribution) {\n      return (distributionData[bunnyId].tokenCount / totalGladiatorCollectibleCount) * 100\n    }\n    return null\n  }\n\n  const properties = cheapestGladiatorCollectible?.attributes || nothingForSaleGladiatorCollectible?.attributes\n\n  const propertyRarity = { bunnyId: getGladiatorCollectibleIdRarity() }\n\n  return (\n    <Page>\n      <MainGladiatorCollectibleCard\n        cheapestNft={cheapestGladiatorCollectible}\n        cheapestNftFromOtherSellers={cheapestGladiatorCollectibleFromOtherSellers}\n        nothingForSaleGladiatorCollectible={nothingForSaleGladiatorCollectible}\n      />\n      <TwoColumnsContainer flexDirection={['column', 'column', 'row']}>\n        <Flex flexDirection=\"column\" width=\"100%\">\n          <ManageGladiatorCollectibleCard bunnyId={bunnyId} lowestPrice={cheapestGladiatorCollectible?.marketData?.currentAskPrice} />\n          <PropertiesCard properties={properties} rarity={propertyRarity} />\n          <DetailsCard\n            contractAddress={gladiatorCollectiblesAddress}\n            ipfsJson={cheapestGladiatorCollectible?.marketData?.metadataUrl}\n            rarity={propertyRarity?.bunnyId}\n            count={getGladiatorCollectibleIdCount()}\n          />\n        </Flex>\n        <ForSaleTableCard\n          nftsForSale={sortedNfts}\n          bunnyId={bunnyId}\n          totalForSale={allGladiatorCollectible.length}\n          loadMore={fetchMoreGladiatorCollectibles}\n          priceSort={priceSort}\n          togglePriceSort={togglePriceSort}\n          isFetchingMoreNfts={isUpdatingGladiatorCollectibles}\n        />\n      </TwoColumnsContainer>\n      <MoreFromThisCollection\n        collectionAddress={gladiatorCollectiblesAddress}\n        currentTokenName={cheapestGladiatorCollectible?.name || nothingForSaleGladiatorCollectible?.name}\n      />\n    </Page>\n  )\n}\n\nexport default IndividualGladiatorCollectiblePage\n","type sortBuilder = {\n  priceSort: string\n}\n\nexport const sortNFTsByPriceBuilder =\n  ({ priceSort }: sortBuilder) =>\n  (nftA, nftB) => {\n    const nftPriceA = Number(nftA.marketData.currentAskPrice) ?? 0\n    const nftPriceB = Number(nftB.marketData.currentAskPrice) ?? 0\n\n    return priceSort === 'asc' ? nftPriceA - nftPriceB : nftPriceB - nftPriceA\n  }\n","import { BinanceIcon, Box, Button, Card, CardBody, Flex, Skeleton, Text, useModal } from '@pancakeswap/uikit'\nimport { useTranslation } from 'contexts/Localization'\nimport { useBNBBusdPrice } from 'hooks/useBUSDPrice'\nimport React from 'react'\nimport { NftToken } from 'state/nftMarket/types'\nimport { multiplyPriceByAmount } from 'utils/prices'\nimport { formatNumber } from 'utils/formatBalance'\nimport NFTMedia from 'views/Nft/market/components/NFTMedia'\nimport EditProfileModal from 'views/Nft/market/Profile/components/EditProfileModal'\nimport BuyModal from '../../../components/BuySellModals/BuyModal'\nimport SellModal from '../../../components/BuySellModals/SellModal'\nimport { nftsBaseUrl } from '../../../constants'\nimport { CollectionLink, Container } from '../shared/styles'\n\ninterface MainNFTCardProps {\n  nft: NftToken\n  isOwnNft: boolean\n  nftIsProfilePic: boolean\n}\n\nconst MainNFTCard: React.FC<MainNFTCardProps> = ({ nft, isOwnNft, nftIsProfilePic }) => {\n  const { t } = useTranslation()\n  const bnbBusdPrice = useBNBBusdPrice()\n\n  const currentAskPriceAsNumber = nft.marketData?.currentAskPrice ? parseFloat(nft.marketData.currentAskPrice) : 0\n  const priceInUsd = multiplyPriceByAmount(bnbBusdPrice, currentAskPriceAsNumber)\n  const [onPresentBuyModal] = useModal(<BuyModal nftToBuy={nft} />)\n  const [onPresentSellModal] = useModal(\n    <SellModal variant={nft.marketData?.isTradable ? 'edit' : 'sell'} nftToSell={nft} />,\n  )\n  const [onEditProfileModal] = useModal(<EditProfileModal />, false)\n\n  const ownerButtons = (\n    <Flex flexDirection={['column', 'column', 'row']}>\n      <Button\n        disabled={nftIsProfilePic}\n        minWidth=\"168px\"\n        mr=\"16px\"\n        width={['100%', null, 'max-content']}\n        mt=\"24px\"\n        onClick={onPresentSellModal}\n      >\n        {nft.marketData?.isTradable ? t('Adjust price') : t('List for sale')}\n      </Button>\n      {!nft.marketData?.isTradable && (\n        <Button\n          minWidth=\"168px\"\n          variant=\"secondary\"\n          width={['100%', null, 'max-content']}\n          mt=\"24px\"\n          onClick={onEditProfileModal}\n        >\n          {nftIsProfilePic ? t('Change Profile Pic') : t('Set as Profile Pic')}\n        </Button>\n      )}\n    </Flex>\n  )\n\n  return (\n    <Card mb=\"40px\">\n      <CardBody>\n        <Container flexDirection={['column-reverse', null, 'row']}>\n          <Flex flex=\"2\">\n            <Box>\n              <CollectionLink to={`${nftsBaseUrl}/collections/${nft.collectionAddress}`}>\n                {nft.collectionName}\n              </CollectionLink>\n              <Text fontSize=\"40px\" bold mt=\"12px\">\n                {nft.name}\n              </Text>\n              {nft.description && <Text mt={['16px', '16px', '48px']}>{t(nft.description)}</Text>}\n              <Text color=\"textSubtle\" mt={['16px', '16px', '48px']}>\n                {t('Price')}\n              </Text>\n              {currentAskPriceAsNumber > 0 ? (\n                <Flex alignItems=\"center\" mt=\"8px\">\n                  <BinanceIcon width={18} height={18} mr=\"4px\" />\n                  <Text fontSize=\"24px\" bold mr=\"4px\">\n                    {formatNumber(currentAskPriceAsNumber, 0, 5)}\n                  </Text>\n                  {bnbBusdPrice ? (\n                    <Text color=\"textSubtle\">{`(~${priceInUsd.toLocaleString(undefined, {\n                      minimumFractionDigits: 2,\n                      maximumFractionDigits: 2,\n                    })} USD)`}</Text>\n                  ) : (\n                    <Skeleton width=\"64px\" />\n                  )}\n                </Flex>\n              ) : (\n                <Text>{t('Not for sale')}</Text>\n              )}\n              {nftIsProfilePic && (\n                <Text color=\"failure\">\n                  {t(\n                    'This NFT is your profile picture, you must change it to some other NFT if you want to sell this one.',\n                  )}\n                </Text>\n              )}\n              {isOwnNft && ownerButtons}\n              {!isOwnNft && (\n                <Button\n                  minWidth=\"168px\"\n                  disabled={!nft.marketData?.isTradable}\n                  mr=\"16px\"\n                  width={['100%', null, 'max-content']}\n                  mt=\"24px\"\n                  onClick={onPresentBuyModal}\n                >\n                  {t('Buy')}\n                </Button>\n              )}\n            </Box>\n          </Flex>\n          <Flex flex=\"2\" justifyContent={['center', null, 'flex-end']} alignItems=\"center\" maxWidth={440}>\n            <NFTMedia key={nft.tokenId} nft={nft} width={440} height={440} />\n          </Flex>\n        </Container>\n      </CardBody>\n    </Card>\n  )\n}\n\nexport default MainNFTCard\n","import React from 'react'\nimport {\n  Box,\n  Flex,\n  Grid,\n  Text,\n  CogIcon,\n  SellIcon,\n  WalletFilledIcon,\n  CameraIcon,\n  BinanceIcon,\n  Skeleton,\n  useModal,\n} from '@pancakeswap/uikit'\nimport { useWeb3React } from '@web3-react/core'\nimport { NftLocation, NftToken } from 'state/nftMarket/types'\nimport ConnectWalletButton from 'components/ConnectWalletButton'\nimport { useTranslation } from 'contexts/Localization'\nimport ExpandableCard from '../shared/ExpandableCard'\nimport SellModal from '../../../components/BuySellModals/SellModal'\nimport ProfileNftModal from '../../../components/ProfileNftModal'\nimport { SmallRoundedImage, CollectibleRowContainer } from '../shared/styles'\n\nconst LocationColors = {\n  [NftLocation.FORSALE]: 'failure',\n  [NftLocation.WALLET]: 'secondary',\n  [NftLocation.PROFILE]: 'textSubtle',\n}\n\nconst LocationIcons = {\n  [NftLocation.FORSALE]: SellIcon,\n  [NftLocation.WALLET]: WalletFilledIcon,\n  [NftLocation.PROFILE]: CameraIcon,\n}\n\ninterface CollectibleRowProps {\n  nft: NftToken\n}\n\nconst CollectibleRow: React.FC<CollectibleRowProps> = ({ nft }) => {\n  const { t } = useTranslation()\n  const modalVariant = nft.location === NftLocation.WALLET ? 'sell' : 'edit'\n  const [onPresentProfileNftModal] = useModal(<ProfileNftModal nft={nft} />)\n  const [onPresentModal] = useModal(<SellModal variant={modalVariant} nftToSell={nft} />)\n  return (\n    <CollectibleRowContainer\n      gridTemplateColumns=\"96px 1fr\"\n      px=\"16px\"\n      pb=\"8px\"\n      my=\"16px\"\n      onClick={nft.location === NftLocation.PROFILE ? onPresentProfileNftModal : onPresentModal}\n    >\n      <SmallRoundedImage src={nft.image.thumbnail} width={64} height={64} mx=\"16px\" />\n      <Grid gridTemplateColumns=\"1fr 1fr\">\n        <Text bold>{nft.name}</Text>\n        <Text fontSize=\"12px\" color=\"textSubtle\" textAlign=\"right\">\n          {nft.collectionName}\n        </Text>\n        {nft.location === NftLocation.FORSALE ? (\n          <>\n            <Text small color=\"textSubtle\">\n              {t('Your price')}\n            </Text>\n            <Flex justifySelf=\"flex-end\" width=\"max-content\">\n              <BinanceIcon width=\"16px\" height=\"16px\" mr=\"4px\" />\n              <Text small>{nft.marketData.currentAskPrice}</Text>\n            </Flex>\n          </>\n        ) : (\n          <Text small color=\"textDisabled\">\n            {t('Not on sale')}\n          </Text>\n        )}\n      </Grid>\n    </CollectibleRowContainer>\n  )\n}\n\ninterface CollectibleByLocationProps {\n  nft: NftToken\n}\n\nconst CollectibleByLocation: React.FC<CollectibleByLocationProps> = ({ nft }) => {\n  const { t } = useTranslation()\n  const IconComponent = LocationIcons[nft.location]\n  return (\n    <Flex flexDirection=\"column\">\n      <Grid gridTemplateColumns=\"32px 1fr\" px=\"16px\" pb=\"8px\">\n        <IconComponent color={LocationColors[nft.location]} width=\"24px\" height=\"24px\" />\n        <Text display=\"inline\" bold color={LocationColors[nft.location]}>\n          {t(nft.location)}\n        </Text>\n      </Grid>\n      <CollectibleRow key={nft.tokenId} nft={nft} />\n    </Flex>\n  )\n}\n\ninterface ManageNFTsCardProps {\n  nft?: NftToken\n  isLoading: boolean\n  isOwnNft: boolean\n}\n\nconst ManageNFTsCard: React.FC<ManageNFTsCardProps> = ({ nft, isLoading, isOwnNft }) => {\n  const { t } = useTranslation()\n  const { account } = useWeb3React()\n\n  const hasThisNft = isOwnNft && nft\n\n  const content = (\n    <Box pt=\"16px\">\n      {!account && (\n        <Flex mb=\"16px\" justifyContent=\"center\">\n          <ConnectWalletButton />\n        </Flex>\n      )}\n      {account && isLoading && (\n        <Box px=\"16px\" pb=\"8px\">\n          <Skeleton mb=\"8px\" />\n          <Skeleton mb=\"8px\" />\n          <Skeleton mb=\"8px\" />\n        </Box>\n      )}\n      {!isLoading && !hasThisNft && (\n        <Text px=\"16px\" pb=\"16px\" color=\"textSubtle\">\n          {t('You dont have this item.')}\n        </Text>\n      )}\n      {!isLoading && hasThisNft && <CollectibleByLocation nft={nft} />}\n    </Box>\n  )\n  return <ExpandableCard title={t('Manage Yours')} icon={<CogIcon width=\"24px\" height=\"24px\" />} content={content} />\n}\n\nexport default ManageNFTsCard\n","import { useEffect, useState } from 'react'\nimport { useErc721CollectionContract } from 'hooks/useContract'\nimport { NftToken } from 'state/nftMarket/types'\n\nconst NOT_ON_SALE_SELLER = '0x0000000000000000000000000000000000000000'\n\nconst useNftOwner = (nft: NftToken) => {\n  const [owner, setOwner] = useState(null)\n  const [isLoadingOwner, setIsLoadingOwner] = useState(true)\n  const collectionContract = useErc721CollectionContract(nft.collectionAddress, false)\n  const currentSeller = nft.marketData?.currentSeller\n  const { tokenId } = nft\n\n  useEffect(() => {\n    const getOwner = async () => {\n      try {\n        const tokenOwner = await collectionContract.ownerOf(tokenId)\n        setOwner(tokenOwner)\n      } catch (error) {\n        setOwner(null)\n      } finally {\n        setIsLoadingOwner(false)\n      }\n    }\n\n    if (currentSeller && currentSeller !== NOT_ON_SALE_SELLER) {\n      setOwner(currentSeller)\n      setIsLoadingOwner(false)\n    } else {\n      getOwner()\n    }\n  }, [currentSeller, collectionContract, tokenId])\n\n  return { owner, isLoadingOwner }\n}\n\nexport default useNftOwner\n","import React from 'react'\nimport styled from 'styled-components'\nimport { Flex, Card, Grid, SellIcon, Text, useModal, Box, BinanceIcon, Skeleton, Button } from '@pancakeswap/uikit'\nimport { useTranslation } from 'contexts/Localization'\nimport useTheme from 'hooks/useTheme'\nimport { NftToken } from 'state/nftMarket/types'\nimport { useBNBBusdPrice } from 'hooks/useBUSDPrice'\nimport { formatNumber } from 'utils/formatBalance'\nimport { multiplyPriceByAmount } from 'utils/prices'\nimport useNftOwner from 'views/Nft/market/hooks/useNftOwner'\nimport BuyModal from '../../../components/BuySellModals/BuyModal'\nimport SellModal from '../../../components/BuySellModals/SellModal'\nimport ProfileCell from '../../../components/ProfileCell'\nimport { ButtonContainer, TableHeading } from '../shared/styles'\n\nconst StyledCard = styled(Card)`\n  width: 100%;\n  & > div:first-child {\n    display: flex;\n    flex-direction: column;\n  }\n`\n\nconst OwnerRow = styled(Grid)`\n  grid-template-columns: 2fr 2fr 1fr;\n  grid-row-gap: 16px;\n  margin-top: 16px;\n  margin-bottom: 8px;\n  align-items: center;\n`\n\ninterface OwnerCardProps {\n  nft: NftToken\n  isOwnNft: boolean\n  nftIsProfilePic: boolean\n}\n\nconst OwnerCard: React.FC<OwnerCardProps> = ({ nft, isOwnNft, nftIsProfilePic }) => {\n  const { t } = useTranslation()\n  const { theme } = useTheme()\n  const bnbBusdPrice = useBNBBusdPrice()\n\n  const { owner, isLoadingOwner } = useNftOwner(nft)\n\n  const priceInUsd = multiplyPriceByAmount(bnbBusdPrice, parseFloat(nft.marketData?.currentAskPrice))\n\n  const [onPresentBuyModal] = useModal(<BuyModal nftToBuy={nft} />)\n  const [onPresentAdjustPriceModal] = useModal(\n    <SellModal variant={nft.marketData?.isTradable ? 'edit' : 'sell'} nftToSell={nft} />,\n  )\n\n  return (\n    <StyledCard>\n      <Grid\n        flex=\"0 1 auto\"\n        gridTemplateColumns=\"34px 1fr\"\n        alignItems=\"center\"\n        height=\"72px\"\n        px=\"24px\"\n        borderBottom={`1px solid ${theme.colors.cardBorder}`}\n      >\n        <SellIcon width=\"24px\" height=\"24px\" />\n        <Text bold>{t('Owner')}</Text>\n      </Grid>\n      {owner && (\n        <>\n          <TableHeading flex=\"0 1 auto\" gridTemplateColumns=\"2fr 2fr 1fr\" py=\"12px\">\n            <Flex alignItems=\"center\">\n              <Text textTransform=\"uppercase\" color=\"textSubtle\" bold fontSize=\"12px\" px=\"24px\">\n                {t('Price')}\n              </Text>\n            </Flex>\n            <Text textTransform=\"uppercase\" color=\"textSubtle\" bold fontSize=\"12px\">\n              {t('Owner')}\n            </Text>\n          </TableHeading>\n          <OwnerRow>\n            <Box pl=\"24px\">\n              {nft.marketData?.isTradable ? (\n                <>\n                  <Flex justifySelf=\"flex-start\" alignItems=\"center\" width=\"max-content\">\n                    <BinanceIcon width=\"24px\" height=\"24px\" mr=\"8px\" />\n                    <Text bold>{formatNumber(parseFloat(nft.marketData.currentAskPrice), 0, 5)}</Text>\n                  </Flex>\n                  {bnbBusdPrice ? (\n                    <Text fontSize=\"12px\" color=\"textSubtle\">\n                      {`(~${formatNumber(priceInUsd, 2, 2)} USD)`}\n                    </Text>\n                  ) : (\n                    <Skeleton width=\"86px\" height=\"12px\" mt=\"4px\" />\n                  )}\n                </>\n              ) : (\n                <Flex alignItems=\"center\" height=\"100%\">\n                  <Text>{t('Not for sale')}</Text>\n                </Flex>\n              )}\n            </Box>\n            <Box>\n              <Flex width=\"max-content\" alignItems=\"center\">\n                <ProfileCell accountAddress={owner.toLowerCase()} />\n              </Flex>\n            </Box>\n            <ButtonContainer>\n              {isOwnNft ? (\n                <Button\n                  disabled={nftIsProfilePic}\n                  scale=\"sm\"\n                  variant=\"secondary\"\n                  maxWidth=\"128px\"\n                  onClick={onPresentAdjustPriceModal}\n                >\n                  {nft.marketData?.isTradable ? t('Manage') : t('Sell')}\n                </Button>\n              ) : (\n                <Button\n                  disabled={!nft.marketData?.isTradable}\n                  scale=\"sm\"\n                  variant=\"secondary\"\n                  maxWidth=\"128px\"\n                  onClick={onPresentBuyModal}\n                >\n                  {t('Buy')}\n                </Button>\n              )}\n            </ButtonContainer>\n          </OwnerRow>\n        </>\n      )}\n      {isLoadingOwner && <Skeleton />}\n      {!isLoadingOwner && !owner && (\n        <Flex justifyContent=\"center\" alignItems=\"center\" padding=\"24px\">\n          <Text>{t('Owner information is not available for this item')}</Text>\n        </Flex>\n      )}\n    </StyledCard>\n  )\n}\n\nexport default OwnerCard\n","import React, { useEffect, useState } from 'react'\nimport { Flex, Card, Text, useMatchBreakpoints, Table, Th, ArrowBackIcon, ArrowForwardIcon } from '@pancakeswap/uikit'\nimport { useTranslation } from 'contexts/Localization'\nimport useTheme from 'hooks/useTheme'\nimport { Activity, NftToken } from 'state/nftMarket/types'\nimport { useBNBBusdPrice } from 'hooks/useBUSDPrice'\nimport { useAppDispatch } from '../../../../../../state'\nimport NoNftsImage from '../../../components/Activity/NoNftsImage'\nimport TableLoader from '../../../../../../components/TableLoader'\nimport { Arrow, PageButtons } from '../../../components/PaginationButtons'\nimport { getTokenActivity } from '../../../../../../state/nftMarket/helpers'\nimport { sortActivity } from '../../../ActivityHistory/utils/sortActivity'\nimport ActivityRow from '../../../components/Activity/ActivityRow'\n\ninterface ActivityCardProps {\n  nft: NftToken\n}\n\nconst MAX_PER_PAGE = 5\n\nconst ActivityCard: React.FC<ActivityCardProps> = ({ nft }) => {\n  const dispatch = useAppDispatch()\n  const { theme } = useTheme()\n  const { t } = useTranslation()\n  const [currentPage, setCurrentPage] = useState(1)\n  const [maxPage, setMaxPages] = useState(1)\n  const [activitiesSlice, setActivitiesSlice] = useState<Activity[]>([])\n  const [sortedTokenActivities, setSortedTokenActivities] = useState<Activity[]>([])\n  const [isLoading, setIsLoading] = useState(true)\n  const bnbBusdPrice = useBNBBusdPrice()\n  const { isXs, isSm } = useMatchBreakpoints()\n\n  useEffect(() => {\n    const fetchTokenActivity = async () => {\n      try {\n        const tokenActivity = await getTokenActivity(nft.tokenId, nft.collectionAddress.toLowerCase())\n        setSortedTokenActivities(sortActivity(tokenActivity))\n        setIsLoading(false)\n      } catch (error) {\n        console.error('Failed to fetch address activity', error)\n      }\n    }\n\n    fetchTokenActivity()\n  }, [nft, dispatch])\n\n  useEffect(() => {\n    const getMaxPages = () => {\n      const max = Math.ceil(sortedTokenActivities.length / MAX_PER_PAGE)\n      setMaxPages(max)\n    }\n\n    if (sortedTokenActivities.length > 0) {\n      getMaxPages()\n    }\n\n    return () => {\n      setActivitiesSlice([])\n      setMaxPages(1)\n      setCurrentPage(1)\n    }\n  }, [sortedTokenActivities])\n\n  useEffect(() => {\n    const getActivitySlice = () => {\n      const slice = sortedTokenActivities.slice(MAX_PER_PAGE * (currentPage - 1), MAX_PER_PAGE * currentPage)\n      setActivitiesSlice(slice)\n    }\n    if (sortedTokenActivities.length > 0) {\n      getActivitySlice()\n    }\n  }, [sortedTokenActivities, currentPage])\n\n  return (\n    <Card>\n      {sortedTokenActivities.length === 0 && activitiesSlice.length === 0 && !isLoading ? (\n        <Flex p=\"24px\" flexDirection=\"column\" alignItems=\"center\">\n          <NoNftsImage />\n          <Text pt=\"8px\" bold>\n            {t('No NFT market history found')}\n          </Text>\n        </Flex>\n      ) : (\n        <>\n          <Table>\n            <thead>\n              <tr>\n                <Th textAlign=\"center\"> {t('Event')}</Th>\n                {isXs || isSm ? null : (\n                  <>\n                    <Th textAlign=\"right\"> {t('Price')}</Th>\n                    <Th textAlign=\"center\"> {t('From')}</Th>\n                    <Th textAlign=\"center\"> {t('To')}</Th>\n                  </>\n                )}\n                <Th textAlign=\"center\"> {t('Date')}</Th>\n                {isXs || isSm ? null : <Th />}\n              </tr>\n            </thead>\n\n            <tbody>\n              {isLoading ? (\n                <TableLoader />\n              ) : (\n                activitiesSlice.map((activity) => {\n                  return (\n                    <ActivityRow\n                      key={`${activity.nft.tokenId}${activity.timestamp}`}\n                      activity={activity}\n                      nft={nft}\n                      bnbBusdPrice={bnbBusdPrice}\n                      isNftActivity\n                    />\n                  )\n                })\n              )}\n            </tbody>\n          </Table>\n          <Flex\n            borderTop={`1px ${theme.colors.cardBorder} solid`}\n            pt=\"24px\"\n            flexDirection=\"column\"\n            justifyContent=\"space-between\"\n            height=\"100%\"\n          >\n            <PageButtons>\n              <Arrow\n                onClick={() => {\n                  setCurrentPage(currentPage === 1 ? currentPage : currentPage - 1)\n                }}\n              >\n                <ArrowBackIcon color={currentPage === 1 ? 'textDisabled' : 'primary'} />\n              </Arrow>\n              <Text>{t('Page %page% of %maxPage%', { page: currentPage, maxPage })}</Text>\n              <Arrow\n                onClick={() => {\n                  setCurrentPage(currentPage === maxPage ? currentPage : currentPage + 1)\n                }}\n              >\n                <ArrowForwardIcon color={currentPage === maxPage ? 'textDisabled' : 'primary'} />\n              </Arrow>\n            </PageButtons>\n          </Flex>\n        </>\n      )}\n    </Card>\n  )\n}\n\nexport default ActivityCard\n","import React, { useEffect, useState } from 'react'\nimport styled from 'styled-components'\nimport { useWeb3React } from '@web3-react/core'\nimport { Flex } from '@pancakeswap/uikit'\nimport sum from 'lodash/sum'\nimport Page from 'components/Layout/Page'\nimport { getNftApi, getNftsMarketData } from 'state/nftMarket/helpers'\nimport { NftLocation, NftToken, UserNftInitializationState } from 'state/nftMarket/types'\nimport PageLoader from 'components/Loader/PageLoader'\nimport { useUserNfts } from 'state/nftMarket/hooks'\nimport MainNFTCard from './MainNFTCard'\nimport ManageNFTsCard from './ManageNFTsCard'\nimport useFetchUserNfts from '../../../Profile/hooks/useFetchUserNfts'\nimport { TwoColumnsContainer } from '../shared/styles'\nimport PropertiesCard from '../shared/PropertiesCard'\nimport DetailsCard from '../shared/DetailsCard'\nimport useGetCollectionDistribution from '../../../hooks/useGetCollectionDistribution'\nimport OwnerCard from './OwnerCard'\nimport MoreFromThisCollection from '../shared/MoreFromThisCollection'\nimport ActivityCard from './ActivityCard'\n\ninterface IndividualNFTPageProps {\n  collectionAddress: string\n  tokenId: string\n}\n\nconst OwnerActivityContainer = styled(Flex)`\n  gap: 22px;\n`\n\nconst IndividualNFTPage: React.FC<IndividualNFTPageProps> = ({ collectionAddress, tokenId }) => {\n  const [nft, setNft] = useState<NftToken>(null)\n  const [isOwnNft, setIsOwnNft] = useState(false)\n\n  const { data: distributionData, isFetching: isFetchingDistribution } = useGetCollectionDistribution(collectionAddress)\n\n  const { account } = useWeb3React()\n  const { userNftsInitializationState, nfts: userNfts } = useUserNfts()\n  useFetchUserNfts()\n\n  useEffect(() => {\n    const fetchNftData = async () => {\n      setIsOwnNft(false)\n      const metadata = await getNftApi(collectionAddress, tokenId)\n      const [marketData] = await getNftsMarketData({ collection: collectionAddress.toLowerCase(), tokenId }, 1)\n      setNft({\n        tokenId,\n        collectionAddress,\n        collectionName: metadata.collection.name,\n        name: metadata.name,\n        description: metadata.description,\n        image: metadata.image,\n        attributes: metadata.attributes,\n        marketData,\n      })\n    }\n    if (!account) {\n      fetchNftData()\n    } else if (userNftsInitializationState === UserNftInitializationState.INITIALIZED) {\n      const nftOwnedByConnectedUser = userNfts.find(\n        (userNft) =>\n          userNft.collectionAddress.toLowerCase() === collectionAddress.toLowerCase() && userNft.tokenId === tokenId,\n      )\n      if (nftOwnedByConnectedUser) {\n        // If user is the owner we already have all needed data available\n        setNft(nftOwnedByConnectedUser)\n        setIsOwnNft(true)\n      } else {\n        // Get metadata and market data separately if connected user is not the owner\n        fetchNftData()\n      }\n    }\n  }, [userNfts, collectionAddress, tokenId, userNftsInitializationState, account])\n\n  if (!nft) {\n    // TODO redirect to nft market page if collection or bunny id does not exist (came here from some bad url)\n    // That would require tracking loading states and stuff...\n\n    // For now this if is used to show loading spinner while we're getting the data\n    return <PageLoader />\n  }\n\n  const properties = nft.attributes\n\n  const userProfilePicture = userNfts.find((userNft) => userNft.location === NftLocation.PROFILE)\n  const nftIsProfilePic = userProfilePicture\n    ? nft.tokenId === userProfilePicture.tokenId && nft.collectionAddress === userProfilePicture.collectionAddress\n    : false\n\n  const getAttributesRarity = () => {\n    if (distributionData && !isFetchingDistribution) {\n      return Object.keys(distributionData).reduce((rarityMap, traitType) => {\n        const total = sum(Object.values(distributionData[traitType]))\n        const nftAttributeValue = nft.attributes.find((attribute) => attribute.traitType === traitType)?.value\n        const count = distributionData[traitType][nftAttributeValue]\n        const rarity = (count / total) * 100\n        return {\n          ...rarityMap,\n          [traitType]: rarity,\n        }\n      }, {})\n    }\n    return {}\n  }\n\n  return (\n    <Page>\n      <MainNFTCard nft={nft} isOwnNft={isOwnNft} nftIsProfilePic={nftIsProfilePic} />\n      <TwoColumnsContainer flexDirection={['column', 'column', 'row']}>\n        <Flex flexDirection=\"column\" width=\"100%\">\n          <ManageNFTsCard\n            nft={nft}\n            isOwnNft={isOwnNft}\n            isLoading={userNftsInitializationState !== UserNftInitializationState.INITIALIZED}\n          />\n          <PropertiesCard properties={properties} rarity={getAttributesRarity()} />\n          <DetailsCard contractAddress={collectionAddress} ipfsJson={nft?.marketData?.metadataUrl} />\n        </Flex>\n        <OwnerActivityContainer flexDirection=\"column\" width=\"100%\">\n          <OwnerCard nft={nft} isOwnNft={isOwnNft} nftIsProfilePic={nftIsProfilePic} />\n          <ActivityCard nft={nft} />\n        </OwnerActivityContainer>\n      </TwoColumnsContainer>\n      <MoreFromThisCollection collectionAddress={collectionAddress} currentTokenName={nft.name} />\n    </Page>\n  )\n}\n\nexport default IndividualNFTPage\n","import React from 'react'\nimport { useParams } from 'react-router'\nimport { gladiatorCollectiblesAddress } from '../../constants'\nimport IndividualGladiatorCollectiblePage from './GladiatorCollectiblePage'\nimport IndividualNFTPage from './OneOfAKindNftPage'\n\nconst IndividualNFTPageRouter = () => {\n  // For GladiatorCollectibles tokenId in url is really bunnyId\n  const { collectionAddress, tokenId } = useParams<{ collectionAddress: string; tokenId: string }>()\n\n  const isPBCollection = collectionAddress.toLowerCase() === gladiatorCollectiblesAddress.toLowerCase()\n  if (isPBCollection) {\n    return <IndividualGladiatorCollectiblePage bunnyId={tokenId} />\n  }\n\n  return <IndividualNFTPage collectionAddress={collectionAddress} tokenId={tokenId} />\n}\n\nexport default IndividualNFTPageRouter\n"],"sourceRoot":""}