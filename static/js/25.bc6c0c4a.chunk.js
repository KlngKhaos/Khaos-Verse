(this["webpackJsonpkhaos-frontend"]=this["webpackJsonpkhaos-frontend"]||[]).push([[25],{1006:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var c,r,i,s,o,a=n(8),l=(n(1),n(6)),u=n(2),j=n(14),d=n(0);!function(e){e.ROW="row",e.SEQUENTIAL="sequential"}(o||(o={}));var b=l.e.div(c||(c=Object(a.a)(["\n  align-items: center;\n  display: grid;\n  grid-template-columns: 1fr;\n  justify-content: center;\n\n  "," {\n    grid-template-columns: 1fr 24px 1fr;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),x=Object(l.e)(u.s)(r||(r=Object(a.a)(["\n  width: 100%;\n\n  "," {\n    min-width: 160px;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),p={width:"24px",color:"textDisabled"},h=Object(l.e)(u.K).attrs(p)(i||(i=Object(a.a)(["\n  display: none;\n\n  "," {\n    display: block;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),O=Object(l.e)(u.I).attrs(p)(s||(s=Object(a.a)(["\n  display: block;\n\n  "," {\n    display: none;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),f=Object(d.jsx)(u.i,{spin:!0,color:"currentColor"});t.b=function(e){var t=e.isApproveDisabled,n=e.isApproving,c=e.isConfirming,r=e.isConfirmDisabled,i=e.onApprove,s=e.onConfirm,a=e.buttonArrangement,l=void 0===a?o.ROW:a,p=e.confirmLabel,m=e.confirmId,g=Object(j.b)().t,v=null!==p&&void 0!==p?p:g("Confirm");return l===o.ROW?Object(d.jsxs)(b,{children:[Object(d.jsx)(u.o,{children:Object(d.jsx)(x,{disabled:t,onClick:i,endIcon:n?f:void 0,isLoading:n,children:g(n?"Enabling":"Enable")})}),Object(d.jsxs)(u.Y,{justifyContent:"center",children:[Object(d.jsx)(h,{}),Object(d.jsx)(O,{})]}),Object(d.jsx)(u.o,{children:Object(d.jsx)(x,{id:m,onClick:s,disabled:r,isLoading:c,endIcon:c?f:void 0,children:c?g("Confirming"):v})})]}):Object(d.jsx)(d.Fragment,{children:t?Object(d.jsx)(u.o,{children:Object(d.jsx)(x,{id:m,onClick:s,disabled:r,isLoading:c,endIcon:c?f:void 0,children:c?g("Confirming"):v})}):Object(d.jsx)(u.o,{children:Object(d.jsx)(x,{onClick:i,endIcon:n?f:void 0,isLoading:n,children:g(n?"Enabling":"Enable")})})})}},1041:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var c=n(25),r=n(24);function i(e,t){Object(r.a)(2,arguments);var n=Object(c.default)(e),i=Object(c.default)(t);return n.getTime()-i.getTime()}},1042:function(e,t,n){var c=n(459);e.exports=function(e,t){return c(e,t)}},1125:function(e,t,n){"use strict";var c,r,i,s=n(4),o=n(9),a=n(53),l=n(8),u=n(1),j=n(6),d=n(2),b=n(14),x=n(0),p=["title","children"],h=Object(j.e)(d.Y)(c||(c=Object(l.a)(["\n  cursor: pointer;\n"]))),O=Object(j.e)(d.Y)(r||(r=Object(l.a)(["\n  button {\n    align-items: center;\n    justify-content: flex-start;\n  }\n"]))),f=Object(j.e)(d.Y)(i||(i=Object(l.a)(["\n  overflow: hidden;\n  height: ",";\n  padding-bottom: ",";\n  border-bottom: 1px solid ",";\n"])),(function(e){return e.isExpanded?"100%":"0px"}),(function(e){return e.isExpanded?"16px":"0px"}),(function(e){return e.theme.colors.inputSecondary}));t.a=function(e){var t=e.title,n=e.children,c=Object(a.a)(e,p),r=Object(b.b)().t,i=Object(u.useState)(!1),l=Object(o.a)(i,2),j=l[0],m=l[1];return Object(x.jsxs)(h,Object(s.a)(Object(s.a)({},c),{},{flexDirection:"column",onClick:function(){return m(!j)},children:[Object(x.jsxs)(d.Y,{justifyContent:"space-between",alignItems:"center",pb:"16px",children:[Object(x.jsx)(d.sc,{fontWeight:"bold",children:t}),Object(x.jsx)(O,{children:Object(x.jsx)(d.W,{expanded:j,onClick:function(){return m(!j)},children:r(j?"Hide":"Details")})})]}),Object(x.jsx)(f,{isExpanded:j,flexDirection:"column",children:n})]}))}},1127:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return b}));var c,r,i,s=n(8),o=(n(1),n(2)),a=n(6),l=n(0),u=Object(a.e)(o.Y)(c||(c=Object(s.a)(["\n  overflow-x: scroll;\n  padding: 0;\n  border-radius: 24px 24px 0 0;\n  ::-webkit-scrollbar {\n    display: none;\n  }\n  scrollbar-width: none; /* Firefox */\n"]))),j=Object(a.e)(o.Y)(r||(r=Object(s.a)(["\n  justify-content: space-between;\n  background-color: ",";\n  width: 100%;\n"])),(function(e){return e.theme.colors.input})),d=a.e.button(i||(i=Object(s.a)(["\n  display: inline-flex;\n  justify-content: center;\n  cursor: pointer;\n  flex: 1;\n  border: 0;\n  outline: 0;\n  padding: 16px;\n  margin: 0;\n  border-radius: 24px 24px 0 0;\n  font-size: 16px;\n  font-weight: 600;\n  color: ",";\n  background-color: ",";\n"])),(function(e){var t=e.theme;return e.isActive?t.colors.text:t.colors.textSubtle}),(function(e){var t=e.theme;return e.isActive?t.card.background:t.colors.input})),b=function(e){var t=e.children;return Object(l.jsx)(u,{p:["0 4px","0 16px"],children:Object(l.jsx)(j,{children:t})})}},1219:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var c=n(1041),r=n(24);function i(e,t){Object(r.a)(2,arguments);var n=Object(c.a)(e,t)/1e3;return n>0?Math.floor(n):Math.ceil(n)}},1356:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var c=n(274),r=n(275),i=n(25),s=n(24),o=n(37);function a(e,t){if(Object(s.a)(2,arguments),!t||"object"!==typeof t)return new Date(NaN);var n="years"in t?Object(o.a)(t.years):0,a="months"in t?Object(o.a)(t.months):0,l="weeks"in t?Object(o.a)(t.weeks):0,u="days"in t?Object(o.a)(t.days):0,j="hours"in t?Object(o.a)(t.hours):0,d="minutes"in t?Object(o.a)(t.minutes):0,b="seconds"in t?Object(o.a)(t.seconds):0,x=Object(i.default)(e),p=a||n?Object(r.default)(x,a+12*n):x,h=u||l?Object(c.default)(p,u+7*l):p,O=d+60*j,f=b+60*O,m=1e3*f,g=new Date(h.getTime()+m);return g}},1357:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var c=n(1041),r=n(24),i=36e5;function s(e,t){Object(r.a)(2,arguments);var n=Object(c.a)(e,t)/i;return n>0?Math.floor(n):Math.ceil(n)}},1769:function(e,t,n){"use strict";n.r(t);var c,r,i,s,o,a,l,u,j,d,b,x,p,h,O,f,m,g,v,y=n(8),w=n(1),C=n(6),A=n(102),S=n(2),k=n(50),Y=n(14),D=n(442),E=n(1005),B=n(103),F=n(1125),I=n(1057),T=n(0),L=Object(C.e)(S.x)(c||(c=Object(y.a)(["\n  flex: 1;\n  height: fit-content;\n"]))),P=Object(C.e)(S.lb)(r||(r=Object(y.a)(["\n  display: inline;\n"]))),N=C.e.ul(i||(i=Object(y.a)(["\n  list-style-position: outside;\n  padding: 0 24px;\n\n  li {\n    line-height: 1.5;\n    margin-bottom: 4px;\n  }\n\n  li::marker {\n    font-size: 12px;\n  }\n"]))),R=C.e.li(s||(s=Object(y.a)(["\n  color: ",";\n"])),(function(e){return e.theme.colors.textSubtle})),M=function(){var e=Object(Y.b)().t;return Object(T.jsxs)(S.Y,{flexDirection:"column",children:[Object(T.jsx)(S.ab,{as:"h1",scale:"xxl",mb:"40px",children:e("FAQs")}),Object(T.jsx)(S.Y,{flexDirection:["column",null,null,null,"row"],children:Object(T.jsxs)(L,{mr:[null,null,null,null,"24px"],mb:["24px",null,null,null,"0"],children:[Object(T.jsx)(S.A,{children:Object(T.jsx)(S.ab,{children:e("How does it work?")})}),Object(T.jsxs)(S.y,{p:"0 24px 24px",children:[Object(T.jsx)(F.a,{title:e("Step 1: Submit application"),mt:"24px",children:Object(T.jsxs)(S.o,{display:"inline",children:[Object(T.jsx)(S.sc,{display:"inline",color:"textSubtle",children:e("Projects can submit an application to sponsor a yield farm and/or pool on PancakeSwap via the ")}),Object(T.jsx)(P,{href:I.a,external:!0,children:e("Application Form")})]})}),Object(T.jsx)(F.a,{title:e("Step 2: Await whitelisting"),mt:"24px",children:Object(T.jsxs)(S.o,{color:"textSubtle",children:[Object(T.jsx)(S.sc,{color:"textSubtle",mb:"4px",children:e("The PancakeSwap team will try to respond within a week.")}),Object(T.jsxs)(N,{children:[Object(T.jsx)(R,{children:e("Community Farm qualifiers will be asked to provide the address of the wallet which you\u2019ll use for bidding CAKE in the auction.")}),Object(T.jsx)(R,{children:e("Core Farm/Pool qualifiers will receive further directions separately.")})]})]})}),Object(T.jsxs)(F.a,{title:e("Step 3: During the auction"),mt:"24px",children:[Object(T.jsx)(S.sc,{color:"textSubtle",children:e("During the auction period, if you connect your project\u2019s whitelisted wallet to the Auction page, you\u2019ll see a \u201cPlace Bid\u201d button during when the auction is live.")}),Object(T.jsx)(S.sc,{color:"textSubtle",children:e("You can then commit CAKE to bid during the auction, competing against other project for one of the available farms.")})]}),Object(T.jsxs)(F.a,{title:e("Step 4: After the auction"),mt:"24px",children:[Object(T.jsx)(S.sc,{color:"textSubtle",children:e("If your bid was not successful, you can reclaim your CAKE on this page.")}),Object(T.jsx)(S.sc,{color:"textSubtle",children:e("If your bid was successful, your farm will begin at the specified time. The CAKE you bid will not be returned to you and will be added to our weekly CAKE burn.")}),Object(T.jsx)(S.sc,{color:"textSubtle",children:e("So long as you are whitelisted, you\u2019ll be able to participate in each new auction.")}),Object(T.jsx)(S.sc,{color:"textSubtle",children:e("If two or more projects bid the exact same CAKE amount and are contending for a spot in the winning bidders, their bids may be invalidated.")})]})]})]})})]})},z=n(9),K=n(36),H=n(39),W=n(3),_=n.n(W),Q=n(10),Z=n(23),q=n.n(Z),U=n(61),G=n(35),X=n(206),V=n(991),J=n(48),$=n(64),ee=n(111),te=n(141),ne=n(1006),ce=n(126),re=n(149),ie=n(114),se=n(40),oe=Object(C.e)(S.zb)(o||(o=Object(y.a)(["\n  min-width: 280px;\n  max-width: 320px;\n  & > div:nth-child(2) {\n    padding: 0;\n  }\n"]))),ae=Object(C.e)(S.o)(a||(a=Object(y.a)(["\n  padding: 24px;\n  background-color: ",";\n"])),(function(e){return e.theme.colors.dropdown})),le=Object(C.e)(S.o)(l||(l=Object(y.a)(["\n  padding: 24px;\n"]))),ue=function(e){var t=e.onDismiss,n=e.initialBidAmount,c=e.connectedBidder,r=e.refreshBidders,i=Object(k.c)().account,s=Object(Y.b)().t,o=Object(B.a)().theme,a=Object(re.a)().callWithGasPrice,l=Object(w.useState)(""),u=Object(z.a)(l,2),j=u[0],d=u[1],b=Object(w.useState)(!1),x=Object(z.a)(b,2),p=x[0],h=x[1],O=Object(w.useState)(!1),f=Object(z.a)(O,2),m=f[0],g=f[1],v=Object(w.useState)(!1),y=Object(z.a)(v,2),C=y[0],A=y[1],D=Object(w.useState)(null),E=Object(z.a)(D,2),F=E[0],I=E[1],L=Object(X.a)(se.a.cake.address),P=L.balance,N=L.fetchStatus,R=Object(H.d)(P),M=Object(ce.g)(),W=Object(J.j)(),Z=Object(J.d)(),ue=Object(ee.a)().toastSuccess,je=c.bidderData,de=je.amount,be=je.position,xe=de.isZero(),pe=xe&&!m;Object(w.useEffect)((function(){g(parseFloat(j)>=n),h(parseFloat(j)%10===0&&0!==parseFloat(j)),N===K.b.Fetched&&R.lt(j)?A(!0):A(!1)}),[j,n,N,R]),Object(w.useEffect)((function(){I(C?s("Insufficient CAKE balance"):!m&&xe?s("First bid must be %initialBidAmount% CAKE or more.",{initialBidAmount:n}):p?null:s("Bid must be a multiple of 10"))}),[p,m,C,n,s,xe]);var he=Object(V.a)({onRequiresApproval:function(){var e=Object(Q.a)(_.a.mark((function e(){var t,n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z.allowance(i,W.address);case 3:return t=e.sent,n=Object(G.d)(t),e.abrupt("return",n.gt(0));case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),onApprove:function(){return a(Z,"approve",[W.address,U.a.constants.MaxUint256])},onApproveSuccess:function(){var e=Object(Q.a)(_.a.mark((function e(t){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.receipt,ue(s("Contract approved - you can now place your bid!"),Object(T.jsx)(ie.b,{txHash:n.transactionHash}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onConfirm:function(){var e=new q.a(j).times($.k).toString();return a(W,"bid",[e])},onSuccess:function(){var e=Object(Q.a)(_.a.mark((function e(n){var c;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=n.receipt,r(),t(),ue(s("Bid placed!"),Object(T.jsx)(ie.b,{txHash:c.transactionHash}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Oe=he.isApproving,fe=he.isApproved,me=he.isConfirmed,ge=he.isConfirming,ve=he.handleApprove,ye=he.handleConfirm,we=function(e){var t=1===e?q.a.ROUND_FLOOR:q.a.ROUND_CEIL,n=Object(H.d)(P.times(e)).div(10).integerValue(t).times(10);d(n.toString())};return Object(T.jsxs)(oe,{title:s("Place a Bid"),onDismiss:t,headerBackground:o.colors.gradients.cardHeader,children:[Object(T.jsxs)(ae,{children:[Object(T.jsxs)(S.Y,{justifyContent:"space-between",children:[Object(T.jsx)(S.sc,{children:s("Your existing bid")}),Object(T.jsx)(S.sc,{children:s("%num% CAKE",{num:Object(H.e)(de).toLocaleString()})})]}),Object(T.jsxs)(S.Y,{justifyContent:"space-between",children:[Object(T.jsx)(S.sc,{children:s("Your position")}),Object(T.jsx)(S.sc,{children:be?"#".concat(be):"-"})]})]}),Object(T.jsxs)(le,{children:[Object(T.jsxs)(S.Y,{justifyContent:"space-between",alignItems:"center",pb:"8px",children:[Object(T.jsx)(S.sc,{children:s("Bid a multiple of 10")}),Object(T.jsxs)(S.Y,{children:[Object(T.jsx)(S.Lb,{width:"24px",height:"24px",mr:"4px"}),Object(T.jsx)(S.sc,{bold:!0,children:"CAKE"})]})]}),xe&&Object(T.jsx)(S.sc,{pb:"8px",small:!0,children:s("First bid must be %initialBidAmount% CAKE or more.",{initialBidAmount:n})}),Object(T.jsx)(S.k,{isWarning:!p||pe,placeholder:"0",value:j,onUserInput:function(e){d(e)},currencyValue:M.gt(0)&&"~".concat(j?M.times(new q.a(j)).toNumber().toLocaleString():"0.00"," USD")}),Object(T.jsxs)(S.Y,{justifyContent:"flex-end",mt:"8px",children:[Object(T.jsxs)(S.sc,{fontSize:"12px",color:"textSubtle",mr:"8px",children:[s("Balance"),":"]}),Object(T.jsx)(S.sc,{fontSize:"12px",color:"textSubtle",children:Object(H.c)(R.toNumber(),3,3)})]}),F&&Object(T.jsx)(S.sc,{color:"failure",textAlign:"right",fontSize:"12px",children:F}),Object(T.jsxs)(S.Y,{justifyContent:"space-between",mt:"8px",mb:"24px",children:[Object(T.jsx)(S.s,{disabled:N!==K.b.Fetched,scale:"xs",mx:"2px",p:"4px 16px",variant:"tertiary",onClick:function(){return we(.25)},children:"25%"}),Object(T.jsx)(S.s,{disabled:N!==K.b.Fetched,scale:"xs",mx:"2px",p:"4px 16px",variant:"tertiary",onClick:function(){return we(.5)},children:"50%"}),Object(T.jsx)(S.s,{disabled:N!==K.b.Fetched,scale:"xs",mx:"2px",p:"4px 16px",variant:"tertiary",onClick:function(){return we(.75)},children:"75%"}),Object(T.jsx)(S.s,{disabled:N!==K.b.Fetched,scale:"xs",mx:"2px",p:"4px 16px",variant:"tertiary",onClick:function(){return we(1)},children:"MAX"})]}),Object(T.jsx)(S.Y,{flexDirection:"column",children:i?Object(T.jsx)(ne.b,{isApproveDisabled:fe,isApproving:Oe,isConfirmDisabled:!p||Object(H.d)(P).lt(j)||me||pe||C,isConfirming:ge,onApprove:ve,onConfirm:ye,buttonArrangement:ne.a.SEQUENTIAL}):Object(T.jsx)(te.a,{})}),Object(T.jsx)(S.sc,{color:"textSubtle",small:!0,mt:"24px",children:s("If your bid is unFetchedful, you\u2019ll be able to reclaim your CAKE after the auction.")})]})]})},je=n(965),de=Object(C.e)(S.Y)(u||(u=Object(y.a)(["\n  flex-direction: column;\n  padding: 16px;\n  border-radius: ",";\n  background-color: ",";\n  border: 1px "," solid;\n"])),(function(e){return e.theme.radii.default}),(function(e){return e.theme.colors.background}),(function(e){return e.theme.colors.cardBorder})),be=function(e){var t=e.auction,n=t.startBlock,c=t.endBlock,r=t.auctionDuration,i=t.startDate,s=t.endDate,o=t.status,a=Object(Y.b)().t,l=o===K.a.ToBeAnnounced||o===K.a.Closed;return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(S.sc,{fontSize:"12px",bold:!0,color:"secondary",textTransform:"uppercase",mb:"8px",children:a("Auction Schedule")}),Object(T.jsxs)(de,{children:[!l&&Object(T.jsxs)(S.Y,{justifyContent:"space-between",mb:"8px",children:[Object(T.jsx)(S.sc,{small:!0,color:"textSubtle",children:a("Auction duration")}),Object(T.jsx)(S.sc,{small:!0,children:a("%numHours% hours",{numHours:"~".concat(r.toString())})})]}),Object(T.jsxs)(S.Y,{justifyContent:"space-between",mb:"8px",children:[Object(T.jsx)(S.sc,{small:!0,color:"textSubtle",children:a("Start")}),l?Object(T.jsx)(S.sc,{small:!0,children:a("To be announced")}):Object(T.jsxs)(S.o,{children:[Object(T.jsx)(S.sc,{small:!0,children:Object(je.default)(i,"MMMM dd yyyy hh:mm aa")}),Object(T.jsx)(S.sc,{small:!0,textAlign:"right",children:a("Block %num%",{num:n})})]})]}),Object(T.jsxs)(S.Y,{justifyContent:"space-between",children:[Object(T.jsx)(S.sc,{small:!0,color:"textSubtle",children:a("End")}),l?Object(T.jsx)(S.sc,{small:!0,children:a("To be announced")}):Object(T.jsxs)(S.o,{children:[Object(T.jsx)(S.sc,{small:!0,children:Object(je.default)(s,"MMMM dd yyyy hh:mm aa")}),Object(T.jsx)(S.sc,{small:!0,textAlign:"right",children:a("Block %num%",{num:c})})]})]})]})]})},xe=function(){var e=Object(Y.b)().t,t=Object(S.Rc)(Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(S.sc,{mb:"16px",children:e("Only whitelisted project wallets can bid in the auction to create Community Farms.")}),Object(T.jsx)(S.sc,{mb:"16px",children:e("Bidding is only possible while the auction is live.")}),Object(T.jsx)(S.sc,{children:e("If you\u2019re sure your project should be able to bid in this auction, make sure you\u2019re connected with the correct (whitelisted) wallet.")})]}),{placement:"bottom"}),n=t.tooltip,c=t.targetRef,r=t.tooltipVisible;return Object(T.jsxs)(S.Y,{justifyContent:"center",alignItems:"center",children:[Object(T.jsx)(S.sc,{color:"textSubtle",small:!0,mr:"8px",children:e("Why cant I bid for a farm?")}),Object(T.jsx)("span",{ref:c,children:Object(T.jsx)(S.bb,{color:"textSubtle",height:"16px",width:"16px"})}),r&&n]})},pe=n(186),he=n(1126),Oe=function(){var e=Object(w.useState)(null),t=Object(z.a)(e,2),n=t[0],c=t[1],r=Object(J.j)();return Object(w.useEffect)((function(){n||function(){var e=Object(Q.a)(_.a.mark((function e(){var t,n,i,s;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.viewBidders(0,$.b);case 3:t=e.sent,n=Object(z.a)(t,1),i=n[0],s=i.map((function(e){return Object(he.a)(e)})),c(s),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Failed to fetch list of whitelisted addresses",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}()()}),[r,n]),n},fe=Object(C.e)(S.zb)(j||(j=Object(y.a)(["\n  & > div:nth-child(2) {\n    padding: 0;\n  }\n"]))),me=Object(C.e)(S.Y)(d||(d=Object(y.a)(["\n  border-bottom: 1px solid ",";\n"])),(function(e){return e.theme.colors.cardBorder})),ge=C.e.div(b||(b=Object(y.a)(["\n  display: grid;\n  grid-template-columns: 3fr 5fr 0.5fr;\n  border-bottom: 1px solid ",";\n  padding: 8px 24px;\n  &:hover {\n    cursor: pointer;\n    opacity: 0.5;\n  }\n"])),(function(e){return e.theme.colors.cardBorder})),ve=function(e){var t=e.bidder,n=e.isMobile,c=t.farmName,r=t.tokenName,i=t.account,s=t.projectSite;return Object(T.jsx)("a",{href:s,target:"_blank",rel:"noopener noreferrer",children:Object(T.jsxs)(ge,{children:[Object(T.jsxs)(S.Y,{flexDirection:"column",flex:"3",children:[Object(T.jsx)(S.sc,{children:c}),Object(T.jsx)(S.sc,{fontSize:"12px",color:"textSubtle",children:r})]}),Object(T.jsx)(S.Y,{justifyContent:["center",null,"flex-start"],alignItems:"center",flex:"6",children:Object(T.jsx)(S.sc,{mr:"8px",children:n?Object(pe.a)(i):i})}),Object(T.jsx)(S.Kb,{color:"primary"})]})})},ye=function(e){var t=e.onDismiss,n=Object(w.useState)(""),c=Object(z.a)(n,2),r=c[0],i=c[1],s=Object(Y.b)().t,o=Object(B.a)().theme,a=Object(S.Oc)().isMobile,l=Oe(),u=l?l.filter((function(e){var t=e.farmName,n=e.tokenName,c=e.account;return t.toLowerCase().includes(r.toLowerCase())||n.toLowerCase().includes(r.toLowerCase())||c.toLowerCase().includes(r.toLowerCase())})):[],j=l?u.map((function(e){return Object(T.jsx)(ve,{bidder:e,isMobile:a},e.account)})):Object(T.jsx)(S.Y,{justifyContent:"center",alignItems:"center",py:"24px",children:Object(T.jsx)(S.cc,{})});return Object(T.jsxs)(fe,{p:"0",title:s("All Whitelisted Project Wallets"),onDismiss:t,headerBackground:o.colors.gradients.cardHeader,children:[Object(T.jsx)(me,{py:"16px",px:"24px",children:Object(T.jsx)(S.hb,{placeholder:s("Search address or token"),value:r,onChange:function(e){i(e.target.value)}})}),Object(T.jsx)(S.o,{pb:"24px",overflow:"scroll",maxHeight:"245px",children:j})]})},we=function(){var e=Oe(),t=Object(S.Pc)(Object(T.jsx)(ye,{})),n=Object(z.a)(t,1)[0];return e?Object(T.jsx)(S.s,{p:"0",variant:"text",scale:"sm",onClick:n,children:e.length}):Object(T.jsx)(S.Zb,{height:"24px",width:"46px"})},Ce=Object(C.e)(S.o)(x||(x=Object(y.a)(["\n  background-color: ",";\n"])),(function(e){return e.theme.colors.dropdown})),Ae=function(e){var t=e.auction,n=Object(w.useState)(!1),c=Object(z.a)(n,2),r=c[0],i=c[1],s=Object(Y.b)().t,o=t.topLeaderboard,a=t.status,l=a===K.a.Pending||a===K.a.Open;return Object(T.jsxs)(S.z,{p:"0",children:[r&&Object(T.jsx)(Ce,{children:Object(T.jsxs)(S.Y,{p:"16px",flexDirection:"column",children:[l&&Object(T.jsxs)(S.Y,{justifyContent:"space-between",width:"100%",pt:"8px",px:"8px",children:[Object(T.jsx)(S.sc,{color:"textSubtle",children:s("Farms available")}),Object(T.jsxs)(S.sc,{children:[o," (",s("top %num% bidders",{num:o}),")"]})]}),Object(T.jsxs)(S.Y,{justifyContent:"space-between",width:"100%",pt:"8px",px:"8px",children:[Object(T.jsx)(S.sc,{color:"textSubtle",children:s("Multiplier per farm")}),Object(T.jsxs)(S.sc,{children:["1x ",s("each")]})]}),Object(T.jsxs)(S.Y,{justifyContent:"space-between",width:"100%",pt:"8px",px:"8px",children:[Object(T.jsx)(S.sc,{color:"textSubtle",children:s("Total whitelisted bidders")}),Object(T.jsx)(we,{})]})]})}),Object(T.jsx)(S.Y,{p:"8px",alignItems:"center",justifyContent:"center",children:Object(T.jsx)(S.W,{expanded:r,onClick:function(){return i((function(e){return!e}))},children:s(r?"Hide":"Details")})})]})},Se=Object(C.e)(S.x)(p||(p=Object(y.a)(["\n  flex: 1;\n"]))),ke=function(e){var t=e.auction,n=e.connectedBidder,c=e.refreshBidders,r=Object(Y.b)().t,i=Object(S.Pc)(Object(T.jsx)(ue,{connectedBidder:n,refreshBidders:c,initialBidAmount:null===t||void 0===t?void 0:t.initialBidAmount})),s=Object(z.a)(i,1)[0];if(!t)return Object(T.jsxs)(Se,{mb:["24px",null,null,"0"],children:[Object(T.jsx)(S.A,{children:Object(T.jsx)(S.ab,{children:r("Current Auction")})}),Object(T.jsx)(S.y,{children:Object(T.jsx)(S.Y,{justifyContent:"center",alignItems:"center",height:"100%",children:Object(T.jsx)(S.cc,{})})})]});var o=t.status===K.a.Closed?r("Next Auction"):r("Current Auction");return Object(T.jsxs)(Se,{mb:["24px",null,null,"0"],children:[Object(T.jsx)(S.A,{children:Object(T.jsx)(S.ab,{children:o})}),Object(T.jsxs)(S.y,{children:[Object(T.jsx)(be,{auction:t}),Object(T.jsx)(S.Y,{mt:"24px",flexDirection:"column",justifyContent:"center",alignItems:"center",children:function(){var e=!n||n&&!n.isWhitelisted,c=!e&&n.bidderData;if(e||t.status!==K.a.Open)return Object(T.jsx)(xe,{});if(c){var i=n.bidderData,o=i.amount,a=i.position;return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(S.pc,{outline:!0,variant:"success",startIcon:Object(T.jsx)(S.G,{}),children:r("Connected as %projectName%",{projectName:n.bidderData.tokenName})}),Object(T.jsxs)(S.Y,{justifyContent:"space-between",width:"100%",pt:"24px",children:[Object(T.jsx)(S.sc,{small:!0,color:"textSubtle",children:r("Your existing bid")}),Object(T.jsxs)(S.sc,{small:!0,children:[Object(H.e)(o).toLocaleString()," CAKE"]})]}),Object(T.jsxs)(S.Y,{justifyContent:"space-between",width:"100%",pt:"8px",children:[Object(T.jsx)(S.sc,{small:!0,color:"textSubtle",children:r("Your position")}),Object(T.jsx)(S.sc,{small:!0,children:a?"#".concat(a):"-"})]}),Object(T.jsx)(S.s,{my:"24px",width:"100%",onClick:s,children:r("Place bid")}),Object(T.jsx)(S.sc,{color:"textSubtle",small:!0,children:r("If your bid is unsuccessful, you\u2019ll be able to reclaim your CAKE after the auction.")})]})}return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(S.Zb,{width:"200px",height:"28px"}),Object(T.jsxs)(S.Y,{justifyContent:"space-between",width:"100%",pt:"24px",px:"8px",children:[Object(T.jsx)(S.Zb,{width:"120px",height:"24px"}),Object(T.jsx)(S.Zb,{width:"86px",height:"24px"})]}),Object(T.jsxs)(S.Y,{justifyContent:"space-between",width:"100%",pt:"8px",px:"8px",children:[Object(T.jsx)(S.Zb,{width:"96px",height:"24px"}),Object(T.jsx)(S.Zb,{width:"42px",height:"24px"})]})]})}()})]}),Object(T.jsx)(Ae,{auction:t})]})},Ye=n(1127),De=n(22),Ee=n(4),Be=function(e){var t=Object(w.useState)({}),n=Object(z.a)(t,2),c=n[0],r=n[1],i=Object(J.j)();return Object(w.useEffect)((function(){var t=function(){var t=Object(Q.a)(_.a.mark((function t(){var n,c,s,o,a,l;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.auctions(e);case 3:return n=t.sent,t.next=6,Object(I.b)(e,n);case 6:return c=t.sent,t.next=9,i.viewBidsPerAuction(e,0,$.a);case 9:s=t.sent,o=Object(z.a)(s,1),a=o[0],l=Object(I.d)(a,c),r((function(t){return Object(Ee.a)(Object(Ee.a)({},t),{},Object(De.a)({},e,{auction:c,bidders:l}))})),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),console.error("Failed to fetch auction history",t.t0);case 19:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(){return t.apply(this,arguments)}}();!c[e]&&e>0&&t()}),[i,c,e]),c},Fe=n(42),Ie=C.e.div(h||(h=Object(y.a)(["\n  display: grid;\n  grid-template-columns: 1fr 5fr 3fr 1fr;\n  "," {\n    grid-template-columns: 3fr 5fr 5fr 1fr;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),Te=Object(C.e)(S.Y)(O||(O=Object(y.a)(["\n  height: 65px;\n  align-items: center;\n  border-bottom: 1px solid ",";\n\n  ","\n"])),(function(e){return e.theme.colors.cardBorder}),(function(e){var t=e.theme;return e.isTopPosition&&"background-color: ".concat(t.colors.warning,"2D;")})),Le=function(e){var t=e.bidder,n=e.cakePriceBusd,c=e.isMobile,r=Object(Y.b)().t,i=t.isTopPosition,s=t.position,o=t.samePositionAsAbove,a=t.farmName,l=t.tokenName,u=t.amount,j=t.projectSite,d=t.lpAddress,b=t.account;return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(Te,{isTopPosition:i,pl:["12px","24px"],children:Object(T.jsx)(S.Y,{children:Object(T.jsxs)(S.sc,{bold:i,color:o?"textDisabled":"text",textTransform:"uppercase",children:["#",s]})})}),Object(T.jsx)(Te,{isTopPosition:i,children:Object(T.jsxs)(S.Y,{flexDirection:"column",pl:["8px"],children:[Object(T.jsxs)(S.Y,{children:[Object(T.jsx)(S.sc,{bold:i,mr:"4px",children:a}),!c&&Object(T.jsx)(S.sc,{children:"(1x)"})]}),Object(T.jsx)(S.sc,{fontSize:"12px",color:"textSubtle",children:l})]})}),Object(T.jsx)(Te,{isTopPosition:i,children:Object(T.jsxs)(S.Y,{flexDirection:"column",width:"100%",justifyContent:"flex-end",pr:[null,null,"24px"],children:[Object(T.jsx)(S.sc,{bold:!0,textTransform:"uppercase",width:"100%",textAlign:"right",children:Object(H.e)(u).toLocaleString()}),n.gt(0)?Object(T.jsxs)(S.sc,{fontSize:"12px",color:"textSubtle",textAlign:"right",children:["~$",Object(H.e)(u.times(n)).toLocaleString("en",{maximumFractionDigits:0})]}):Object(T.jsx)(S.Y,{justifyContent:"flex-end",children:Object(T.jsx)(S.Zb,{width:"48px"})})]})}),Object(T.jsx)(Te,{isTopPosition:i,children:Object(T.jsxs)(S.hc,{component:Object(T.jsx)(S.T,{height:"16px",width:"16px"}),children:[j&&Object(T.jsx)(S.ic,{as:S.mb,href:j,bold:!1,color:"text",children:r("Project Site")}),d&&Object(T.jsx)(S.ic,{as:S.mb,href:"/info/pool/".concat(d),bold:!1,color:"text",children:r("LP Info")}),b&&Object(T.jsx)(S.ic,{as:S.mb,href:Object(Fe.e)(b,"address"),bold:!1,color:"text",children:r("Bidder Address")})]})})]})},Pe=function(e){var t=e.bidders,n=e.noBidsText,c=Object(w.useState)(10),r=Object(z.a)(c,2),i=r[0],s=r[1],o=Object(ce.g)(),a=Object(Y.b)().t,l=Object(S.Oc)().isMobile,u=Object(S.Pc)(Object(T.jsx)(ye,{})),j=Object(z.a)(u,1)[0],d=t.length;return 0===d?Object(T.jsxs)(S.Y,{justifyContent:"center",alignItems:"center",flexDirection:"column",py:"24px",children:[Object(T.jsx)(S.sc,{mb:"8px",children:n}),Object(T.jsx)(S.r,{height:"64px",width:"64px"})]}):Object(T.jsxs)(S.o,{children:[Object(T.jsxs)(Ie,{children:[Object(T.jsx)(S.sc,{color:"secondary",bold:!0,fontSize:"12px",textTransform:"uppercase",pl:["12px","24px"],py:"16px",children:a("Position")}),Object(T.jsx)(S.sc,{color:"secondary",bold:!0,fontSize:"12px",textTransform:"uppercase",pl:["8px"],py:"16px",children:a("Farm")}),Object(T.jsx)(S.sc,{color:"secondary",bold:!0,fontSize:"12px",textTransform:"uppercase",textAlign:"right",pr:[null,null,"24px"],py:"16px",children:a("CAKE bid")}),Object(T.jsx)(S.o,{}),t.slice(0,i).map((function(e){return Object(T.jsx)(Le,{bidder:e,cakePriceBusd:o,isMobile:l},e.account)}))]}),Object(T.jsxs)(S.Y,{mt:"16px",px:"24px",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[i<=10&&d>10&&Object(T.jsxs)(S.sc,{color:"textSubtle",textAlign:"center",children:[a("Showing top 10 bids only.")," ",Object(T.jsx)(S.s,{px:"0",variant:"text",onClick:j,children:a("See all whitelisted bidders")})]}),i<d&&Object(T.jsx)(S.s,{mt:"16px",variant:"text",onClick:function(){return s((function(e){return d-e>10?e+10:d}))},children:a("Show More")})]})]})},Ne=Object(C.e)(S.db)(f||(f=Object(y.a)(["\n  width: 32px;\n\n  :disabled {\n    background: none;\n\n    svg {\n      fill: ",";\n\n      path {\n        fill: ",";\n      }\n    }\n  }\n"])),(function(e){return e.theme.colors.textDisabled}),(function(e){return e.theme.colors.textDisabled})),Re=function(e){var t=e.mostRecentClosedAuctionId,n=Object(w.useState)(t?t.toString():"0"),c=Object(z.a)(n,2),r=c[0],i=c[1],s=parseInt(r,10),o=Object(Y.b)().t,a=Object(S.Oc)(),l=a.isXs,u=a.isSm,j=a.isMd,d=a.isLg,b=a.isXl,x=a.isXxl,p=d||b||x,h=l||u||j,O=Be(s),f=Object.values(O).find((function(e){return e.auction.id===s})),m=f?Object(T.jsx)(Pe,{bidders:f.bidders,noBidsText:"No bids were placed in this auction"}):Object(T.jsx)(S.Y,{justifyContent:"center",alignItems:"center",p:"24px",height:"250px",children:Object(T.jsx)(S.cc,{})});Number.isNaN(s)&&(m=Object(T.jsxs)(S.Y,{flexDirection:"column",justifyContent:"center",alignItems:"center",p:"24px",height:"250px",children:[Object(T.jsx)(S.sc,{mb:"8px",children:o("Please specify auction ID")}),Object(T.jsx)(S.r,{height:"64px",width:"64px"})]}));var g=f?Object(je.default)(f.auction.endDate,"MMM. dd yyyy, hh:mm aa"):null,v=function(e){i(e?e.toString():"1")};return Object(T.jsxs)(S.o,{py:"24px",children:[Object(T.jsxs)(S.Y,{px:["12px","24px"],justifyContent:"space-between",alignItems:"center",children:[Object(T.jsxs)(S.Y,{flex:"3",alignItems:"center",children:[Object(T.jsx)(S.sc,{bold:!0,fontSize:p?"20px":"16px",mr:["4px","8px"],children:o("Auction #")}),Object(T.jsx)(S.o,{width:"62px",mr:["4px","16px"],children:Object(T.jsx)(S.hb,{disabled:!t,type:"input",value:r,onChange:function(e){var n=e.target.value;if(n){var c=n;parseInt(n,10)<=0&&(c=""),parseInt(n,10)>=t&&(c=t.toString()),i(c)}else i("")}})}),Object(T.jsx)(Ne,{disabled:!s||s<=1,variant:"text",scale:"sm",mr:["8px","12px"],onClick:function(){return v(s-1)},children:Object(T.jsx)(S.c,{})}),Object(T.jsx)(Ne,{disabled:s>=t,variant:"text",scale:"sm",mr:["8px","12px"],onClick:function(){return v(s+1)},children:Object(T.jsx)(S.f,{})}),Object(T.jsx)(Ne,{disabled:s>=t,variant:"text",scale:"sm",onClick:function(){return v(t)},children:Object(T.jsx)(S.g,{})})]}),p&&Object(T.jsx)(S.Y,{flex:"2",justifyContent:"flex-end",children:g&&Object(T.jsx)(S.sc,{children:o("Ended %date%",{date:g})})})]}),h&&Object(T.jsx)(S.Y,{px:["12px","24px"],pt:"8px",children:g&&Object(T.jsx)(S.sc,{children:o("Ended %date%",{date:g})})}),t?m:Object(T.jsxs)(S.Y,{flexDirection:"column",justifyContent:"center",alignItems:"center",p:"24px",height:"250px",children:[Object(T.jsx)(S.sc,{mb:"8px",children:o("No history yet")}),Object(T.jsx)(S.r,{height:"64px",width:"64px"})]})]})},Me=n(1219),ze=n(191),Ke=function(e){var t=e.auction,n=Object(w.useState)(0),c=Object(z.a)(n,2),r=c[0],i=c[1],s=Object(ze.b)();return Object(w.useEffect)((function(){if(t.status===K.a.ToBeAnnounced||t.status===K.a.Pending)i(0);else{var e=new Date,n=Object(Me.a)(t.endDate,t.startDate),c=100*Object(Me.a)(e,t.startDate)/n;i(c<100?c:100)}}),[s,t]),Object(T.jsx)(S.Sb,{variant:"flat",primaryStep:r})},He=C.e.div(m||(m=Object(y.a)(["\n  display: flex;\n  justify-content: center;\n  background-color: ",";\n  color: white;\n  position: absolute;\n  right: 0;\n  top: 0;\n  text-align: center;\n  width: 94px;\n  height: 94px;\n  z-index: 1;\n  clip-path: polygon(0 0, 40% 0, 100% 60%, 100% 100%);\n\n  & > div {\n    padding-top: 23%;\n    overflow: hidden;\n    transform: rotate(45deg);\n  }\n"])),(function(e){var t=e.theme,n=e.color;return t.colors[n]})),We=function(e){var t=e.auction,n=e.noAuctionHistory,c=Object(Y.b)().t,r=t.status;if(n)return null;var i=c("Finished"),s="textDisabled";return r===K.a.Open&&(i="".concat(c("Live"),"!"),s="success"),r===K.a.Pending&&(i="".concat(c("Get ready"),"!"),s="warning"),Object(T.jsx)(He,{color:s,children:Object(T.jsx)(S.sc,{color:"white",textTransform:"uppercase",children:i})})},_e=Object(C.e)(S.x)(g||(g=Object(y.a)(["\n  width: 100%;\n  flex: 2;\n"])));!function(e){e[e.Latest=0]="Latest",e[e.Archive=1]="Archive"}(v||(v={}));var Qe,Ze,qe,Ue,Ge,Xe,Ve,Je,$e=function(e,t){return t===K.a.Closed?e:0===e?null:e-1},et=function(e){var t=e.auction,n=e.bidders,c=Object(Y.b)().t,r=Object(w.useState)(v.Latest),i=Object(z.a)(r,2),s=i[0],o=i[1];if(!t||!n)return Object(T.jsxs)(_e,{children:[Object(T.jsxs)(Ye.b,{children:[Object(T.jsx)(Ye.a,{isActive:s===v.Latest,onClick:function(){return o(v.Latest)},children:c("Latest")}),Object(T.jsx)(Ye.a,{isActive:s===v.Archive,onClick:function(){return o(v.Archive)},children:c("Archive")})]}),Object(T.jsx)(S.Y,{justifyContent:"center",alignItems:"center",flexDirection:"column",height:"320px",children:Object(T.jsx)(S.cc,{})})]});var a=t.id,l=t.status;return Object(T.jsxs)(_e,{children:[Object(T.jsxs)(Ye.b,{children:[Object(T.jsx)(Ye.a,{isActive:s===v.Latest,onClick:function(){return o(v.Latest)},children:c("Latest")}),Object(T.jsx)(Ye.a,{isActive:s===v.Archive,onClick:function(){return o(v.Archive)},children:c("Archive")})]}),s===v.Latest?Object(T.jsxs)(S.o,{position:"relative",children:[Object(T.jsx)(S.sc,{bold:!0,fontSize:"20px",py:"24px",px:["12px","24px"],children:c("Auction #%auctionId%",{auctionId:a})}),Object(T.jsx)(We,{auction:t,noAuctionHistory:null===$e(a,l)}),Object(T.jsx)(Ke,{auction:t}),Object(T.jsx)(Pe,{bidders:n,noBidsText:"No bids yet"})]}):Object(T.jsx)(Re,{mostRecentClosedAuctionId:$e(a,l)})]})},tt=n(1220),nt=n(946),ct=n(451),rt=Object(C.e)(S.Y)(Qe||(Qe=Object(y.a)(["\n  align-items: flex-end;\n  margin: 0 16px 0 16px;\n"]))),it=function(e){var t=e.auction,n=Object(Y.b)().t;if(!t)return Object(T.jsx)(S.Y,{justifyContent:"center",alignItems:"center",mb:"48px",children:Object(T.jsx)(S.Zb,{width:"256px",height:"40px"})});if(t.status===K.a.ToBeAnnounced||t.status===K.a.Closed)return null;if(t.status===K.a.Finished)return Object(T.jsxs)(S.Y,{justifyContent:"center",alignItems:"center",mb:"48px",children:[Object(T.jsxs)(S.sc,{bold:!0,children:[n("Closing"),"..."]}),Object(T.jsx)(S.Ob,{height:"40px",width:"40px"})]});var c=t.startDate,r=t.endDate,i=Object(nt.default)(c,new Date)?c:r,s=n(i===r?"Ending in":"Next auction"),o=Object(Me.a)(i,new Date),a=Object(ct.a)(o),l=a.days,u=a.hours,j=a.minutes;return Object(T.jsxs)(S.Y,{justifyContent:"center",alignItems:"center",mb:"48px",children:[Object(T.jsxs)(S.sc,{bold:!0,children:[s,": "]}),Object(T.jsxs)(rt,{children:[0!==l&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(S.sc,{verticalAlign:"baseline",lineHeight:"28px",fontSize:"24px",bold:!0,color:"secondary",mr:"4px",children:l}),Object(T.jsx)(S.sc,{verticalAlign:"baseline",bold:!0,mr:"4px",children:n("d")})]}),Object(T.jsx)(S.sc,{verticalAlign:"baseline",lineHeight:"28px",fontSize:"24px",bold:!0,color:"secondary",mr:"4px",children:u}),Object(T.jsx)(S.sc,{verticalAlign:"baseline",bold:!0,mr:"4px",children:n("h")}),Object(T.jsx)(S.sc,{verticalAlign:"baseline",lineHeight:"28px",fontSize:"24px",bold:!0,color:"secondary",mr:"4px",children:j}),Object(T.jsx)(S.sc,{verticalAlign:"baseline",bold:!0,children:n("m")})]}),Object(T.jsx)(S.Ob,{height:"40px",width:"40px"})]})},st={auctions:[],currentCursor:0,nextCursor:0,nextAuctionToCheck:0,auctionToReclaim:null,loading:!1},ot=function(e,t){switch(t.type){case"setAuctions":return{auctions:t.payload.auctions,currentCursor:e.currentCursor,nextCursor:t.payload.nextCursor,nextAuctionToCheck:0,auctionToReclaim:null,loading:!1};case"setAuctionToReclaim":return Object(Ee.a)(Object(Ee.a)({},e),{},{auctionToReclaim:t.payload.auctionToReclaim,loading:!1});case"checkNextAuction":var n=e.nextAuctionToCheck+1;return n===e.auctions.length?Object(Ee.a)(Object(Ee.a)({},e),{},{auctions:[],currentCursor:e.nextCursor,auctionToReclaim:null,loading:!1}):Object(Ee.a)(Object(Ee.a)({},e),{},{nextAuctionToCheck:n,auctionToReclaim:null,loading:!1});case"setLoading":return Object(Ee.a)(Object(Ee.a)({},e),{},{loading:t.payload.loading});case"reset":return st;default:return e}},at=function(){var e=Object(k.c)().account,t=Object(w.useReducer)(ot,st),n=Object(z.a)(t,2),c=n[0],r=n[1],i=Object(J.j)();return Object(w.useEffect)((function(){r({type:"reset"})}),[e]),Object(w.useEffect)((function(){var t=function(){var t=Object(Q.a)(_.a.mark((function t(){var n,s,o,a;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:"setLoading",payload:{loading:!0}}),t.next=4,i.viewBidderAuctions(e,c.currentCursor,$.o);case 4:n=t.sent,s=Object(I.c)(n),o=s.auctions,a=s.nextCursor,o.length>0&&r({type:"setAuctions",payload:{auctions:o,nextCursor:a}}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),console.error("Failed to fetch auctions for bidder",t.t0),r({type:"setLoading",payload:{loading:!1}});case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}();!c.loading&&e&&c.currentCursor===c.nextCursor&&t()}),[e,c,i]),Object(w.useEffect)((function(){var t=function(){var t=Object(Q.a)(_.a.mark((function t(n){var c,s,o,a,l,u,j;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:"setLoading",payload:{loading:!0}}),t.prev=1,t.next=4,i.claimable(n.id,e);case 4:if(!t.sent){t.next=18;break}return t.next=8,i.viewBidsPerAuction(n.id,0,500);case 8:c=t.sent,s=Object(z.a)(c,1),o=s[0],a=Object(I.d)(o),l=a.find((function(t){return t.account===e})),u=null===l||void 0===l?void 0:l.position,j={id:n.id,amount:n.amount,position:u},r({type:"setAuctionToReclaim",payload:{auctionToReclaim:j}}),t.next=19;break;case 18:r({type:"checkNextAuction"});case 19:t.next=25;break;case 21:t.prev=21,t.t0=t.catch(1),r({type:"setLoading",payload:{loading:!1}}),console.error("Failed to check for unclaim bids",t.t0);case 25:case"end":return t.stop()}}),t,null,[[1,21]])})));return function(e){return t.apply(this,arguments)}}(),n=c.auctions,s=c.nextAuctionToCheck,o=c.loading;n.length>0&&e&&!o&&t(n[s])}),[e,c,i]),[c.auctionToReclaim,function(){r({type:"checkNextAuction"})}]},lt=Object(C.e)(S.x)(Ze||(Ze=Object(y.a)(["\n  margin-top: 16px;\n  flex: 1;\n"]))),ut=function(){var e=Object(Y.b)().t,t=Object(k.c)().account,n=Object(re.a)().callWithGasPrice,c=at(),r=Object(z.a)(c,2),i=r[0],s=r[1],o=Object(J.d)(),a=Object(J.j)(),l=Object(ee.a)().toastSuccess,u=Object(V.a)({onRequiresApproval:function(){var e=Object(Q.a)(_.a.mark((function e(){var n,c;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.allowance(t,a.address);case 3:return n=e.sent,c=Object(G.d)(n),e.abrupt("return",c.gt(0));case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),onApprove:function(){return n(o,"approve",[a.address,U.a.constants.MaxUint256])},onApproveSuccess:function(){var t=Object(Q.a)(_.a.mark((function t(n){var c;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c=n.receipt,l(e("Contract approved - you can now reclaim your bid!"),Object(T.jsx)(ie.b,{txHash:c.transactionHash}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),onConfirm:function(){return n(a,"claimAuction",[i.id])},onSuccess:function(){var t=Object(Q.a)(_.a.mark((function t(n){var c;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c=n.receipt,s(),l(e("Bid reclaimed!"),Object(T.jsx)(ie.b,{txHash:c.transactionHash}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}),j=u.isApproving,d=u.isApproved,b=u.isConfirming,x=u.handleApprove,p=u.handleConfirm;if(!i)return null;var h=i.position,O=i.amount;return Object(T.jsxs)(lt,{mb:["24px",null,null,"0"],children:[Object(T.jsx)(S.A,{children:Object(T.jsx)(S.ab,{children:e("Reclaim Bid")})}),Object(T.jsxs)(S.y,{children:[Object(T.jsx)(S.sc,{mb:"16px",children:e("Your bid in Auction #%auctionId% was unsuccessful.",{auctionId:i.id})}),Object(T.jsx)(S.sc,{bold:!0,mb:"16px",children:e("Reclaim your CAKE now.")}),Object(T.jsxs)(S.Y,{justifyContent:"space-between",mb:"8px",children:[Object(T.jsx)(S.sc,{color:"textSubtle",children:e("Your total bid")}),Object(T.jsx)(S.sc,{children:e("%num% CAKE",{num:Object(H.e)(O).toLocaleString()})})]}),Object(T.jsxs)(S.Y,{justifyContent:"space-between",mb:"24px",children:[Object(T.jsx)(S.sc,{color:"textSubtle",children:e("Your position")}),Object(T.jsxs)(S.sc,{children:["#",h]})]}),t?Object(T.jsx)(ne.b,{isApproveDisabled:d,isApproving:j,isConfirmDisabled:!1,isConfirming:b,onApprove:x,onConfirm:p,buttonArrangement:ne.a.SEQUENTIAL,confirmLabel:e("Reclaim")}):Object(T.jsx)(te.a,{})]})]})},jt=function(e){var t=e.connectedBidder,n=e.auction,c=Object(Y.b)().t;return t&&t.isWhitelisted||!n?null:Object(T.jsx)(S.Y,{mb:"24px",justifyContent:"center",children:Object(T.jsx)(S.wb,{variant:"warning",icon:Object(T.jsx)(S.bb,{width:"24px"}),children:Object(T.jsxs)(S.o,{maxWidth:"800px",children:[Object(T.jsx)(S.sc,{bold:!0,children:c("Notice")}),Object(T.jsx)(S.sc,{children:c("This page is a functional page, for projects to bid for farms.")}),Object(T.jsx)(S.sc,{children:c("If you\u2019re not a whitelisted project, you won\u2019t be able to participate, but you can still view the auction bids in real time!")}),Object(T.jsx)(S.sc,{children:c("Connect a whitelisted project wallet to participate in Auctions.")})]})})})},dt=function(e,t){var n=Object(w.useState)(null),c=Object(z.a)(n,2),r=c[0],i=c[1],s=Object(k.c)().account,o=Object(J.j)();return Object(w.useEffect)((function(){var n=function(){var e=Object(Q.a)(_.a.mark((function e(t){var n,c,r,a,l,u,j,d;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.auctions(t);case 2:return n=e.sent,e.next=5,Object(I.b)(t,n);case 5:return c=e.sent,e.next=8,o.viewBidsPerAuction(t,0,500);case 8:r=e.sent,a=Object(z.a)(r,1),l=a[0],u=Object(I.d)(l),j=c.leaderboardThreshold,u.filter((function(e){return j.lte(e.amount)})).map((function(e){return e.account})).includes(s)&&(d=u.find((function(e){return e.account===s})),i({auction:c,bidderData:d}));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=t.filter((function(t){return e.leaderboardThreshold.lte(t.amount)})).map((function(e){return e.account})),r=e.id-1;if(e.status===K.a.Closed&&c.includes(s)){var a=t.find((function(e){return e.account===s}));i({auction:e,bidderData:a})}else r>0&&n(r)}),[e,t,s,o]),r},bt=Object(C.e)(S.x)(qe||(qe=Object(y.a)(["\n  margin-top: 16px;\n  flex: 1;\n"]))),xt=function(e){var t=e.currentAuction,n=e.bidders,c=Object(Y.b)().t,r=dt(t,n);if(!r)return null;var i=r.auction,s=r.bidderData,o=s.amount,a=s.position;return Object(T.jsxs)(bt,{mb:["24px",null,null,"0"],children:[Object(T.jsx)(S.A,{children:Object(T.jsx)(S.ab,{children:c("Congratulations!")})}),Object(T.jsxs)(S.y,{children:[Object(T.jsx)(S.sc,{mb:"16px",children:c("Your bid in Auction #%auctionId% was successful.",{auctionId:i.id})}),Object(T.jsx)(S.sc,{children:c("Your Farm will be launched as follows:")}),Object(T.jsxs)(S.Y,{flexDirection:"column",mb:"24px",children:[Object(T.jsxs)(S.Y,{justifyContent:"space-between",width:"100%",pt:"8px",children:[Object(T.jsx)(S.sc,{color:"textSubtle",children:c("Multiplier per farm")}),Object(T.jsxs)(S.sc,{children:["1x ",c("each")]})]}),Object(T.jsxs)(S.Y,{justifyContent:"space-between",width:"100%",pt:"8px",children:[Object(T.jsx)(S.sc,{color:"textSubtle",children:c("Total whitelisted bidders")}),Object(T.jsx)(we,{})]})]}),Object(T.jsxs)(S.Y,{justifyContent:"space-between",mb:"8px",children:[Object(T.jsx)(S.sc,{color:"textSubtle",children:c("Your total bid")}),Object(T.jsxs)(S.sc,{children:[Object(H.e)(o).toLocaleString()," CAKE"]})]}),Object(T.jsxs)(S.Y,{justifyContent:"space-between",children:[Object(T.jsx)(S.sc,{color:"textSubtle",children:c("Your position")}),Object(T.jsxs)(S.sc,{children:["#",a]})]})]})]})},pt=n(51),ht=Object(C.e)(S.sc)(Ue||(Ue=Object(y.a)(["\n  font-size: 52px;\n\n  "," {\n    font-size: 64px;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),Ot=function(){var e=Object(w.useState)(0),t=Object(z.a)(e,2),n=t[0],c=t[1],r=Object(Y.b)().t,i=Object(J.j)(),s=Object(ce.g)().times(n);return Object(w.useEffect)((function(){0===n&&function(){var e=Object(Q.a)(_.a.mark((function e(){var t,n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.totalCollected();case 3:t=e.sent,n=Object(G.d)(t),c(Object(H.e)(n)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Failed to fetch burned auction cake",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()()}),[n,i]),Object(T.jsxs)(S.Y,{flexDirection:["column-reverse",null,"row"],children:[Object(T.jsxs)(S.Y,{flexDirection:"column",flex:"2",children:[0!==n?Object(T.jsx)(pt.a,{fontSize:"64px",bold:!0,value:n,decimals:0,unit:" CAKE"}):Object(T.jsx)(S.Zb,{width:"256px",height:"64px"}),Object(T.jsx)(ht,{textTransform:"uppercase",bold:!0,color:"secondary",children:r("Burned")}),Object(T.jsx)(S.sc,{fontSize:"24px",bold:!0,children:r("through community auctions so far!")}),s.isNaN()||s.isZero()?Object(T.jsx)(S.Zb,{width:"128px"}):Object(T.jsxs)(S.sc,{color:"textSubtle",children:["~$",s.toNumber().toLocaleString("en",{maximumFractionDigits:0})]})]}),Object(T.jsx)(S.eb,{width:350,height:320,src:"/images/burnt-cake.png",alt:r("Burnt CAKE")})]})},ft=Object(C.e)(D.a)(Ge||(Ge=Object(y.a)(["\n  max-height: max-content;\n  margin-bottom: -40px;\n  padding-bottom: 40px;\n  overflow: hidden;\n  "," {\n    max-height: 600px;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),mt=Object(C.e)(S.Y)(Xe||(Xe=Object(y.a)(["\n  flex-direction: column;\n  flex: 1;\n"]))),gt=Object(C.e)(S.Y)(Ve||(Ve=Object(y.a)(["\n  align-items: center;\n  justify-content: center;\n  flex: 0.5;\n  & img {\n    height: 50%;\n    width: 50%;\n    max-height: 330px;\n    margin-top: 24px;\n  }\n\n  "," {\n    & img {\n      height: auto;\n      width: auto;\n    }\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),vt=Object(C.e)(S.Y)(Je||(Je=Object(y.a)(["\n  width: 100%;\n  align-items: flex-start;\n\n  "," {\n    gap: 24px;\n  }\n"])),(function(e){return e.theme.mediaQueries.md}));t.default=function(){var e=Object(Y.b)().t,t=Object(B.a)().theme,n=Object(k.c)().account,c=Object(tt.a)(n),r=c.currentAuction,i=c.bidders,s=c.connectedBidder,o=c.refreshBidders,a="radial-gradient(50% 79.31% at 50% 50%, #FAF9FA 0%, #EAECF4 100%)",l="radial-gradient(103.12% 50% at 50% 50%, #152534 0%, #191326 100%)";return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)(ft,{children:[Object(T.jsxs)(S.p,{children:[Object(T.jsx)(A.a,{to:"/",color:"primary",style:{fontWeight:400},children:e("Home")}),Object(T.jsx)(A.a,{to:"/farms",color:"primary",style:{fontWeight:400},children:e("Farms")}),Object(T.jsx)(S.sc,{children:e("Community Farm Auction")})]}),Object(T.jsxs)(S.Y,{flexDirection:["column-reverse",null,"row"],children:[Object(T.jsxs)(mt,{children:[Object(T.jsx)(S.ab,{as:"h1",scale:"xxl",my:"24px",children:e("Community Farm Auction")}),Object(T.jsx)(S.sc,{color:"textSubtle",mb:"24px",children:e("Each week, qualifying projects can bid CAKE for the right to host a 7-day Farm on PancakeSwap.")}),Object(T.jsx)(S.sc,{color:"textSubtle",children:e("This page is for projects to bid for farms.")}),Object(T.jsx)(S.sc,{color:"textSubtle",mb:"24px",children:e("If you\u2019re not a whitelisted project, you won\u2019t be able to participate, but you can still view what\u2019s going on!")}),Object(T.jsx)(S.lb,{external:!0,href:I.a,children:Object(T.jsx)(S.s,{children:Object(T.jsx)(S.sc,{color:"white",bold:!0,fontSize:"16px",mr:"4px",children:e("Apply for a Farm/Pool")})})})]}),Object(T.jsx)(gt,{children:Object(T.jsx)("img",{src:"/images/decorations/auction-bunny.png",alt:e("auction bunny")})})]})]}),Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)(E.a,{innerProps:{style:{margin:"0",width:"100%"}},background:t.colors.background,p:"24px 0",index:2,concaveDivider:!0,dividerPosition:"top",children:[Object(T.jsx)(jt,{connectedBidder:s,auction:r}),Object(T.jsx)(it,{auction:r}),Object(T.jsxs)(vt,{flexDirection:["column",null,null,"row"],children:[Object(T.jsxs)(S.Y,{flex:"1",flexDirection:"column",width:"100%",minWidth:"288px",children:[Object(T.jsx)(ke,{auction:r,connectedBidder:s,refreshBidders:o}),(null===s||void 0===s?void 0:s.isWhitelisted)&&i&&r&&Object(T.jsx)(xt,{currentAuction:r,bidders:i}),(null===s||void 0===s?void 0:s.isWhitelisted)&&Object(T.jsx)(ut,{})]}),Object(T.jsx)(et,{auction:r,bidders:i})]})]}),Object(T.jsx)(E.a,{background:t.isDark?l:a,index:2,innerProps:{style:{width:"100%"}},dividerPosition:"top",dividerFill:{light:"radial-gradient(ellipse at bottom, #f0f1f6, #EAECF4)",dark:"#191326"},children:Object(T.jsx)(Ot,{})}),Object(T.jsx)(E.a,{background:t.isDark?"linear-gradient(180deg, #434575 0%, #66578D 100%)":"linear-gradient(180deg, #CBD7EF 0%, #9A9FD0 100%)",clipFill:{light:"#CBD7EF",dark:"#434575"},dividerFill:{light:a,dark:l},concaveDivider:!0,index:3,dividerPosition:"top",children:Object(T.jsx)(M,{})})]})]})}},991:function(e,t,n){"use strict";var c=n(3),r=n.n(c),i=n(10),s=n(9),o=n(4),a=n(1),l=n(105),u=n(50),j=n(111),d=n(14),b={approvalState:"idle",confirmState:"idle"},x=function(e,t){switch(t.type){case"requires_approval":return Object(o.a)(Object(o.a)({},e),{},{approvalState:"success"});case"approve_sending":return Object(o.a)(Object(o.a)({},e),{},{approvalState:"loading"});case"approve_receipt":return Object(o.a)(Object(o.a)({},e),{},{approvalState:"success"});case"approve_error":return Object(o.a)(Object(o.a)({},e),{},{approvalState:"fail"});case"confirm_sending":return Object(o.a)(Object(o.a)({},e),{},{confirmState:"loading"});case"confirm_receipt":return Object(o.a)(Object(o.a)({},e),{},{confirmState:"success"});case"confirm_error":return Object(o.a)(Object(o.a)({},e),{},{confirmState:"fail"});default:return e}};t.a=function(e){var t=e.onApprove,n=e.onConfirm,c=e.onRequiresApproval,o=e.onSuccess,p=void 0===o?l.noop:o,h=e.onApproveSuccess,O=void 0===h?l.noop:h,f=Object(d.b)().t,m=Object(u.c)().account,g=Object(a.useReducer)(x,b),v=Object(s.a)(g,2),y=v[0],w=v[1],C=Object(a.useRef)(c),A=Object(j.a)().toastError;return Object(a.useEffect)((function(){m&&C.current&&C.current().then((function(e){e&&w({type:"requires_approval"})}))}),[m,C,w]),{isApproving:"loading"===y.approvalState,isApproved:"success"===y.approvalState,isConfirming:"loading"===y.confirmState,isConfirmed:"success"===y.confirmState,handleApprove:function(){var e=Object(i.a)(r.a.mark((function e(){var n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t();case 3:return n=e.sent,w({type:"approve_sending"}),e.next=7,n.wait();case 7:(c=e.sent).status&&(w({type:"approve_receipt"}),O({state:y,receipt:c})),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),w({type:"approve_error"}),A(f("Error"),f("Please try again. Confirm the transaction and make sure you are paying enough gas!"));case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),handleConfirm:function(){var e=Object(i.a)(r.a.mark((function e(){var t,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w({type:"confirm_sending"}),e.prev=1,e.next=4,n();case 4:return t=e.sent,e.next=7,t.wait();case 7:(c=e.sent).status&&(w({type:"confirm_receipt"}),p({state:y,receipt:c})),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(1),console.log("erorrrrrrrrrrrrrrrrrrrrrrr",e.t0),w({type:"confirm_error"}),A(f("Error"),f("Please try again. Confirm the transaction and make sure you are paying enough gas!"));case 16:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}()}}}}]);
//# sourceMappingURL=25.bc6c0c4a.chunk.js.map