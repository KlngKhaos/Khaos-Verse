(this["webpackJsonpgladiators-frontend"]=this["webpackJsonpgladiators-frontend"]||[]).push([[43],{1010:function(t,e,n){"use strict";var r=n(4),o=n(9),a=n(1),c=n(891),i=n(888),s=n(878),u=n(0);e.a=function(t){var e,n,l,f,d,h,g=t.data,p=g.setModel,j=g.setCurName,b=g.curSpeed,O=g.nodes,m=g.colors,v=g.animations,S=g.nft,x=g.position,I=Object(a.useRef)(),k=Object(a.useRef)(),y=Object(a.useState)((function(){return new i.AnimationMixer(I)})),T=Object(o.a)(y,1)[0],N=Object(s.a)((function(t){return t.showStatics})),H=(Object(s.a)((function(t){return t.updateShowStatics})),Object(s.a)((function(t){return t.currentStatics}))),w=Object(s.a)((function(t){return t.updateCurrentStatics})),M=Object(s.a)((function(t){return t.currentHoverModel})),_=Object(s.a)((function(t){return t.updateCurrentHoverModel}));Object(a.useEffect)((function(){p({scene:I.current})}),[p]),Object(a.useEffect)((function(){return v.length&&(k.current={idle:T.clipAction(v[S.glTFAnimationIndex||0],I.current)},k.current.idle.play()),function(){return v.forEach((function(t){return T.uncacheClip(t)}))}}),[v,T]),Object(c.c)((function(t,e){return T.update(e*b)}));var G=(null===x||void 0===x?void 0:x.x)||0,F=(null===x||void 0===x?void 0:x.y)||0,C=(null===x||void 0===x?void 0:x.z)||0,P=(null===(e=S.glTFScale)||void 0===e?void 0:e.x)||1,J=(null===(n=S.glTFScale)||void 0===n?void 0:n.y)||1,A=(null===(l=S.glTFScale)||void 0===l?void 0:l.z)||1,R=(null===(f=S.glTFRotation)||void 0===f?void 0:f.x)||-Math.PI/2,D=(null===(d=S.glTFRotation)||void 0===d?void 0:d.y)||0,U=(null===(h=S.glTFRotation)||void 0===h?void 0:h.z)||0,z=function(){var t=Object(r.a)({},S);delete t.model,w(t)},E=function(){return!N&&!M||(null===M||void 0===M?void 0:M.hash)===S.hash||S.hash===(null===H||void 0===H?void 0:H.hash)};return Object(u.jsx)("group",{position:[G,F,C],children:Object(u.jsx)("group",{ref:I,dispose:null,scale:[P,J,A],children:Object(u.jsx)("group",{rotation:[R,D,U],children:Object(u.jsxs)("group",{children:[O[S.glTFRootNode||"Armature_rootJoint"]?Object(u.jsx)("primitive",{object:O[S.glTFRootNode||"Armature_rootJoint"]}):null,Object.keys(O).map((function(t){return O[t].isSkinnedMesh?Object(u.jsx)("skinnedMesh",{castShadow:!0,geometry:O[t].geometry,material:O[t].material,skeleton:O[t].skeleton,morphTargetDictionary:O[t].morphTargetDictionary,morphTargetInfluences:O[t].morphTargetInfluences,"material-color":E()?m[t]?m[t]:"#ffffff":"#111111",onClick:function(e){j(t),z(),e.stopPropagation()},onPointerMove:function(){return _(S)},onPointerOut:function(){return _(null)}},O[t].uuid):O[t].isMesh?Object(u.jsx)("mesh",{castShadow:!0,material:O[t].material,"material-color":E()?m[t]?m[t]:"#ffffff":"#111111",morphTargetDictionary:O[t].morphTargetDictionary,morphTargetInfluences:O[t].morphTargetInfluences,onClick:function(e){j(t),z(),e.stopPropagation()},onPointerMove:function(){return _(S)},onPointerOut:function(){return _(null)}},O[t].uuid):null}))]})})})})}},1692:function(t,e,n){"use strict";n.r(e);var r,o,a,c=n(3),i=n.n(c),s=n(10),u=n(4),l=n(9),f=n(8),d=n(1),h=n(6),g=n(80),p=n(13),j=n(1261),b=n(1177),O=n(878),m=n(46),v=n(47),S=n(72),x=n(0),I=h.e.div(r||(r=Object(f.a)(["\n  display: flex;\n  align-items: center;\n  overflow: hidden;\n"]))),k=h.e.div(o||(o=Object(f.a)(["\n  text-align: center;\n"]))),y=h.e.div(a||(a=Object(f.a)(["\n  flex: none;\n  overflow: hidden;\n  transition: width 200ms ease-in-out;\n  width: ",";\n  position: absolute;\n  right: 0;\n"])),(function(t){return t.isStaticsPaneOpen?"384px":0}));e.default=function(){var t=Object(m.m)(),e=Object(v.c)().account,n=Object(g.i)().id,r=(Object(p.b)().t,Object(d.useState)(localStorage.getItem("con_curColor")?localStorage.getItem("con_curColor"):"#ffffff")),o=Object(l.a)(r,2),a=o[0],c=o[1],f=Object(d.useState)(localStorage.getItem("con_curName")?localStorage.getItem("con_curName"):"None selected."),h=Object(l.a)(f,2),T=h[0],N=h[1],H=Object(d.useState)(localStorage.getItem("con_curSpeed")?localStorage.getItem("con_curSpeed"):1),w=Object(l.a)(H,2),M=w[0],_=(w[1],Object(d.useState)(localStorage.getItem("con_curBack")?localStorage.getItem("con_curBack"):0)),G=Object(l.a)(_,2),F=(G[0],G[1],Object(d.useState)({})),C=Object(l.a)(F,2),P=C[0],J=C[1],A=Object(O.a)((function(t){return t.showStatics})),R=function(t){N(t),c(P[t]?P[t]:"#ffffff"),localStorage.setItem("con_curName",t)},D=Object(O.a)((function(t){return t})),U=D.nftHashes,z=D.settingNFTHashes,E=D.userNftHashes,B=D.settingUserNFTHashes,Y=D.schoolNftHashes,q=D.settingSchoolNFTHashes,K=D.myGladiators,L=D.setMyGladiators,Q=D.usersGladiators,V=D.setUsersGladiators,W=D.schoolGladiators,X=D.setSchoolGladiators,Z=function(){var n=Object(s.a)(i.a.mark((function n(){return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,U.length&&E.length&&Y.length){n.next=3;break}return n.delegateYield(i.a.mark((function n(){var r,o,a,c,s,l,f,d,h,g,p,j,b,O,m,v;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=[],o=[],a=[],n.next=5,t.getUserGladiator(e);case 5:c=n.sent,s=0;case 7:if(!(s<c.length)){n.next=17;break}return n.next=10,t.userInfo(e,c[s]._hex.toString());case 10:l=n.sent,r.push(parseInt(c[s]._hex,16)),"user"===l.spot&&o.push(parseInt(c[s]._hex,16)),"school"===l.spot&&a.push(parseInt(c[s]._hex,16));case 14:s++,n.next=7;break;case 17:return n.next=19,Object(S.h)();case 19:if(f=n.sent,d=[],h=[],g=[],f&&0!==f.length){if(!K){for(p=function(t){var e;if(e=f.find((function(e){return e.tokenId==r[t]}))){var n=e.ipfsJson.nft;d.push(Object(u.a)(Object(u.a)({},n),{},{tokenId:e.tokenId}))}},j=0;j<r.length;j++)p(j);L(d)}if(!Q){for(b=function(t){var e;if(e=f.find((function(e){return e.tokenId==o[t]}))){var n=e.ipfsJson.nft;h.push(Object(u.a)(Object(u.a)({},n),{},{tokenId:e.tokenId}))}},O=0;O<o.length;O++)b(O);V(h)}if(!W){for(m=function(t){var e;if(e=f.find((function(e){return e.tokenId==a[t]}))){var n=e.ipfsJson.nft;g.push(Object(u.a)(Object(u.a)({},n),{},{tokenId:e.tokenId}))}},v=0;v<a.length;v++)m(v);X(g)}}X(),z(r),B(o),q(a);case 28:case"end":return n.stop()}}),n)}))(),"t0",3);case 3:n.next=8;break;case 5:n.prev=5,n.t1=n.catch(0),console.log("errrrrrrrrrrrrrooooooooooooorrrrrrrrrrrrrrrr",n.t1);case 8:case"end":return n.stop()}}),n,null,[[0,5]])})));return function(){return n.apply(this,arguments)}}();return Object(d.useEffect)((function(){Z()}),[]),Object(x.jsx)(k,{children:Object(x.jsxs)(I,{children:[Object(x.jsx)(j.a,{curColor:a,setColor:function(t){return function(t){c(t),localStorage.setItem("con_curColor",t);var e=Object(u.a)({},P);e[T]=t,J(e),localStorage.setItem("con_colors",JSON.stringify(P))}(t)},curName:T,setCurName:function(t){return R(t)},curSpeed:M,curBack:n,colors:P,nftHash:U||[]}),Object(x.jsx)(y,{isStaticsPaneOpen:A,children:Object(x.jsx)(b.a,{})})]})})}},878:function(t,e,n){"use strict";var r=n(902),o=n.n(r)()((function(t,e){return{showStatics:!1,updateShowStatics:function(e){t({showStatics:e})},currentStatics:null,updateCurrentStatics:function(e){t({currentStatics:e})},currentHoverModel:null,updateCurrentHoverModel:function(e){t({currentHoverModel:e})},myGladiators:null,setMyGladiators:function(e){t({myGladiators:e})},schoolGladiators:null,setSchoolGladiators:function(e){t({schoolGladiators:e})},usersGladiators:null,setUsersGladiators:function(e){t({usersGladiators:e})},userNftHashes:[],settingUserNFTHashes:function(e){t({userNftHashes:e})},schoolNftHashes:[],settingSchoolNFTHashes:function(e){t({schoolNftHashes:e})},nftHashes:[],settingNFTHashes:function(e){t({nftHashes:e})},totalSupplies:0,setTotalSupplies:function(e){t({totalSupplies:e})}}}));e.a=o},912:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"e",(function(){return a})),n.d(e,"d",(function(){return c})),n.d(e,"a",(function(){return i}));var r={intensity:.55},o={fov:20,position:[40,0,0]},a={decay:2,position:[10,20,15],shadowMapSize:512},c={maxPolarAngle:2*Math.PI,minPolarAngle:0,target:[0,0,0],maxDistance:130,minDistance:10},i=(Math.PI,["/images/gallery/arena1.jpg","/images/gallery/arena2.jpg","/images/gallery/arena3.jpg"])}}]);
//# sourceMappingURL=43.d1759450.chunk.js.map